(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(22),r=a.n(c),n=a(4),d=a(37),l=a(72),i=a(73);const o="PRODUCTS_LIST_REQUEST",j="PRODUCTS_LIST_SUCCESS",b="PRODUCTS_LIST_FAIL",u="PRODUCT_DETAILS_REQUEST",h="PRODUCT_DETAILS_SUCCESS",p="PRODUCT_DETAILS_FAIL",x="CREATE_PRODUCT_REQUEST",O="CREATE_PRODUCT_SUCCESS",m="CREATE_PRODUCT_FAIL",y="CREATE_PRODUCT_RESET",g="UPDATE_PRODUCT_REQUEST",S="UPDATE_PRODUCT_SUCCESS",f="UPDATE_PRODUCT_FAIL",v="UPDATE_PRODUCT_RESET",C="DELETE_PRODUCT_REQUEST",E="DELETE_PRODUCT_SUCCESS",N="DELETE_PRODUCT_FAIL",_="DELETE_PRODUCT_RESET",R="CHECK_TOKEN_VALID_REQUEST",A="CHECK_TOKEN_VALID_SUCCESS",L="CHECK_TOKEN_VALID_FAIL",w="CHECK_TOKEN_VALID_RESET",D="CARD_CREATE_REQUEST",I="CARD_CREATE_SUCCESS",T="CARD_CREATE_FAIL",k="CARD_CREATE_RESET",U="CHARGE_CARD_REQUEST",P="CHARGE_CARD_SUCCESS",G="CHARGE_CARD_FAIL",$="CHARGE_CARD_RESET",F="SAVED_CARDS_LIST_REQUEST",B="SAVED_CARDS_LIST_SUCCESS",V="SAVED_CARDS_LIST_FAIL",z="DELETE_SAVED_CARD_REQUEST",q="DELETE_SAVED_CARD_SUCCESS",H="DELETE_SAVED_CARD_FAIL",M="UPDATE_STRIPE_CARD_REQUEST",Q="UPDATE_STRIPE_CARD_SUCCESS",X="UPDATE_STRIPE_CARD_FAIL",Y="UPDATE_STRIPE_CARD_RESET",W="USER_LOGIN_REQUEST",K="USER_LOGIN_SUCCESS",J="USER_LOGIN_FAIL",Z="USER_LOGOUT",ee="USER_REGISTER_REQUEST",te="USER_REGISTER_SUCCESS",ae="USER_REGISTER_FAIL",se="USER_DETAILS_REQUEST",ce="USER_DETAILS_SUCCESS",re="USER_DETAILS_FAIL",ne="UPDATE_USER_DETAILS_REQUEST",de="UPDATE_USER_DETAILS_SUCCESS",le="UPDATE_USER_DETAILS_FAIL",ie="UPDATE_USER_DETAILS_RESET",oe="DELETE_USER_ACCOUNT_REQUEST",je="DELETE_USER_ACCOUNT_SUCCESS",be="DELETE_USER_ACCOUNT_FAIL",ue="DELETE_USER_ACCOUNT_RESET",he="GET_USER_ALL_ADDRESSES_REQUEST",pe="GET_USER_ALL_ADDRESSES_SUCCESS",xe="GET_USER_ALL_ADDRESSES_FAIL",Oe="GET_SINGLE_ADDRESS_REQUEST",me="GET_SINGLE_ADDRESS_SUCCESS",ye="GET_SINGLE_ADDRESS_FAIL",ge="GET_SINGLE_ADDRESS_RESET",Se="CREATE_USER_ADDRESS_REQUEST",fe="CREATE_USER_ADDRESS_SUCCESS",ve="CREATE_USER_ADDRESS_FAIL",Ce="CREATE_USER_ADDRESS_RESET",Ee="UPDATE_USER_ADDRESS_REQUEST",Ne="UPDATE_USER_ADDRESS_SUCCESS",_e="UPDATE_USER_ADDRESS_FAIL",Re="UPDATE_USER_ADDRESS_RESET",Ae="DELETE_USER_ADDRESS_REQUEST",Le="DELETE_USER_ADDRESS_SUCCESS",we="DELETE_USER_ADDRESS_FAIL",De="DELETE_USER_ADDRESS_RESET",Ie="GET_ALL_ORDERS_REQUEST",Te="GET_ALL_ORDERS_SUCCESS",ke="GET_ALL_ORDERS_FAIL",Ue="CHANGE_DELIVERY_STATUS_REQUEST",Pe="CHANGE_DELIVERY_STATUS_SUCCESS",Ge="CHANGE_DELIVERY_STATUS_FAIL",$e="CHANGE_DELIVERY_STATUS_RESET",Fe="AD_SUBMISSION_REQUEST",Be="AD_SUBMISSION_SUCCESS",Ve="AD_SUBMISSION_FAIL",ze="AD_SUBMISSION_RESET",qe="AD_APPROVAL_REQUEST",He="AD_APPROVAL_SUCCESS",Me="AD_APPROVAL_FAIL",Qe="PENDING_ADS_REQUEST",Xe="PENDING_ADS_SUCCESS",Ye="PENDING_ADS_FAIL",We="ACTIVE_ADS_REQUEST",Ke="ACTIVE_ADS_SUCCESS",Je="ACTIVE_ADS_FAIL",Ze="ORDER_REQUEST_REQUEST",et="ORDER_REQUEST_SUCCESS",tt="ORDER_REQUEST_FAIL",at="ORDER_REQUEST_RESET",st={loading:!1,error:null,success:!1,order:null,lastSubmitted:null};var ct=Object(d.combineReducers)({productsListReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return{...e,loading:!0,products:[],error:""};case j:return{...e,loading:!1,products:t.payload,error:""};case b:return{...e,loading:!1,error:t.payload};default:return e}},productDetailsReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{...e,loading:!0,product:{},error:""};case h:return{...e,loading:!1,product:t.payload,error:""};case p:return{...e,loading:!1,error:t.payload};default:return e}},createProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{...e,loading:!0,product:{},success:!1,error:""};case O:return{...e,loading:!1,success:!0,product:t.payload,error:""};case m:return{...e,loading:!1,success:!1,product:{},error:t.payload};case y:return{...e,loading:!1,success:!1,product:{},error:""};default:return e}},updateProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{...e,loading:!0,product:{},success:!1,error:""};case S:return{...e,loading:!1,success:!0,product:t.payload,error:""};case f:return{...e,loading:!1,success:!1,product:{},error:t.payload};case v:return{...e,loading:!1,success:!1,product:{},error:""};default:return e}},deleteProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{...e,loading:!0,success:!1,error:""};case E:return{...e,loading:!1,success:!0,error:""};case N:return{...e,loading:!1,success:!1,error:t.payload};case _:return{...e,loading:!1,success:!1,error:""};default:return e}},createCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{...e,loading:!0,cardData:{},success:!1,error:""};case I:return{...e,loading:!1,success:!0,cardData:t.payload,error:""};case T:return{...e,loading:!1,cardData:{},success:!1,error:t.payload};case k:return{...e,loading:!1,success:!1,cardData:{},error:""};default:return e}},chargeCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{...e,loading:!0,success:!1,error:""};case P:return{...e,loading:!1,success:!0,error:""};case G:return{...e,loading:!1,success:!1,error:t.payload};case $:return{...e,loading:!1,success:!1,error:""};default:return e}},savedCardsListReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stripeCards:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{...e,loading:!0,success:!1,error:""};case B:return{...e,loading:!1,success:!0,stripeCards:t.payload,error:""};case V:return{...e,loading:!1,success:!1,error:t.payload};default:return e}},updateStripeCardtReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{loading:!0,success:!1,stripeCard:{},error:""};case Q:return{loading:!1,success:!0,stripeCard:t.payload,error:""};case X:return{loading:!1,success:!1,stripeCard:{},error:t.payload};case Y:return{loading:!1,success:!1,stripeCard:{},error:""};default:return e}},deleteSavedCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{...e,loading:!0,error:""};case q:return{...e,loading:!1,success:!0,data:t.payload,error:""};case H:return{...e,loading:!1,error:t.payload};default:return e}},userLoginReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{...e,loading:!0};case K:return{...e,loading:!1,userInfo:t.payload};case J:return{loading:!1,error:t.payload};case Z:return{};default:return e}},userRegisterReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{...e,loading:!0};case te:return{...e,loading:!1,userInfo:t.payload};case ae:return{loading:!1,error:t.payload};case Z:return{};default:return e}},getSingleAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{...e,loading:!0,address:{},success:!1,error:""};case me:return{...e,loading:!1,address:t.payload,success:!0,error:""};case ye:return{...e,loading:!1,address:{},success:!1,error:t.payload};case ge:return{...e,loading:!1,address:{},success:!1,error:""};default:return e}},getAllAddressesOfUserReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{...e,loading:!0,addresses:[],success:!1,error:""};case pe:return{...e,loading:!1,addresses:t.payload,success:!0,error:""};case xe:return{...e,loading:!1,addresses:[],success:!1,error:t.payload};default:return e}},createUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return{...e,loading:!0,address:{},success:!1,error:""};case fe:return{...e,loading:!1,address:t.payload,success:!0,error:""};case ve:return{...e,loading:!1,success:!1,address:{},error:t.payload};case Ce:return{...e,loading:!1,success:!1,address:{},error:""};default:return e}},updateUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{...e,loading:!0,success:!1,error:""};case Ne:return{...e,loading:!1,success:!0,error:""};case _e:return{...e,loading:!1,success:!1,error:t.payload};case Re:return{...e,loading:!1,success:!1,error:""};default:return e}},deleteUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return{...e,loading:!0,success:!1,error:""};case Le:return{...e,loading:!1,success:!0,error:""};case we:return{...e,loading:!1,success:!1,error:t.payload};case De:return{...e,loading:!1,success:!1,error:""};default:return e}},getAllOrdersReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{...e,loading:!0,orders:[],error:""};case Te:return{...e,loading:!1,orders:t.payload,error:""};case ke:return{...e,loading:!1,orders:[],error:t.payload};default:return e}},changeDeliveryStatusReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{...e,loading:!0,success:!1,error:""};case Pe:return{...e,loading:!1,success:!0,error:""};case Ge:return{...e,loading:!1,success:!1,error:t.payload};case $e:return{...e,loading:!1,success:!1,error:""};default:return e}},checkTokenValidationReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{...e,loading:!0,valid:!1,error:""};case A:return{...e,loading:!1,valid:!0,error:""};case L:return{...e,loading:!1,valid:!1,error:t.payload};case w:return{...e,loading:!1,valid:!1,error:""};default:return e}},userDetailsReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{...e,loading:!0,user:{},error:""};case ce:return{...e,loading:!1,user:t.payload,error:""};case re:return{...e,loading:!1,user:{},error:t.payload};default:return e}},userDetailsUpdateReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{...e,loading:!0,user:{},success:!1,error:""};case de:return{...e,loading:!1,success:!0,user:t.payload,error:""};case le:return{...e,loading:!1,success:!1,user:{},error:t.payload};case ie:return{...e,loading:!1,success:!1,user:{},error:""};default:return e}},deleteUserAccountReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{...e,loading:!0,success:!1,error:""};case je:return{...e,loading:!1,success:!0,error:""};case be:return{...e,loading:!1,success:!1,error:t.payload};case ue:return{...e,loading:!1,success:!1,error:""};default:return e}},adSubmission:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,success:!1,ad:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{...e,loading:!0,error:null};case Be:return{...e,loading:!1,success:!0,ad:t.payload};case Ve:return{...e,loading:!1,error:t.payload};case ze:return{loading:!1,error:null,success:!1,ad:null};default:return e}},adApproval:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{loading:!0};case He:return{loading:!1,success:!0};case Me:return{loading:!1,error:t.payload};default:return e}},activeAds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activeAds:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return{loading:!0,activeAds:[]};case Ke:return{loading:!1,activeAds:t.payload};case Je:return{loading:!1,error:t.payload};default:return e}},pendingAds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pendingAds:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return{loading:!0,pendingAds:[]};case Xe:return{loading:!1,pendingAds:t.payload};case Ye:return{loading:!1,error:t.payload};default:return e}},orderRequest:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return{...e,loading:!0,error:null,success:!1};case et:return{...e,loading:!1,success:!0,order:t.payload,lastSubmitted:(new Date).toISOString(),error:null};case tt:return{...e,loading:!1,error:t.payload,success:!1};case at:return st;default:return e}}});const rt=[i.a];let nt={userLoginReducer:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}};var dt=Object(d.createStore)(ct,nt,Object(l.composeWithDevTools)(Object(d.applyMiddleware)(...rt))),lt=a(8),it=a(13),ot=a(10),jt=a.n(ot);const bt="https://fullstack-ecommerce-app-backend-x04s.onrender.com",ut=e=>async t=>{try{t({type:u});const{data:a}=await jt.a.get(`${bt}/api/product/${e}/`);t({type:h,payload:a})}catch(a){t({type:p,payload:a.message})}};var ht=a(116),pt=a(0);var xt=function(e){let{variant:t,children:a}=e;return Object(pt.jsx)(ht.a,{variant:t,children:a})},Ot=a(127),mt=a(117),yt=a(118),gt=a(74);var St=function(e){let{product:t}=e;return Object(pt.jsx)("div",{children:Object(pt.jsx)(Ot.a,{className:"mb-4 rounded",children:Object(pt.jsxs)(Ot.a.Body,{children:[Object(pt.jsx)(lt.Link,{to:`/product/${t.id}`,children:Object(pt.jsx)(Ot.a.Img,{variant:"top",src:t.image,height:"162"})}),Object(pt.jsx)(lt.Link,{to:`/product/${t.id}`,children:Object(pt.jsx)(Ot.a.Title,{as:"div",children:Object(pt.jsx)("strong",{children:t.name})})}),Object(pt.jsxs)(Ot.a.Text,{as:"h3",children:["Tsh ",t.price]})]})})})};var ft=function(){let e=Object(it.k)(),t=e.location.search?e.location.search.split("=")[1].toLowerCase():"";const a=Object(n.b)(),c=Object(n.c)((e=>e.productsListReducer)),{loading:r,error:d,products:l}=c;return Object(s.useEffect)((()=>{a((async e=>{try{e({type:o});const{data:t}=await jt.a.get(`${bt}/api/products/`);e({type:j,payload:t})}catch(d){e({type:b,payload:d.message})}})),a({type:y})}),[a]),Object(pt.jsxs)("div",{children:[Object(pt.jsx)(Ot.a,{className:"mb-4 shadow-sm",style:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",border:"none",borderRadius:"10px"},children:Object(pt.jsxs)(Ot.a.Body,{className:"text-center py-4",children:[Object(pt.jsx)("h2",{style:{color:"#2c3e50",fontWeight:"bold",marginBottom:"1rem"},children:"Want More Customers For Your Products?"}),Object(pt.jsx)("p",{className:"lead mb-4",style:{color:"#34495e",fontSize:"1.25rem"},children:"Advertise with us and reach thousands of potential buyers!"}),Object(pt.jsx)("div",{className:"d-flex justify-content-center",children:Object(pt.jsx)(lt.Link,{to:"/advertise",className:"btn btn-primary btn-lg",style:{padding:"0.75rem 2rem",fontSize:"1.1rem",fontWeight:"600",borderRadius:"50px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.15)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.1)"},children:"Advertise With Us \u2192"})}),Object(pt.jsx)("div",{className:"mt-3 text-muted",children:Object(pt.jsx)("small",{children:"Only Tsh 500 per day or Tsh 5000 per month"})})]})}),d&&Object(pt.jsx)(xt,{variant:"danger",children:d}),r&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Products"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),Object(pt.jsx)("div",{children:Object(pt.jsx)(yt.a,{children:0===l.filter((e=>e.name.toLowerCase().includes(t))).length?Object(pt.jsx)("div",{children:r?"":Object(pt.jsx)(xt,{variant:"info",children:"Nothing to show"})}):l.filter((e=>e.name.toLowerCase().includes(t))).map(((e,t)=>Object(pt.jsx)(gt.a,{sm:12,md:6,lg:4,xl:3,children:Object(pt.jsx)("div",{className:"mx-2",children:Object(pt.jsx)(St,{product:e})})},e.id)))})})]})},vt=a(124),Ct=a(75),Et=a(119);var Nt=function(e){let{history:t,match:a}=e;const c=Object(n.b)(),[r,d]=Object(s.useState)(!1),l=()=>d(!1),i=Object(n.c)((e=>e.productDetailsReducer)),{loading:o,error:j,product:b}=i,u=Object(n.c)((e=>e.userLoginReducer)),{userInfo:h}=u,p=Object(n.c)((e=>e.deleteProductReducer)),{success:x}=p;Object(s.useEffect)((()=>{c(ut(a.params.id)),c({type:v}),c({type:y}),c({type:k})}),[c,a]);const O=()=>{var e;c((e=a.params.id,async(t,a)=>{try{t({type:C});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.delete(`${bt}/api/product-delete/${e}/`,c);t({type:E,payload:r})}catch(j){t({type:N,payload:j.response&&j.response.data.detail?j.response.data.detail:j.message})}})),l()};return x&&(alert("Product successfully deleted."),t.push("/"),c({type:_})),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("div",{children:Object(pt.jsxs)(vt.a,{show:r,onHide:l,children:[Object(pt.jsx)(vt.a.Header,{closeButton:!0,children:Object(pt.jsxs)(vt.a.Title,{children:[Object(pt.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(pt.jsxs)(vt.a.Body,{children:["Are you sure you want to delete this product ",Object(pt.jsxs)("em",{children:['"',b.name,'"']}),"?"]}),Object(pt.jsxs)(vt.a.Footer,{children:[Object(pt.jsx)(Ct.a,{variant:"danger",onClick:()=>O(),children:"Confirm Delete"}),Object(pt.jsx)(Ct.a,{variant:"primary",onClick:l,children:"Cancel"})]})]})}),o&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Product Details"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),j?Object(pt.jsx)(xt,{variant:"danger",children:j}):Object(pt.jsx)("div",{children:Object(pt.jsx)(Et.a,{children:Object(pt.jsxs)(yt.a,{children:[Object(pt.jsxs)(gt.a,{md:6,children:[Object(pt.jsx)(Ot.a.Img,{variant:"top",src:b.image,height:"420"}),h&&h.admin?Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("button",{className:"btn mt-2 btn-danger btn-sm button-focus-css",style:{width:"100%"},onClick:()=>d(!0),children:"Delete Product"}),Object(pt.jsx)("button",{className:"ml-2 mt-2 btn btn-primary btn-sm button-focus-css",onClick:()=>t.push(`/product-update/${b.id}/`),style:{width:"100%"},children:"Edit Product"})]}):""]}),Object(pt.jsxs)(gt.a,{sm:!0,children:[Object(pt.jsx)("b",{children:b.name}),Object(pt.jsx)("hr",{}),Object(pt.jsx)("span",{className:"justify-description-css",children:Object(pt.jsx)("p",{children:b.description})}),Object(pt.jsxs)("span",{style:{display:"flex",justifyContent:"center",border:"1px solid",borderColor:"#C6ACE7",padding:"2px"},children:["Price:",Object(pt.jsxs)("span",{className:"text-success ml-2",children:["Tsh ",b.price]})]})]}),Object(pt.jsxs)(gt.a,{sm:!0,children:[Object(pt.jsx)("b",{children:"Buy"}),Object(pt.jsx)("hr",{}),b.stock?Object(pt.jsx)(lt.Link,{to:`/order-now?product=${b.id}`,className:"btn btn-success ml-2",children:"Order Now"}):Object(pt.jsx)(xt,{variant:"danger",children:"Out Of Stock!"})]})]})})})]})},_t=a(120),Rt=a(125);const At=e=>async(t,a)=>{try{t({type:D});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`,"Card-Number":e.cardNumber}},{data:r}=await jt.a.post("/payments/create-card/",{email:e.email,number:e.cardNumber,exp_month:e.expMonth,exp_year:e.expYear,cvc:e.cvc,save_card:e.saveCard},c);t({type:I,payload:r})}catch(s){t({type:T,payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}},Lt=()=>async(e,t)=>{try{e({type:F});const{userLoginReducer:{userInfo:a}}=t(),s={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:c}=await jt.a.get("/account/stripe-cards/",s);e({type:B,payload:c})}catch(a){e({type:V,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}};var wt=function(e){let{userId:t,deleteCardNumber:a,runCardDeleteHandler:s,toggleRunCardDeleteHandler:c}=e;const r=Object(n.b)(),d=e=>{var t;r((t=e,async(e,a)=>{try{e({type:z});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.post("/payments/delete-card/",{card_number:t},c);e({type:q,payload:r})}catch(s){e({type:H,payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}})),c()};return Object(pt.jsx)("div",{children:Object(pt.jsx)("div",{children:Object(pt.jsxs)(vt.a,{show:s,onHide:c,children:[Object(pt.jsx)(vt.a.Header,{closeButton:!0,children:Object(pt.jsxs)(vt.a.Title,{children:[Object(pt.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(pt.jsxs)(vt.a.Body,{children:[Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Warning!"})," ","deleting your card will delete your stripe account and all its data."]}),'Are you sure you want to delete the card "',a,'"?']}),Object(pt.jsxs)(vt.a.Footer,{children:[Object(pt.jsx)(Ct.a,{variant:"danger",onClick:()=>d(a),children:"Confirm Delete"}),Object(pt.jsx)(Ct.a,{variant:"primary",onClick:c,children:"Cancel"})]})]})})})};let Dt=(new Date).getFullYear();var It=e=>{let{stripeCards:t,addressSelected:a}=e,c=Object(it.k)();const r=Object(n.b)(),[d]=Object(s.useState)(0),[l,i]=Object(s.useState)(!1),[o,j]=Object(s.useState)(!1),[b,u]=Object(s.useState)(!1),[h,p]=Object(s.useState)(0),[x,O]=Object(s.useState)(!1),[m]=Object(s.useState)(""),[y,g]=Object(s.useState)(""),[S,f]=Object(s.useState)(""),[v,C]=Object(s.useState)(""),[E,N]=Object(s.useState)(""),[_,R]=Object(s.useState)(""),[A,L]=Object(s.useState)(!1),w=Object(n.c)((e=>e.userLoginReducer)),{userInfo:D}=w,I=Object(n.c)((e=>e.deleteSavedCardReducer)),{loading:T,success:k,error:U}=I;Object(s.useEffect)((()=>{D||c.push("/login")}),[c,D,k]);const P=e=>{if(b&&e.id===h)return Object(pt.jsxs)("div",{children:[Object(pt.jsx)("button",{onClick:()=>u(!1),className:"btn btn-outline-danger btn-sm button-focus-css",style:{float:"right",position:"relative",top:"-40px"},children:"close"}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Exp Month:"})," ",e.exp_month]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Exp Year:"})," ",e.exp_year]})]})};return k&&(alert("Card successfully deleted."),window.location.reload()),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("div",{children:Object(pt.jsx)(pt.Fragment,{children:Object(pt.jsx)(wt,{userId:d,deleteCardNumber:m,runCardDeleteHandler:l,toggleRunCardDeleteHandler:()=>{i(!l)}})})}),T&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Deleting card"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),U&&Object(pt.jsx)(xt,{variant:"danger",children:U}),Object(pt.jsxs)("div",{className:"card px-4 py-4",children:[Object(pt.jsx)("button",{className:x?"btn btn-sm btn-danger mb-3 button-focus-css":"btn btn-sm btn-primary mb-3 button-focus-css",onClick:()=>O(!x),children:x?"close":"Enter stripe card"}),x?Object(pt.jsxs)(Rt.a,{onSubmit:e=>{if(e.preventDefault(),a){const e={email:""===y?D.email:y,cardNumber:S,expMonth:v?Number(v):"",expYear:E?Number(E):"",cvc:_?Number(_):"",saveCard:A};r(At(e))}else alert("Please select or add your Address to continue")},children:[o?Object(pt.jsxs)(Rt.a.Group,{children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Card Holder Email Address"})}),Object(pt.jsx)(Rt.a.Control,{autoFocus:!0,type:"email",pattern:".+@gmail\\.com",value:y,onChange:e=>g(e.target.value),placeholder:"Email address linked with the Card"})]}):Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Default Customer Email: "}),D.email]}),Object(pt.jsx)("p",{children:Object(pt.jsx)(lt.Link,{to:"#",onClick:()=>{j(!o),g("")},children:o?"Use Your default Email":"Use a different Card"})}),Object(pt.jsxs)(Rt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Card Number"})}),Object(pt.jsx)(Rt.a.Control,{type:"text",pattern:"[0-9]+",value:S,onChange:e=>f(e.target.value),placeholder:"Enter Your Card Number",maxLength:"16",required:!0})]}),Object(pt.jsxs)(yt.a,{children:[Object(pt.jsx)(gt.a,{children:Object(pt.jsxs)(Rt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Exp Month"})}),Object(pt.jsxs)("select",{className:"form-control",defaultValue:v,onChange:e=>C(e.target.value),required:!0,children:[Object(pt.jsx)("option",{children:"-- --"}),Array.from({length:12},((e,t)=>Object(pt.jsx)("option",{children:t+1},t)))]})]})}),Object(pt.jsx)(gt.a,{children:Object(pt.jsxs)(Rt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Exp Year"})}),Object(pt.jsxs)("select",{className:"form-control",defaultValue:E,onChange:e=>N(e.target.value),required:!0,children:[Object(pt.jsx)("option",{children:"-- --"}),Array.from({length:21},((e,t)=>Object(pt.jsx)("option",{children:Dt+t},t)))]})]})}),Object(pt.jsx)(gt.a,{children:Object(pt.jsxs)(Rt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"CVC Number"})}),Object(pt.jsx)(Rt.a.Control,{type:"numbers",onChange:e=>R(e.target.value),placeholder:"123",maxLength:"3",pattern:"[0-9]+",required:!0})]})})]}),Object(pt.jsx)(Rt.a.Text,{className:"text-muted pb-2",children:Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("input",{hidden:o,type:"checkbox",className:"mt-1",value:!o&&A,onChange:()=>L(!A)}),Object(pt.jsx)("span",{hidden:o,className:"ml-1",children:"Save my card for future payments"})]})}),Object(pt.jsx)(Ct.a,{className:"btn-sm button-focus-css",variant:"primary",type:"submit",children:"Submit"})]}):""]}),Object(pt.jsxs)("div",{className:"my-4 card px-4 py-4",children:[Object(pt.jsx)("h5",{children:"Saved card"}),t.length>0?t.map((e=>Object(pt.jsxs)("div",{children:[Object(pt.jsxs)(Ot.a,{style:{border:"1px solid",borderColor:"#C6ACE7"},className:"p-2",children:[Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Card Number:"})," XXXX XXXX XXXX ",e.card_number.slice(12,18)]}),Object(pt.jsxs)("div",{children:[P(e),Object(pt.jsx)("button",{onClick:()=>{u(!0),p(e.id)},className:"btn btn-sm btn-outline-primary button-focus-css",children:"Show Card Details"}),Object(pt.jsx)("button",{onClick:()=>(e=>{if(a){const t={email:e.email,cardNumber:e.card_number,expMonth:Number(e.exp_month),expYear:Number(e.exp_year),cvc:Number(e.cvc),saveCard:!1};r(At(t))}else alert("Please select or add your Address to continue")})(e),className:"ml-2 btn btn-sm btn-outline-primary button-focus-css",children:"Pay with this Card"})]})]}),Object(pt.jsx)("span",{onClick:()=>c.push("/stripe-card-details/"),children:Object(pt.jsx)("i",{title:"edit card",className:"fas fa-edit fa-lg edit-button-css mr-2"})})]},e.id))):"No saved card."]})]})};const Tt="https://fullstack-ecommerce-app-backend-x04s.onrender.com",kt=()=>e=>{localStorage.removeItem("userInfo"),e({type:Z}),e({type:k})},Ut=()=>async(e,t)=>{try{e({type:R});const{userLoginReducer:{userInfo:a}}=t(),s={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:c}=await jt.a.get(`${Tt}/payments/check-token/`,s);e({type:A,payload:c})}catch(a){e({type:L,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}},Pt=e=>async(t,a)=>{try{t({type:se});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.get(`${Tt}/account/user/${e}`,c);t({type:ce,payload:r})}catch(s){t({type:re,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}},Gt=()=>async(e,t)=>{try{e({type:he});const{userLoginReducer:{userInfo:a}}=t(),s={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:c}=await jt.a.get(`${Tt}/account/all-address-details/`,s);e({type:pe,payload:c})}catch(a){e({type:xe,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}},$t=e=>async(t,a)=>{try{t({type:Oe});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.get(`${Tt}/account/address-details/${e}/`,c);t({type:me,payload:r})}catch(s){t({type:ye,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}},Ft=()=>async(e,t)=>{try{e({type:Ie});const{userLoginReducer:{userInfo:a}}=t(),s={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:c}=await jt.a.get(`${Tt}/account/all-orders-list/`,s);e({type:Te,payload:c})}catch(a){e({type:ke,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}};var Bt=e=>{let{product:t,match:a,selectedAddressId:c,addressSelected:r}=e,d=Object(it.k)();const l=Object(n.b)(),i=Object(n.c)((e=>e.createCardReducer)),{cardData:o}=i,j=Object(n.c)((e=>e.chargeCardReducer)),{success:b,error:u,loading:h}=j,p=Object(n.c)((e=>e.getSingleAddressReducer)),{address:x}=p;Object(s.useEffect)((()=>{l($t(c))}),[l,a,c]);return b&&(d.push({pathname:"/payment-status/",state:{detail:t}}),window.location.reload()),Object(pt.jsxs)("div",{children:[u?Object(pt.jsx)(xt,{variant:"danger",children:u}):"",Object(pt.jsx)("span",{className:"text-info",children:Object(pt.jsx)("h5",{children:"Confirm payment"})}),Object(pt.jsxs)("div",{className:"mb-2",children:["Using Card: XXXX XXXX XXXX ",o.card_data.last4]}),Object(pt.jsx)(Rt.a,{onSubmit:e=>{e.preventDefault();const a=`${x.house_no}, near ${x.landmark}, ${x.city}, \n        ${x.state}, ${x.pin_code}`,s={email:o.email,source:o.id,amount:t.price,name:x.name,card_number:o.card_data.last4,address:a,ordered_item:t.name,paid_status:!0,total_price:t.price,is_delivered:!1,delivered_at:"Not Delivered"};l((e=>async(t,a)=>{try{t({type:U});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.post("/payments/charge-customer/",e,c);t({type:P,payload:r})}catch(s){t({type:G,payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}})(s))},children:h?Object(pt.jsxs)(Ct.a,{variant:"primary",disabled:!0,style:{width:"100%"},children:[Object(pt.jsx)(mt.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," ","Processing Payment..."]}):Object(pt.jsxs)(Ct.a,{variant:"primary",type:"submit",style:{width:"100%"},children:["Pay \u20b9",t.price]})}),Object(pt.jsx)(Ot.a,{className:"p-2 mt-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:x?Object(pt.jsxs)("div",{children:[Object(pt.jsx)("span",{className:"text-info",children:Object(pt.jsx)("b",{children:Object(pt.jsx)("em",{children:"Will be delievered at this address"})})}),Object(pt.jsx)("p",{}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Name: "}),x?x.name:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Phone Number: "}),x?x.phone_number:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"House Number: "}),x?x.house_no:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Landmark: "}),x?x.landmark:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"City: "}),x?x.city:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"State: "}),x?x.state:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Pin Code/Zip Code: "}),x?x.pin_code:""]})]}):""}),Object(pt.jsx)(lt.Link,{to:"#",onClick:()=>window.location.reload(),children:"Select a different card to pay"})]})};var Vt=function(e){let{handleAddressId:t}=e,a=Object(it.k)();const c=Object(n.b)(),r=Object(n.c)((e=>e.userLoginReducer)),{userInfo:d}=r,l=Object(n.c)((e=>e.getAllAddressesOfUserReducer)),{addresses:i}=l;return Object(s.useEffect)((()=>{d?c(Gt()):a.push("/login")}),[c,a,d]),Object(pt.jsx)("div",{children:i?i.map(((e,a)=>Object(pt.jsx)("div",{children:Object(pt.jsxs)(Ot.a,{className:"p-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:[Object(pt.jsx)("input",{type:"radio",name:"addressId",value:0,onClick:()=>{return a=e.id,void t(a);var a}}),Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Name: "}),e.name]}),Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Address: "}),e.house_no,", ",e.landmark,", ",e.city,",",e.state,", ",e.pin_code]})]},e.id)},a))):"empty"})};var zt=e=>{let{match:t}=e,a=Object(it.k)();const c=Object(n.b)(),[r,d]=Object(s.useState)(!1),[l,i]=Object(s.useState)(0),o=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:j}=o,b=Object(n.c)((e=>e.productDetailsReducer)),{loading:u,error:h,product:p}=b,x=Object(n.c)((e=>e.createCardReducer)),{error:O,success:m,loading:y}=x,g=Object(n.c)((e=>e.userLoginReducer)),{userInfo:S}=g,f=Object(n.c)((e=>e.savedCardsListReducer)),{stripeCards:v}=f;return Object(s.useEffect)((()=>{S?(c(Ut()),c(ut(t.params.id)),c(Lt()),c({type:$})):a.push("/login")}),[c,t,a,m,S]),S&&"Request failed with status code 401"===j&&(alert("Session expired, please login again."),c(kt()),a.push("/login"),window.location.reload()),Object(pt.jsxs)("div",{children:[O?Object(pt.jsx)(xt,{variant:"danger",children:O}):"",u&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Checkout Info"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),!u&&y?Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Checking your card"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}):"",h?Object(pt.jsx)(xt,{variant:"danger",children:h}):Object(pt.jsx)(Et.a,{children:Object(pt.jsxs)(yt.a,{children:[Object(pt.jsxs)(gt.a,{xs:6,children:[Object(pt.jsx)("h3",{children:"Checkout Summary"}),Object(pt.jsx)(Ot.a,{className:"mb-4",children:Object(pt.jsx)(Ot.a.Body,{children:Object(pt.jsx)(Et.a,{children:Object(pt.jsxs)(yt.a,{children:[Object(pt.jsx)(gt.a,{children:Object(pt.jsx)(_t.a,{src:p.image,alt:"image",height:"180"})}),Object(pt.jsxs)(gt.a,{children:[Object(pt.jsx)("h5",{className:"card-title text-capitalize",children:p.name}),Object(pt.jsxs)("span",{className:"card-text text-success",children:["\u20b9 ",p.price]})]})]})})})}),Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h3",{children:"Billing Address"}),Object(pt.jsx)(lt.Link,{className:"ml-2 mt-2",to:"/all-addresses/",children:"Edit/Add Address"})]}),Object(pt.jsx)(Vt,{handleAddressId:e=>{e&&d(!0),i(e)}})]}),Object(pt.jsxs)(gt.a,{xs:6,children:[Object(pt.jsx)("h3",{children:"Payments Section"}),m?Object(pt.jsx)(Bt,{selectedAddressId:l,addressSelected:r,product:p}):Object(pt.jsx)(It,{addressSelected:r,stripeCards:v})]})]})})]})},qt=a(126),Ht=a(128),Mt=a(123),Qt=a(21);var Xt=function(){let e=Object(it.k)();const[t,a]=Object(s.useState)("");return Object(pt.jsx)("div",{children:Object(pt.jsx)("form",{onSubmit:a=>{a.preventDefault(),t&&e.push(`/?searchTerm=${t}`)},children:Object(pt.jsxs)("span",{style:{display:"flex"},className:"",children:[Object(pt.jsx)("input",{type:"text",value:t,placeholder:"search products",className:"form-control",onChange:e=>a(e.target.value)}),Object(pt.jsx)("button",{type:"submit",className:"btn btn-primary ml-2 button-focus-css",children:Object(pt.jsx)("i",{className:"fas fa-search"})})]})})})},Yt=a.p+"static/media/logo.b76b78ec.jpeg";var Wt=function(){let e=Object(it.k)();const t=Object(n.b)(),a=Object(n.c)((e=>e.userLoginReducer)),{userInfo:s}=a;return Object(pt.jsx)("header",{children:Object(pt.jsx)(qt.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(pt.jsxs)(Et.a,{children:[Object(pt.jsx)(Qt.LinkContainer,{to:"/",children:Object(pt.jsxs)(qt.a.Brand,{children:[Object(pt.jsx)("img",{src:Yt,alt:"Logo",style:{width:"40px",height:"40px",marginRight:"10px"}}),"Home"]})}),Object(pt.jsx)(qt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(pt.jsxs)(qt.a.Collapse,{id:"basic-navbar-nav",children:[Object(pt.jsxs)(Ht.a,{className:"mr-auto",children:[Object(pt.jsx)(Qt.LinkContainer,{to:"/",children:Object(pt.jsx)(Ht.a.Link,{children:"All Products"})}),Object(pt.jsx)(Qt.LinkContainer,{to:"/advertise",children:Object(pt.jsx)(Ht.a.Link,{children:"Advertise"})}),Object(pt.jsx)(Qt.LinkContainer,{to:"/help",children:Object(pt.jsx)(Ht.a.Link,{children:"Help"})}),Object(pt.jsx)(Qt.LinkContainer,{to:"/about",children:Object(pt.jsx)(Ht.a.Link,{children:"About Us"})}),s&&s.admin?Object(pt.jsx)(Qt.LinkContainer,{to:"/new-product/",children:Object(pt.jsx)(Ht.a.Link,{children:"Add Product"})}):"",s&&s.isAdmin&&Object(pt.jsx)(Qt.LinkContainer,{to:"/ad-approval",children:Object(pt.jsx)(Ht.a.Link,{children:"Approve Ads"})}),Object(pt.jsx)("span",{className:"",children:Object(pt.jsx)(Xt,{})})]}),s?Object(pt.jsx)("div",{children:Object(pt.jsxs)(Mt.a,{className:"navbar-nav text-capitalize",title:s.username,id:"username",children:[Object(pt.jsx)(Qt.LinkContainer,{to:"/account",children:Object(pt.jsx)(Mt.a.Item,{children:"Account Settings"})}),Object(pt.jsx)(Qt.LinkContainer,{to:"/all-addresses/",children:Object(pt.jsx)(Mt.a.Item,{children:"Address Settings"})}),Object(pt.jsx)(Qt.LinkContainer,{to:"/stripe-card-details/",children:Object(pt.jsx)(Mt.a.Item,{children:"Card Settings"})}),Object(pt.jsx)(Qt.LinkContainer,{to:"/all-orders/",children:Object(pt.jsx)(Mt.a.Item,{children:"All Orders"})}),Object(pt.jsx)(Mt.a.Item,{onClick:()=>{t(kt()),e.push("/login"),window.location.reload()},children:"Logout"})]})}):Object(pt.jsx)(Qt.LinkContainer,{to:"/login",children:Object(pt.jsxs)(Ht.a.Link,{children:[Object(pt.jsx)("i",{className:"fas fa-user"})," Login"]})})]})]})})})};var Kt=()=>{const e=Object(it.l)();return(()=>{try{const t=e.state.detail;return Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h3",{className:"text-success",children:"Payment was Successfull"}),Object(pt.jsxs)(Ot.a,{className:"p-3",children:["Successfully bought",Object(pt.jsx)("br",{}),Object(pt.jsxs)("span",{className:"mb-2",style:{display:"flex"},children:[t.name,", \u20b9",t.price," ",Object(pt.jsx)("i",{className:"text-primary ml-1 mt-1 fas fa-check-circle"})]}),Object(pt.jsx)(lt.Link,{to:"/all-orders/",children:"Go to orders page"})]})]})}catch(t){return Object(pt.jsx)(xt,{variant:"info",children:"Payment status not available."})}})()};var Jt=function(e){let{history:t}=e;const[a,c]=Object(s.useState)(""),[r,d]=Object(s.useState)(""),l=Object(n.b)(),i=Object(n.c)((e=>e.userLoginReducer)),{error:o,userInfo:j}=i;return Object(s.useEffect)((()=>{j&&t.push("/")}),[t,j]),Object(pt.jsx)("div",{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(gt.a,{xs:12,md:6,children:[Object(pt.jsx)("h1",{children:"Sign In"}),o&&Object(pt.jsx)(xt,{variant:"danger",children:o}),Object(pt.jsxs)(Rt.a,{onSubmit:e=>{e.preventDefault(),l(((e,t)=>async a=>{try{a({type:W});const s={headers:{"Content-type":"application/json"}},{data:c}=await jt.a.post(`${Tt}/account/login/`,{username:e,password:t},s);a({type:K,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c))}catch(o){a({type:J,payload:o.response&&o.response.data.detail?o.response.data.detail:o.message})}})(a,r))},children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"username",children:[Object(pt.jsx)(Rt.a.Label,{children:"Username"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"enter username",value:a,onChange:e=>c(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"password",children:[Object(pt.jsx)(Rt.a.Label,{children:"Password"}),Object(pt.jsx)(Rt.a.Control,{type:"password",placeholder:"enter your password",value:r,onChange:e=>d(e.target.value)})]}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(pt.jsx)(yt.a,{className:"py-3",children:Object(pt.jsxs)(gt.a,{children:["Do not have an account?",Object(pt.jsx)(lt.Link,{to:"/register",children:" Register"})]})})]})})})};var Zt=function(e){let{history:t,variant:a}=e;const[c,r]=Object(s.useState)(""),[d,l]=Object(s.useState)(""),[i,o]=Object(s.useState)(""),[j,b]=Object(s.useState)(""),[u,h]=Object(s.useState)(""),p=Object(n.b)(),x=Object(n.c)((e=>e.userRegisterReducer)),{error:O,userInfo:m}=x;return Object(s.useEffect)((()=>{m&&t.push("/")}),[t,m]),Object(pt.jsx)("div",{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(gt.a,{xs:12,md:6,children:[Object(pt.jsx)("h1",{children:"Sign Up"}),u&&Object(pt.jsx)(xt,{variant:"danger",children:u}),O&&Object(pt.jsx)(xt,{variant:"danger",children:O}),Object(pt.jsxs)(Rt.a,{onSubmit:e=>{e.preventDefault(),i!==j?h("Passwords do not match!"):p(((e,t,a)=>async s=>{try{s({type:ee});const c={headers:{"Content-type":"application/json"}},{data:r}=await jt.a.post(`${Tt}/account/register/`,{username:e,email:t,password:a},c);s({type:te,payload:r}),s({type:K,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(O){s({type:ae,payload:O.response&&O.response.data.detail?O.response.data.detail:O.message})}})(c,d,i))},children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Rt.a.Label,{children:"Username"}),Object(pt.jsx)(Rt.a.Control,{required:!0,type:"text",placeholder:"enter your username",value:c,onChange:e=>r(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"email",children:[Object(pt.jsx)(Rt.a.Label,{children:"Email Address"}),Object(pt.jsx)(Rt.a.Control,{required:!0,type:"email",placeholder:"enter your email",value:d,onChange:e=>l(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"password",children:[Object(pt.jsx)(Rt.a.Label,{children:"Password"}),Object(pt.jsx)(Rt.a.Control,{required:!0,type:"password",placeholder:"enter your password",value:i,onChange:e=>o(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"passwordConfirm",children:[Object(pt.jsx)(Rt.a.Label,{children:"Confirm Password"}),Object(pt.jsx)(Rt.a.Control,{required:!0,type:"password",placeholder:"confirm your password",value:j,onChange:e=>b(e.target.value)})]}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"primary",children:"Sign Up"})]}),Object(pt.jsx)(yt.a,{className:"py-3",children:Object(pt.jsxs)(gt.a,{children:["Already have an account?",Object(pt.jsx)(lt.Link,{to:"/login",children:" Login"})]})})]})})})};var ea=()=>{let e=Object(it.k)();const t=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:a}=t,c=Object(n.b)(),[r,d]=Object(s.useState)(""),[l,i]=Object(s.useState)(""),[o,j]=Object(s.useState)(""),[b,u]=Object(s.useState)(""),[h,p]=Object(s.useState)(""),[x,O]=Object(s.useState)(""),[m,y]=Object(s.useState)(""),[g,S]=Object(s.useState)(""),[f,v]=Object(s.useState)(""),[C,E]=Object(s.useState)(""),N=Object(n.c)((e=>e.userLoginReducer)),{userInfo:_}=N,R=Object(n.c)((e=>e.savedCardsListReducer)),{stripeCards:A,loading:L}=R,w=Object(n.c)((e=>e.updateStripeCardtReducer)),{success:D}=w;Object(s.useEffect)((()=>{_?(c(Ut()),c(Lt())):e.push("/login")}),[c,e,_,D]),_&&"Request failed with status code 401"===a&&(alert("Session expired, please login again."),c(kt()),e.push("/login"),window.location.reload());const I=e=>{if(e.preventDefault(),f&&C){c((t={card_number:r,customer_id:f,card_id:C,exp_month:o,exp_year:b,name_on_card:l,address_city:h,address_country:x,address_state:m,address_zip:g},async(e,a)=>{try{e({type:M});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.post("/payments/update-card/",t,c);e({type:Q,payload:r})}catch(s){e({type:X,payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}}))}var t};return D&&(alert("Card Successfully Updated"),e.push("/stripe-card-details"),c({type:Y})),Object(pt.jsx)("div",{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(gt.a,{xs:12,md:6,children:[Object(pt.jsx)("span",{className:"d-flex justify-content-center",style:{display:"flex",marginBottom:"15px",color:"#008080"},children:Object(pt.jsx)("em",{children:"Update Card Details"})}),L&&Object(pt.jsx)(mt.a,{animation:"border"}),A.map(((t,a)=>Object(pt.jsx)("div",{children:Object(pt.jsx)(Ot.a,{className:"p-4 mb-4",style:{border:"1px solid",borderColor:"#C6ACE7"},children:Object(pt.jsxs)(Rt.a,{onSubmit:I,children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Rt.a.Label,{children:"Name on Card"}),Object(pt.jsx)(Rt.a.Control,{autoFocus:!0,type:"text",defaultValue:t.name_on_card,placeholder:"full name",onChange:e=>i(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"month",children:[Object(pt.jsx)(Rt.a.Label,{children:"Exp Month"}),Object(pt.jsx)(Rt.a.Control,{type:"text",pattern:"[0-9]+",maxLength:"2",defaultValue:t.exp_month,placeholder:"exp month",onChange:e=>j(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"year",children:[Object(pt.jsx)(Rt.a.Label,{children:"Exp Year"}),Object(pt.jsx)(Rt.a.Control,{type:"text",pattern:"[0-9]+",defaultValue:t.exp_year,placeholder:"exp year",maxLength:"4",onChange:e=>u(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"city",children:[Object(pt.jsx)(Rt.a.Label,{children:"Address City"}),Object(pt.jsx)(Rt.a.Control,{type:"text",defaultValue:t.address_city,placeholder:"address city",onChange:e=>p(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"country",children:[Object(pt.jsx)(Rt.a.Label,{children:"Address Country"}),Object(pt.jsx)(Rt.a.Control,{type:"text",defaultValue:t.address_country,placeholder:"address country",onChange:e=>O(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"state",children:[Object(pt.jsx)(Rt.a.Label,{children:"Address State"}),Object(pt.jsx)(Rt.a.Control,{type:"text",defaultValue:t.address_state,placeholder:"address state",onChange:e=>y(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"zip",children:[Object(pt.jsx)(Rt.a.Label,{children:"Address Zip"}),Object(pt.jsx)(Rt.a.Control,{type:"text",defaultValue:t.address_zip,placeholder:"address zip",pattern:"[0-9]+",maxLength:"6",onChange:e=>S(e.target.value)})]}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"success",onClick:()=>{return e=t.customer_id,a=t.card_id,s=t.card_number,v(e),E(a),void d(s);var e,a,s},style:{width:"100%"},className:"btn-sm button-focus-css",children:"Save Changes"}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"primary",onClick:()=>e.push("/stripe-card-details/"),style:{width:"100%"},className:"btn-sm mt-2 button-focus-css",children:"Cancel"})]})})},a)))]})})})};var ta=()=>{let e=Object(it.k)();const t=Object(n.b)(),[a,c]=Object(s.useState)(0),[r,d]=Object(s.useState)(!1),[l,i]=Object(s.useState)(""),o=Object(n.c)((e=>e.userLoginReducer)),{userInfo:j}=o,b=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:u}=b,h=Object(n.c)((e=>e.savedCardsListReducer)),{stripeCards:p,loading:x}=h,O=Object(n.c)((e=>e.deleteSavedCardReducer)),{success:m}=O;return Object(s.useEffect)((()=>{j?(t(Ut()),t(Lt())):e.push("/login")}),[t,e,j]),j&&"Request failed with status code 401"===u&&(alert("Session expired, please login again."),t(kt()),e.push("/login"),window.location.reload()),m&&(alert("Card successfully deleted."),window.location.reload()),Object(pt.jsxs)("div",{children:[x&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Card Information"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),Object(pt.jsx)("div",{children:Object(pt.jsx)(pt.Fragment,{children:Object(pt.jsx)(wt,{userId:a,deleteCardNumber:l,runCardDeleteHandler:r,toggleRunCardDeleteHandler:()=>{d(!r)}})})}),p.length>0?p.map(((e,t)=>Object(pt.jsxs)("div",{children:[Object(pt.jsxs)(Et.a,{children:[Object(pt.jsxs)(yt.a,{className:"mr-6 mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Name on Card:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:e.name_on_card?Object(pt.jsx)("span",{children:e.name_on_card}):"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Exp Month:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:e.exp_month?e.exp_month:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Exp Year:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:e.exp_year?e.exp_year:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mr-6 mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Address City:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:e.address_city?e.address_city:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Address Country:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:e.address_country?e.address_country:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Address State:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:e.address_state?e.address_state:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Address Zip:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:e.address_zip?e.address_zip:"Not Set"})]})]}),Object(pt.jsxs)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(pt.jsx)(lt.Link,{to:"/stripe-card-update/",children:"Update Card details"}),Object(pt.jsx)("span",{className:"ml-1 text-primary",children:"| "}),Object(pt.jsx)("span",{className:"ml-1"}),Object(pt.jsx)(lt.Link,{to:"#",onClick:()=>{i(e.card_number),c(e.user),d(!r)},children:"Delete Card"})]})]},t))):Object(pt.jsx)("div",{children:Object(pt.jsx)(xt,{variant:"info",children:"Card details not available."})})]})};var aa=function(){let e=Object(it.k)();const t=Object(n.b)(),a=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:c}=a,r=Object(n.c)((e=>e.userLoginReducer)),{userInfo:d}=r,l=Object(n.c)((e=>e.userDetailsReducer)),{user:i,loading:o}=l;Object(s.useEffect)((()=>{if(d)try{t(Ut()),t(Pt(d.id))}catch(a){e.push("/")}else e.push("/login")}),[e,d,t]);const j=()=>{t(kt())};return d&&"Request failed with status code 401"===c&&(alert("Session expired, please login again."),t(kt()),e.push("/login"),window.location.reload()),(()=>{try{return Object(pt.jsxs)("div",{children:[o&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting User Information"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),Object(pt.jsxs)(Et.a,{children:[Object(pt.jsxs)(yt.a,{className:"mr-6 mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Name:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:i.username})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Email:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:i.email})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(gt.a,{xs:2,className:"p-3 bg-info text-white",children:"Admin Privileges:"}),Object(pt.jsx)(gt.a,{className:"p-3",children:i.admin?"Yes":"No"})]})]}),Object(pt.jsxs)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(pt.jsx)(lt.Link,{to:"/account/update",children:"Update Account details"}),Object(pt.jsx)("span",{className:"ml-1 text-primary",children:"| "}),Object(pt.jsx)("span",{className:"ml-1"}),Object(pt.jsx)(lt.Link,{to:"/account/delete/",children:"Delete Account"})]})]})}catch(e){return Object(pt.jsxs)(xt,{variant:"danger",children:["Something went wrong, go back to ",Object(pt.jsx)(lt.Link,{onClick:j,to:"/login",children:" Login"})," page."]})}})()};var sa=function(){let e=Object(it.k)();const t=Object(n.b)(),a=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:c}=a,[r,d]=Object(s.useState)(""),[l,i]=Object(s.useState)(""),[o,j]=Object(s.useState)(""),[b,u]=Object(s.useState)(""),h=Object(n.c)((e=>e.userLoginReducer)),{userInfo:p}=h,x=Object(n.c)((e=>e.userDetailsReducer)),{user:O,loading:m}=x,y=Object(n.c)((e=>e.userDetailsUpdateReducer)),{success:g}=y;Object(s.useEffect)((()=>{p||e.push("/login"),t(Ut()),t(Pt(p.id))}),[t,e,p]),p&&"Request failed with status code 401"===c&&(alert("Session expired, please login again."),t(kt()),e.push("/login"),window.location.reload());const S=e=>{e.preventDefault();const a=""===r?O.username:r,s=""===l?O.email:l;if(o!==b)alert("Passwords do not match");else{t((e=>async(t,a)=>{try{t({type:ne});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.put(`${Tt}/account/user_update/${s.id}/`,{username:e.username,email:e.email,password:e.password},c);t({type:de,payload:r})}catch(s){t({type:le,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}})({username:a,email:s,password:o}))}},f=()=>{e.push("/login"),t(kt())};return g&&(alert("Account successfully updated."),t({type:ie}),e.push("/account/"),t(Pt(p.id))),(()=>{try{return Object(pt.jsx)("div",{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(gt.a,{xs:12,md:6,children:[Object(pt.jsx)("span",{className:"d-flex justify-content-center",style:{display:"flex",marginBottom:"15px",color:"#008080"},children:Object(pt.jsx)("em",{children:"Update User Details"})}),m&&Object(pt.jsx)(mt.a,{animation:"border"}),Object(pt.jsxs)(Rt.a,{onSubmit:S,children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"username",children:[Object(pt.jsx)(Rt.a.Label,{children:"Username"}),Object(pt.jsx)(Rt.a.Control,{autoFocus:!0,type:"text",defaultValue:O.username,placeholder:"username",onChange:e=>d(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"email",children:[Object(pt.jsx)(Rt.a.Label,{children:"Email Address"}),Object(pt.jsx)(Rt.a.Control,{type:"email",placeholder:"enter email",defaultValue:O.email,onChange:e=>i(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"password",children:[Object(pt.jsx)(Rt.a.Label,{children:"Reset-Password"}),Object(pt.jsx)(Rt.a.Control,{type:"password",placeholder:"enter new password",onChange:e=>j(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"confirmPassword",children:[Object(pt.jsx)(Rt.a.Label,{children:"Confirm Password"}),Object(pt.jsx)(Rt.a.Control,{type:"password",placeholder:"confirm new password",onChange:e=>u(e.target.value)})]}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"success",className:"btn-sm",children:"Save Changes"}),Object(pt.jsx)(lt.Link,{to:"/account",children:Object(pt.jsx)("button",{className:"btn btn-primary btn-sm ml-2",type:"button",children:"Cancel"})})]})]})})})}catch(e){return Object(pt.jsxs)(xt,{variant:"danger",children:["Something went wrong, go back to ",Object(pt.jsx)(lt.Link,{onClick:f,to:"/login",children:" Login"})," page."]})}})()};var ca=function(){let e=Object(it.k)();const t=Object(n.b)(),[a,c]=Object(s.useState)(""),r=Object(n.c)((e=>e.userLoginReducer)),{userInfo:d}=r,l=Object(n.c)((e=>e.deleteUserAccountReducer)),{success:i,loading:o,error:j}=l;return i&&(alert("Account successfully deleted."),t({type:ue}),t(kt()),e.push("/login"),window.location.reload()),Object(pt.jsx)("div",{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(gt.a,{xs:12,md:6,children:[Object(pt.jsx)("h3",{children:"Confirm your password to delete your account."}),o&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Please wait"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),j&&Object(pt.jsx)(xt,{variant:"danger",children:"Incorrect Password!"}),Object(pt.jsx)("div",{className:"mt-4",children:Object(pt.jsxs)(Rt.a,{onSubmit:e=>{e.preventDefault();const s={id:d.id,password:a};t(Ut()),t((e=>async(t,a)=>{try{t({type:oe});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.post(`${Tt}/account/user_delete/${e.id}/`,{password:e.password},c);t({type:je,payload:r})}catch(j){t({type:be,payload:j.response&&j.response.data.details?j.response.data.details:j.message})}})(s))},children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"password",children:[Object(pt.jsx)(Rt.a.Label,{children:"Password"}),Object(pt.jsx)(Rt.a.Control,{required:!0,type:"password",placeholder:"enter your password",value:a,onChange:e=>c(e.target.value)})]}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"danger",children:"Confirm Delete"})]})})]})})})},ra=a(121);var na=e=>{let{toggleCreateAddress:t}=e;const a=Object(n.b)(),[c,r]=Object(s.useState)(""),[d,l]=Object(s.useState)(""),[i,o]=Object(s.useState)(""),[j,b]=Object(s.useState)(""),[u,h]=Object(s.useState)(""),[p,x]=Object(s.useState)(""),[O,m]=Object(s.useState)(""),y=Object(n.c)((e=>e.createUserAddressReducer)),{success:g,error:S}=y;return g&&(alert("Address successfully created."),t(),a({type:Ce}),a(Gt())),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("p",{className:"text-center text-info",children:Object(pt.jsx)("em",{children:"New Address"})}),S?Object(pt.jsx)(xt,{variant:"danger",children:S}):"",Object(pt.jsx)(Ot.a,{className:"mx-auto mb-4",style:{width:"50%",border:"1px solid",borderColor:"#C6ACE7"},children:Object(pt.jsx)(Ot.a.Body,{children:Object(pt.jsxs)(Rt.a,{onSubmit:e=>{e.preventDefault();a((e=>async(t,a)=>{try{t({type:Se});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.post(`${Tt}/account/create-address/`,e,c);t({type:fe,payload:r})}catch(s){t({type:ve,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}})({name:c,phone_number:d,pin_code:i,house_no:j,landmark:u,city:p,state:O}))},children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Rt.a.Label,{children:"Name"}),Object(pt.jsx)(Rt.a.Control,{autoFocus:!0,type:"text",placeholder:"enter your name",value:c,onChange:e=>r(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"phoneNumber",children:[Object(pt.jsx)(Rt.a.Label,{children:"Phone Number"}),Object(pt.jsxs)(ra.a,{children:[Object(pt.jsx)(ra.a.Text,{children:"+91"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"phone number",pattern:"[0-9]+",maxLength:"10",value:d,onChange:e=>l(e.target.value)})]})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"pinCode",children:[Object(pt.jsx)(Rt.a.Label,{children:"Pin Code"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"pin code",value:i,pattern:"[0-9]+",maxLength:"6",onChange:e=>o(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"houseNumber",children:[Object(pt.jsx)(Rt.a.Label,{children:"House No./Address"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"house number",value:j,onChange:e=>b(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"landmark",children:[Object(pt.jsx)(Rt.a.Label,{children:"Landmark"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"landmark",value:u,onChange:e=>h(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"city",children:[Object(pt.jsx)(Rt.a.Label,{children:"City"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"city",value:p,onChange:e=>x(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"state",children:[Object(pt.jsx)(Rt.a.Label,{children:"State"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"state",value:O,onChange:e=>m(e.target.value)})]}),Object(pt.jsx)(Ct.a,{style:{width:"100%"},className:"btn-sm",type:"submit",variant:"success",children:"Save Address"}),Object(pt.jsx)(Ct.a,{style:{width:"100%"},className:"btn-sm mt-2",variant:"primary",onClick:()=>t(),children:"Cancel"})]})})})]})};var da=function(){let e=Object(it.k)();const t=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:a}=t,c=Object(n.b)(),[r,d]=Object(s.useState)(""),[l,i]=Object(s.useState)(!1),[o,j]=Object(s.useState)(!1),b=()=>j(!1),u=Object(n.c)((e=>e.userLoginReducer)),{userInfo:h}=u,p=Object(n.c)((e=>e.getAllAddressesOfUserReducer)),{addresses:x,loading:O}=p,m=Object(n.c)((e=>e.deleteUserAddressReducer)),{success:y}=m;Object(s.useEffect)((()=>{h?(c(Ut()),c(Gt()),c({type:ge})):e.push("/login")}),[c,e,h,y]),h&&"Request failed with status code 401"===a&&(alert("Session expired, please login again."),c(kt()),e.push("/login"),window.location.reload()),y&&(alert("Address successfully deleted."),c({type:De}),c(Gt()));const g=e=>{d(e),j(!0)},S=e=>{c((e=>async(t,a)=>{try{t({type:Ae});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.delete(`${Tt}/account/delete-address/${e}/`,c);t({type:Le,payload:r})}catch(s){t({type:we,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}})(e)),b()},f=()=>{i(!l)};return Object(pt.jsxs)("div",{children:[Object(pt.jsx)("div",{children:Object(pt.jsx)(pt.Fragment,{children:Object(pt.jsxs)(vt.a,{show:o,onHide:b,children:[Object(pt.jsx)(vt.a.Header,{closeButton:!0,children:Object(pt.jsxs)(vt.a.Title,{children:[Object(pt.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(pt.jsxs)(vt.a.Body,{children:["Are you sure you want to delete this address"," ",Object(pt.jsxs)("em",{children:['"',r.house_no,", ",r.city,", ",r.state,'"']}),"?"]}),Object(pt.jsxs)(vt.a.Footer,{children:[Object(pt.jsx)(Ct.a,{variant:"danger",onClick:()=>S(r.id),children:"Confirm Delete"}),Object(pt.jsx)(Ct.a,{variant:"primary",onClick:b,children:"Cancel"})]})]})})}),O&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting addresses"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),l?Object(pt.jsx)("div",{children:Object(pt.jsx)(na,{toggleCreateAddress:f})}):Object(pt.jsx)("button",{className:"btn btn-sm btn-primary mb-2 button-focus-css",onClick:()=>f(),children:"Add new address +"}),x&&!l?x.map(((t,a)=>Object(pt.jsx)("div",{children:Object(pt.jsxs)(Ot.a,{className:"p-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:[Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Name: "}),t.name]}),Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Phone No: "}),"+91 ",t.phone_number]}),Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Address: "}),t.house_no,", near ",t.landmark,", ",t.city,", ",t.state,",",t.pin_code,Object(pt.jsx)("span",{onClick:()=>g(t),children:Object(pt.jsx)("i",{title:"delete address",className:"mt-2 fas fa-trash-alt fa-lg delete-button-css"})}),Object(pt.jsx)("span",{onClick:()=>e.push(`/all-addresses/${t.id}/`),children:Object(pt.jsx)("i",{title:"edit address",className:"mt-2 mr-2 fas fa-edit fa-lg edit-button-css"})})]})]},t.id)},a))):""]})};var la=e=>{let{match:t}=e,a=Object(it.k)();const c=Object(n.b)(),[r,d]=Object(s.useState)(""),[l,i]=Object(s.useState)(""),[o,j]=Object(s.useState)(""),[b,u]=Object(s.useState)(""),[h,p]=Object(s.useState)(""),[x,O]=Object(s.useState)(""),[m,y]=Object(s.useState)(""),g=Object(n.c)((e=>e.userLoginReducer)),{userInfo:S}=g,f=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:v}=f,C=Object(n.c)((e=>e.getSingleAddressReducer)),{address:E,error:N}=C,_=Object(n.c)((e=>e.updateUserAddressReducer)),{success:R}=_;Object(s.useEffect)((()=>{S?(c(Ut()),c($t(t.params.id))):a.push("/login")}),[c,a,S,t]),S&&"Request failed with status code 401"===v&&(alert("Session expired, please login again."),c(kt()),a.push("/login"),window.location.reload());return R&&(alert("Address updated successfully."),c({type:Re}),a.push("/all-addresses/"),c(Gt())),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("p",{className:"text-center text-info",children:Object(pt.jsx)("em",{children:"Update Address"})}),N&&Object(pt.jsx)("h3",{children:"Invalid Address Request"}),Object(pt.jsx)(Ot.a,{className:"mx-auto mb-4",style:{width:"50%",border:"1px solid",borderColor:"#C6ACE7"},children:Object(pt.jsx)(Ot.a.Body,{children:Object(pt.jsxs)(Rt.a,{onSubmit:e=>{e.preventDefault();const a={name:r,phone_number:l,pin_code:o,house_no:b,landmark:h,city:x,state:m};var s,n;c((s=t.params.id,n=a,async(e,t)=>{try{e({type:Ee});const{userLoginReducer:{userInfo:a}}=t(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.put(`${Tt}/account/update-address/${s}/`,n,c);e({type:Ne,payload:r})}catch(a){e({type:_e,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}}))},children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Rt.a.Label,{children:"Name"}),Object(pt.jsx)(Rt.a.Control,{autoFocus:!0,type:"text",placeholder:"enter your name",defaultValue:E?E.name:"",onChange:e=>d(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"phoneNumber",children:[Object(pt.jsx)(Rt.a.Label,{children:"Phone Number"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"phone number",pattern:"[0-9]+",maxLength:"10",defaultValue:E?E.phone_number:"",onChange:e=>i(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"pinCode",children:[Object(pt.jsx)(Rt.a.Label,{children:"Pin Code"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"pin code",defaultValue:E?E.pin_code:"",pattern:"[0-9]+",maxLength:"6",onChange:e=>j(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"houseNumber",children:[Object(pt.jsx)(Rt.a.Label,{children:"House No./Address"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"house number",defaultValue:E?E.house_no:"",onChange:e=>u(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"landmark",children:[Object(pt.jsx)(Rt.a.Label,{children:"Landmark"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"landmark",defaultValue:E?E.landmark:"",onChange:e=>p(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"city",children:[Object(pt.jsx)(Rt.a.Label,{children:"City"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"city",defaultValue:E?E.city:"",onChange:e=>O(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"state",children:[Object(pt.jsx)(Rt.a.Label,{children:"State"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"state",defaultValue:E?E.state:"",onChange:e=>y(e.target.value)})]}),Object(pt.jsx)(Ct.a,{style:{width:"100%"},className:"btn-sm",type:"submit",variant:"success",children:"Save Changes"}),Object(pt.jsx)(Ct.a,{style:{width:"100%"},className:"btn-sm mt-2",variant:"primary",onClick:()=>a.push("/all-addresses/"),children:"Cancel"})]})})})]})},ia=a(122);const oa=e=>{const t=e.slice(8,10),a=e.slice(5,7),s=e.slice(0,4);switch(a){case"01":return`${t} January ${s}`;case"02":return`${t} Feburary ${s}`;case"03":return`${t} March ${s}`;case"04":return`${t} April ${s}`;case"05":return`${t} May ${s}`;case"06":return`${t} June ${s}`;case"07":return`${t} July ${s}`;case"08":return`${t} August ${s}`;case"09":return`${t} September ${s}`;case"10":return`${t} October ${s}`;case"11":return`${t} November ${s}`;case"12":return`${t} December ${s}`;default:return null}};var ja=e=>{let{handleSearchTerm:t,placeholderValue:a}=e;const[c,r]=Object(s.useState)("");return Object(pt.jsx)("div",{children:Object(pt.jsx)("form",{onSubmit:e=>{e.preventDefault(),t(c)},children:Object(pt.jsxs)("span",{style:{display:"flex"},className:"",children:[Object(pt.jsx)("input",{type:"text",value:c,placeholder:a,className:"form-control",onChange:e=>r(e.target.value)}),Object(pt.jsx)("button",{type:"submit",className:"btn btn-primary ml-2 button-focus-css",children:Object(pt.jsx)("i",{className:"fas fa-search"})})]})})})};var ba=function(){let e=Object(it.k)();const t=Object(n.b)(),a=oa((new Date).toISOString().slice(0,10)),[c]=Object(s.useState)(a),[r,d]=Object(s.useState)(0),[l,i]=Object(s.useState)(""),o=Object(n.c)((e=>e.userLoginReducer)),{userInfo:j}=o,b=Object(n.c)((e=>e.getAllOrdersReducer)),{orders:u,loading:h}=b,p=Object(n.c)((e=>e.changeDeliveryStatusReducer)),{success:x,loading:O}=p,m=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:y}=m;Object(s.useEffect)((()=>{j?(t(Ut()),t(Ft())):e.push("/login")}),[j,t,e]),j&&"Request failed with status code 401"===y&&(alert("Session expired, please login again."),t(kt()),e.push("/login"),window.location.reload());const g=(e,a)=>{d(e);t(((e,t)=>async(a,s)=>{try{a({type:Ue});const{userLoginReducer:{userInfo:c}}=s(),r={headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.token}`}},{data:n}=await jt.a.put(`${bt}/account/change-order-status/${e}/`,t,r);a({type:Pe,payload:n})}catch(c){a({type:Ge,payload:c.response&&c.response.data.detail?c.response.data.detail:c.message})}})(e,{is_delivered:a,delivered_at:a?c:"Not Delivered"}))};return x&&(alert("Delivery status changed successfully"),t({type:$e}),t(Ft())),Object(pt.jsxs)("div",{children:[h&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Orders"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),j.admin&&Object(pt.jsx)(ja,{handleSearchTerm:e=>{i(e)},placeholderValue:"Search orders by Customer Name, Address or by Ordered Item"}),u.length>0?Object(pt.jsxs)(ia.a,{className:"mt-2",striped:!0,bordered:!0,children:[Object(pt.jsx)("thead",{children:Object(pt.jsxs)("tr",{className:"p-3 bg-info text-white text-center",children:[Object(pt.jsx)("th",{children:"Order Id"}),Object(pt.jsx)("th",{children:"Customer Name"}),Object(pt.jsx)("th",{children:"Card Used"}),Object(pt.jsx)("th",{children:"Delivery Address"}),Object(pt.jsx)("th",{children:"Ordered Item"}),Object(pt.jsx)("th",{children:"Paid Status"}),Object(pt.jsx)("th",{children:"Paid On"}),Object(pt.jsx)("th",{children:"Total Amount"}),Object(pt.jsx)("th",{children:"Delivered Status"}),Object(pt.jsx)("th",{children:"Delivered On"}),j.admin&&Object(pt.jsx)("th",{children:"Delivery Status"})]})}),u.filter((e=>e.name.toLowerCase().includes(l)||e.ordered_item.toLowerCase().includes(l)||e.address.toLowerCase().includes(l))).map(((e,t)=>Object(pt.jsx)("tbody",{children:Object(pt.jsxs)("tr",{className:"text-center",children:[Object(pt.jsx)("td",{children:e.id}),Object(pt.jsx)("td",{children:e.name}),Object(pt.jsx)("td",{children:e.card_number}),Object(pt.jsx)("td",{children:e.address}),Object(pt.jsx)("td",{children:e.ordered_item}),Object(pt.jsx)("td",{children:e.paid_status?Object(pt.jsx)("i",{className:"fas fa-check-circle text-success"}):Object(pt.jsx)("i",{className:"fas fa-times-circle text-danger"})}),Object(pt.jsx)("td",{children:oa(e.paid_at)}),Object(pt.jsxs)("td",{children:[e.total_price," INR"]}),Object(pt.jsx)("td",{children:e.is_delivered?Object(pt.jsx)("i",{className:"fas fa-check-circle text-success"}):Object(pt.jsx)("i",{className:"fas fa-times-circle text-danger"})}),Object(pt.jsx)("td",{children:e.delivered_at}),j.admin&&Object(pt.jsx)("td",{children:e.is_delivered?Object(pt.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>g(e.id,!1),children:O&&r===e.id?Object(pt.jsx)(mt.a,{animation:"border"}):"Mark as Undelivered"}):Object(pt.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>g(e.id,!0),children:O&&r===e.id?Object(pt.jsx)(mt.a,{animation:"border"}):"Mark as delivered"})})]})},t)))]}):Object(pt.jsx)(xt,{variant:"info",children:"No orders yet."})]})};var ua=()=>{let e=Object(it.k)();const t=Object(n.b)(),[a,c]=Object(s.useState)(""),[r,d]=Object(s.useState)(""),[l,i]=Object(s.useState)(""),[o,j]=Object(s.useState)(!1),[b,u]=Object(s.useState)(null),h=Object(n.c)((e=>e.userLoginReducer)),{userInfo:p}=h,g=Object(n.c)((e=>e.createProductReducer)),{product:S,success:f,error:v}=g,C=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:E}=C;Object(s.useEffect)((()=>{p||e.push("/login"),t(Ut())}),[t,p,e]);return f&&(alert("Product successfully created."),e.push(`/product/${S.id}/`),t({type:y})),p&&"Request failed with status code 401"===E&&(alert("Session expired, please login again."),t(kt()),e.push("/login"),window.location.reload()),Object(pt.jsxs)("div",{children:[v&&Object(pt.jsx)(xt,{variant:"danger",children:v.image[0]}),Object(pt.jsx)("span",{className:"d-flex justify-content-center text-info",children:Object(pt.jsx)("em",{children:"New Product"})}),Object(pt.jsxs)(Rt.a,{onSubmit:e=>{e.preventDefault();let s=new FormData;s.append("name",a),s.append("description",r),s.append("price",l),s.append("stock",o),s.append("image",b),t((e=>async(t,a)=>{try{t({type:x});const{userLoginReducer:{userInfo:s}}=a(),c={headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.post(`${bt}/api/product-create/`,e,c);t({type:O,payload:r})}catch(s){t({type:m,payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}})(s))},children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Name"})}),Object(pt.jsx)(Rt.a.Control,{required:!0,autoFocus:!0,type:"text",value:a,placeholder:"product name",onChange:e=>c(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"description",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Description"})}),Object(pt.jsx)(Rt.a.Control,{required:!0,type:"text",value:r,placeholder:"product description",onChange:e=>d(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"price",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Price"})}),Object(pt.jsx)(Rt.a.Control,{required:!0,type:"text",pattern:"[0-9]+(\\.[0-9]{1,2})?%?",value:l,placeholder:"199.99",step:"0.01",maxLength:"8",onChange:e=>i(e.target.value)})]}),Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("label",{children:"In Stock"}),Object(pt.jsx)("input",{type:"checkbox",value:o,className:"ml-2 mt-2",onChange:()=>j(!o)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"image",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Image"})}),Object(pt.jsx)(Rt.a.Control,{required:!0,type:"file",onChange:e=>u(e.target.files[0])})]}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"success",className:"btn-sm button-focus-css",children:"Save Product"}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"primary",className:"btn-sm ml-2 button-focus-css",onClick:()=>e.push("/"),children:"Cancel"})]})]})};var ha=e=>{let{match:t}=e;const a=Object(n.c)((e=>e.productDetailsReducer)),{loading:c,product:r}=a,[d,l]=Object(s.useState)(""),[i,o]=Object(s.useState)(""),[j,b]=Object(s.useState)(""),[u,h]=Object(s.useState)(r.stock),[p,x]=Object(s.useState)("");let O=Object(it.k)();const m=Object(n.b)(),[y,C]=Object(s.useState)(!1),E=Object(n.c)((e=>e.userLoginReducer)),{userInfo:N}=E,_=Object(n.c)((e=>e.updateProductReducer)),{success:R,loading:A,error:L}=_,w=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:D}=w;Object(s.useEffect)((()=>{N&&N.admin||O.push("/login"),m(Ut()),m(ut(t.params.id))}),[m,N,O,t]);return R&&(alert("Product successfully updated."),m({type:v}),O.push(`/product/${r.id}`)),N&&"Request failed with status code 401"===D&&(alert("Session expired, please login again."),m(kt()),O.push("/login"),window.location.reload()),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("span",{className:"d-flex justify-content-center text-info",children:Object(pt.jsx)("em",{children:"Edit Product"})}),L?Object(pt.jsxs)("div",{children:[void window.scrollTo({top:0,behavior:"smooth"}),Object(pt.jsx)(xt,{variant:"danger",children:L.image[0]})]}):"",c&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Product Details"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}),A?Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Updating Product"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(mt.a,{animation:"border"})})]}):"",Object(pt.jsxs)(Rt.a,{onSubmit:e=>{e.preventDefault();const t=r.id;let a=new FormData;a.append("name",d),a.append("description",i),a.append("price",j),a.append("stock",u),a.append("image",p),m(((e,t)=>async(a,s)=>{try{a({type:g});const{userLoginReducer:{userInfo:c}}=s(),r={headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${c.token}`}},{data:n}=await jt.a.put(`${bt}/api/product-update/${e}/`,t,r);a({type:S,payload:n})}catch(c){a({type:f,payload:c.response&&c.response.data.detail?c.response.data.detail:c.message})}})(t,a))},children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"image",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Image"})}),Object(pt.jsx)("p",{children:Object(pt.jsx)("img",{src:r.image,alt:r.name,height:"200"})}),y?Object(pt.jsxs)("div",{children:[Object(pt.jsx)(Rt.a.Control,{type:"file",onChange:e=>x(e.target.files[0])}),Object(pt.jsx)("span",{onClick:()=>{C(!y),x(""),m({type:v})},className:"btn btn-primary btn-sm mt-2",children:"Cancel"})]}):Object(pt.jsx)("p",{children:Object(pt.jsx)("span",{onClick:()=>C(!y),className:"btn btn-success btn-sm",children:"choose different image"})})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Name"})}),Object(pt.jsx)(Rt.a.Control,{autoFocus:!0,type:"text",defaultValue:r.name,placeholder:"product name",onChange:e=>l(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"description",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Description"})}),Object(pt.jsx)(Rt.a.Control,{type:"text",defaultValue:r.description,placeholder:"product description",onChange:e=>o(e.target.value)})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"price",children:[Object(pt.jsx)(Rt.a.Label,{children:Object(pt.jsx)("b",{children:"Price"})}),Object(pt.jsx)(Rt.a.Control,{type:"text",pattern:"[0-9]+(\\.[0-9]{1,2})?%?",defaultValue:r.price,placeholder:"199.99",step:"0.01",maxLength:"8",onChange:e=>b(e.target.value)})]}),Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("label",{children:"In Stock"}),Object(pt.jsx)("input",{type:"checkbox",defaultChecked:r.stock,className:"ml-2 mt-2",onChange:()=>h(!u)})]}),Object(pt.jsx)(Ct.a,{type:"submit",variant:"success",className:"btn-sm button-focus-css mb-4",children:"Save Changes"}),Object(pt.jsx)(Ct.a,{onClick:()=>O.push(`/product/${r.id}`),variant:"primary",className:"btn-sm ml-2 button-focus-css mb-4",children:"Cancel"})]})]})};var pa=function(){return Object(pt.jsx)("div",{children:Object(pt.jsx)(xt,{variant:"danger",children:"404 Not Found"})})};const xa=()=>async(e,t)=>{try{e({type:Qe});const{userLogin:{userInfo:a}}=t(),s={headers:{Authorization:`Bearer ${a.token}`}},{data:c}=await jt.a.get("/api/ads/pending/",s);e({type:Xe,payload:c})}catch(a){e({type:Ye,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}};var Oa=function(){const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)(0),r=Object(n.b)(),d=Object(n.c)((e=>e.activeAdsList||{})),{loading:l,activeAds:i}=d,o=Object(s.useCallback)((()=>{i&&i.length>0&&c((e=>(e+1)%i.length))}),[i]);if(Object(s.useEffect)((()=>{r((async e=>{try{e({type:We});const{data:t}=await jt.a.get("/api/ads/active/");e({type:Ke,payload:t})}catch(t){e({type:Je,payload:t.response&&t.response.data.detail?t.response.data.detail:t.message})}}));const e=setTimeout((()=>{i&&i.length>0&&t(!0)}),5e3),a=setInterval(o,1e4);return()=>{clearTimeout(e),clearInterval(a)}}),[r,i,o]),l||!i||0===i.length)return null;const j=i[a];return Object(pt.jsxs)(vt.a,{show:e,onHide:()=>t(!1),size:"lg",centered:!0,backdrop:"static",children:[Object(pt.jsx)(vt.a.Header,{closeButton:!0,children:Object(pt.jsx)(vt.a.Title,{children:j.ad_title})}),Object(pt.jsxs)(vt.a.Body,{children:["image"===j.ad_type?Object(pt.jsx)("img",{src:j.ad_file_url,alt:j.ad_title,style:{width:"100%",maxHeight:"60vh",objectFit:"contain"}}):Object(pt.jsx)("video",{controls:!0,style:{width:"100%",maxHeight:"60vh"},autoPlay:!0,children:Object(pt.jsx)("source",{src:j.ad_file_url,type:"video/mp4"})}),Object(pt.jsx)("p",{className:"mt-3",children:j.ad_description})]}),Object(pt.jsxs)(vt.a.Footer,{children:[Object(pt.jsx)(Ct.a,{as:lt.Link,to:`/order-now?ad=${j.id}`,variant:"primary",children:"Order Now"}),Object(pt.jsx)(Ct.a,{variant:"secondary",onClick:()=>t(!1),children:"Close"})]})]})},ma=a(14);a(107);var ya=function(){return Object(pt.jsxs)(Et.a,{className:"advertise-page py-5",children:[Object(pt.jsx)(yt.a,{className:"justify-content-center mb-5",children:Object(pt.jsxs)(gt.a,{lg:8,className:"text-center",children:[Object(pt.jsxs)("h1",{className:"display-4 mb-4",children:[Object(pt.jsx)(ma.a,{className:"text-primary mr-2"}),"Advertise With Us"]}),Object(pt.jsx)("p",{className:"lead text-muted",children:"Reach thousands of potential customers and grow your business"})]})}),Object(pt.jsxs)(yt.a,{className:"justify-content-center",children:[Object(pt.jsx)(gt.a,{md:6,lg:5,className:"mb-4",children:Object(pt.jsx)(Ot.a,{className:"pricing-card h-100 shadow-sm border-0",children:Object(pt.jsxs)(Ot.a.Body,{className:"text-center p-4",children:[Object(pt.jsx)("div",{className:"pricing-badge bg-light text-primary mb-3",children:"POPULAR"}),Object(pt.jsx)("h3",{className:"mb-3",children:"Daily Promotion"}),Object(pt.jsxs)("h2",{className:"display-4 mb-3",children:[Object(pt.jsx)("span",{className:"text-primary",children:"Tsh 500"}),"/day"]}),Object(pt.jsxs)("ul",{className:"list-unstyled mb-4",children:[Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(ma.c,{className:"text-success mr-2"}),"24-hour visibility"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(ma.c,{className:"text-success mr-2"}),"Featured placement"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(ma.c,{className:"text-success mr-2"}),"Detailed analytics"]})]}),Object(pt.jsxs)(Ct.a,{as:lt.Link,to:"/ad-submission",variant:"primary",size:"lg",className:"w-100 py-3",children:["Get Started ",Object(pt.jsx)(ma.b,{className:"ml-2"})]})]})})}),Object(pt.jsx)(gt.a,{md:6,lg:5,className:"mb-4",children:Object(pt.jsx)(Ot.a,{className:"pricing-card h-100 shadow-sm border-0",children:Object(pt.jsxs)(Ot.a.Body,{className:"text-center p-4",children:[Object(pt.jsx)("h3",{className:"mb-3",children:"Monthly Package"}),Object(pt.jsxs)("h2",{className:"display-4 mb-3",children:[Object(pt.jsx)("span",{className:"text-primary",children:"Tsh 5000"}),"/month"]}),Object(pt.jsxs)("ul",{className:"list-unstyled mb-4",children:[Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(ma.c,{className:"text-success mr-2"}),"30-day visibility"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(ma.c,{className:"text-success mr-2"}),"Premium placement"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(ma.c,{className:"text-success mr-2"}),"Detailed analytics"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(ma.c,{className:"text-success mr-2"}),"24/7 support"]})]}),Object(pt.jsxs)(Ct.a,{as:lt.Link,to:"/ad-submission",variant:"outline-primary",size:"lg",className:"w-100 py-3",children:["Get Started ",Object(pt.jsx)(ma.b,{className:"ml-2"})]})]})})})]}),Object(pt.jsx)(yt.a,{className:"justify-content-center mt-5",children:Object(pt.jsx)(gt.a,{lg:8,className:"text-center",children:Object(pt.jsxs)("div",{className:"bg-light p-4 rounded",children:[Object(pt.jsx)("h4",{className:"mb-3",children:"Have questions?"}),Object(pt.jsxs)("p",{className:"mb-0",children:["Contact our advertising team at ",Object(pt.jsx)("a",{href:"mailto:ads@brkluxe.com",children:"ads@brkluxe.com"}),"or call ",Object(pt.jsx)("a",{href:"tel:+255613509299",children:"+255 613 509 299"})]})]})})})]})};var ga=function(){const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)(""),[r,d]=Object(s.useState)(""),[l,i]=Object(s.useState)(""),[o,j]=Object(s.useState)(""),[b,u]=Object(s.useState)("image"),[h,p]=Object(s.useState)(null),[x,O]=Object(s.useState)(null),[m,y]=Object(s.useState)(!1),[g,S]=Object(s.useState)("lipa_namba"),f=Object(n.b)(),v=Object(it.k)(),{loading:C=!1,error:E=null,success:N=!1}=Object(n.c)((e=>e.adSubmissionReducer||{}));return N?(f({type:ze}),v.push("/"),null):Object(pt.jsx)(Et.a,{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(gt.a,{xs:12,md:8,children:[Object(pt.jsx)("h2",{className:"my-4",children:"Submit Your Ad"}),E&&Object(pt.jsx)(ht.a,{variant:"danger",children:E}),Object(pt.jsxs)(Rt.a,{onSubmit:t=>{t.preventDefault();const s=new FormData;s.append("name",e),s.append("email",a),s.append("phone_number",r),s.append("ad_title",l),s.append("ad_description",o),s.append("ad_type",b),s.append("ad_file",h),s.append("payment_proof",x),s.append("duration_days",30),f((e=>async(t,a)=>{try{t({type:Fe});const{userLogin:{userInfo:s}}=a(),c={headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.post("/api/ads/submit/",e,c);t({type:Be,payload:r})}catch(E){t({type:Ve,payload:E.response&&E.response.data.detail?E.response.data.detail:E.message})}})(s))},children:[Object(pt.jsxs)(Rt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Rt.a.Label,{children:"Name"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"Enter your name",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"email",children:[Object(pt.jsx)(Rt.a.Label,{children:"Email Address"}),Object(pt.jsx)(Rt.a.Control,{type:"email",placeholder:"Enter email",value:a,onChange:e=>c(e.target.value),required:!0})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"phone",children:[Object(pt.jsx)(Rt.a.Label,{children:"Phone Number"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"Enter phone number",value:r,onChange:e=>d(e.target.value),required:!0})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"adTitle",children:[Object(pt.jsx)(Rt.a.Label,{children:"Ad Title"}),Object(pt.jsx)(Rt.a.Control,{type:"text",placeholder:"Enter ad title",value:l,onChange:e=>i(e.target.value),required:!0})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"adDescription",children:[Object(pt.jsx)(Rt.a.Label,{children:"Ad Description"}),Object(pt.jsx)(Rt.a.Control,{as:"textarea",rows:3,placeholder:"Enter ad description",value:o,onChange:e=>j(e.target.value),required:!0})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"adType",children:[Object(pt.jsx)(Rt.a.Label,{children:"Ad Type"}),Object(pt.jsxs)(Rt.a.Control,{as:"select",value:b,onChange:e=>u(e.target.value),children:[Object(pt.jsx)("option",{value:"image",children:"Image"}),Object(pt.jsx)("option",{value:"video",children:"Video"})]})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"adFile",children:[Object(pt.jsx)(Rt.a.Label,{children:"Upload Ad File"}),Object(pt.jsx)(Rt.a.File,{onChange:e=>p(e.target.files[0]),accept:"image"===b?"image/*":"video/*",required:!0})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"paymentMethod",children:[Object(pt.jsx)(Rt.a.Label,{children:"Payment Method"}),Object(pt.jsxs)(Rt.a.Control,{as:"select",value:g,onChange:e=>S(e.target.value),children:[Object(pt.jsx)("option",{value:"lipa_namba",children:"Lipa Namba"}),Object(pt.jsx)("option",{value:"other",children:"Other"})]}),"lipa_namba"===g&&Object(pt.jsx)("small",{className:"text-muted",children:"Please send payment to: 0712345678 (Example number)"})]}),Object(pt.jsxs)(Rt.a.Group,{controlId:"paymentProof",children:[Object(pt.jsx)(Rt.a.Label,{children:"Payment Proof (Screenshot)"}),Object(pt.jsx)(Rt.a.File,{onChange:e=>O(e.target.files[0]),accept:"image/*",required:!0})]}),Object(pt.jsx)(Rt.a.Group,{controlId:"agreement",children:Object(pt.jsx)(Rt.a.Check,{type:"checkbox",label:"I confirm that I have made the payment and the details above are correct.",checked:m,onChange:e=>y(e.target.checked),required:!0})}),Object(pt.jsx)(Ct.a,{variant:"primary",type:"submit",disabled:C||!m,children:C?Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)(mt.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Submitting..."]}):"Submit Ad"})]})]})})})};var Sa=function(e){let{history:t}=e;const a=Object(n.b)(),c=Object(n.c)((e=>e.userLogin)),{userInfo:r}=c,d=Object(n.c)((e=>e.pendingAdsList)),{loading:l,error:i,pendingAds:o}=d,j=Object(n.c)((e=>e.adApproval)),{success:b}=j;Object(s.useEffect)((()=>{r&&r.isAdmin||t.push("/login"),a(xa()),b&&(a({type:"AD_APPROVAL_RESET"}),a(xa()))}),[a,t,r,b]);const u=e=>{window.confirm("Are you sure you want to approve this ad?")&&a((e=>async(t,a)=>{try{t({type:qe});const{userLogin:{userInfo:s}}=a(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.put(`/api/ads/approve/${e}/`,{},c);t({type:He,payload:r})}catch(i){t({type:Me,payload:i.response&&i.response.data.detail?i.response.data.detail:i.message})}})(e))};return Object(pt.jsxs)(Et.a,{children:[Object(pt.jsx)(yt.a,{className:"align-items-center",children:Object(pt.jsx)(gt.a,{children:Object(pt.jsx)("h2",{className:"my-4",children:"Pending Ads for Approval"})})}),l?Object(pt.jsx)(mt.a,{animation:"border",role:"status",children:Object(pt.jsx)("span",{className:"sr-only",children:"Loading..."})}):i?Object(pt.jsx)(ht.a,{variant:"danger",children:i}):Object(pt.jsxs)(ia.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(pt.jsx)("thead",{children:Object(pt.jsxs)("tr",{children:[Object(pt.jsx)("th",{children:"ID"}),Object(pt.jsx)("th",{children:"AD TITLE"}),Object(pt.jsx)("th",{children:"ADVERTISER"}),Object(pt.jsx)("th",{children:"EMAIL"}),Object(pt.jsx)("th",{children:"PHONE"}),Object(pt.jsx)("th",{children:"SUBMITTED"}),Object(pt.jsx)("th",{})]})}),Object(pt.jsx)("tbody",{children:o.map((e=>Object(pt.jsxs)("tr",{children:[Object(pt.jsx)("td",{children:e.id}),Object(pt.jsx)("td",{children:e.ad_title}),Object(pt.jsx)("td",{children:e.name}),Object(pt.jsx)("td",{children:Object(pt.jsx)("a",{href:`mailto:${e.email}`,children:e.email})}),Object(pt.jsx)("td",{children:Object(pt.jsx)("a",{href:`tel:${e.phone_number}`,children:e.phone_number})}),Object(pt.jsx)("td",{children:new Date(e.created_at).toLocaleDateString()}),Object(pt.jsx)("td",{children:Object(pt.jsx)(Ct.a,{variant:"success",className:"btn-sm",onClick:()=>u(e.id),children:"Approve"})})]},e.id)))})]})]})},fa=a(129);a(108);var va=function(){return Object(pt.jsxs)(Et.a,{className:"help-page py-5",children:[Object(pt.jsx)(yt.a,{className:"mb-5",children:Object(pt.jsxs)(gt.a,{lg:8,className:"mx-auto text-center",children:[Object(pt.jsx)("h1",{className:"display-4 mb-3",children:"Help Center"}),Object(pt.jsx)("p",{className:"lead text-muted",children:"We're here to help you with any questions or issues"})]})}),Object(pt.jsxs)(yt.a,{className:"mb-5",children:[Object(pt.jsx)(gt.a,{lg:6,className:"mb-4",children:Object(pt.jsx)(Ot.a,{className:"h-100 shadow-sm border-0",children:Object(pt.jsxs)(Ot.a.Body,{className:"p-4",children:[Object(pt.jsx)("div",{className:"icon-wrapper bg-primary-light mb-4",children:Object(pt.jsx)(ma.g,{className:"text-primary",size:24})}),Object(pt.jsx)("h3",{className:"mb-4",children:"Contact Support"}),Object(pt.jsx)(fa.a,{variant:"flush",children:[{number:"+255613509299",type:"phone"},{number:"+255699183448",type:"whatsapp"},{number:"+255767007987",type:"phone"}].map(((e,t)=>Object(pt.jsx)(fa.a.Item,{className:"border-0 px-0",children:Object(pt.jsxs)("div",{className:"d-flex align-items-center",children:["whatsapp"===e.type?Object(pt.jsx)(ma.j,{className:"text-success mr-3",size:20}):Object(pt.jsx)(ma.g,{className:"text-primary mr-3",size:20}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h5",{className:"mb-0",children:e.number}),Object(pt.jsx)("small",{className:"text-muted",children:"whatsapp"===e.type?"WhatsApp Available":"Call Us"})]}),Object(pt.jsx)(Ct.a,{variant:"link",href:`tel:${e.number}`,className:"ml-auto",children:"Call Now"})]})},t)))})]})})}),Object(pt.jsx)(gt.a,{lg:6,className:"mb-4",children:Object(pt.jsx)(Ot.a,{className:"h-100 shadow-sm border-0",children:Object(pt.jsxs)(Ot.a.Body,{className:"p-4",children:[Object(pt.jsx)("div",{className:"icon-wrapper bg-primary-light mb-4",children:Object(pt.jsx)(ma.e,{className:"text-primary",size:24})}),Object(pt.jsx)("h3",{className:"mb-4",children:"Technical Support"}),Object(pt.jsxs)("div",{className:"mb-4",children:[Object(pt.jsxs)("h5",{className:"d-flex align-items-center",children:[Object(pt.jsx)(ma.g,{className:"text-primary mr-3",size:20}),Object(pt.jsx)("span",{children:"+255620148031"})]}),Object(pt.jsx)("p",{className:"text-muted",children:"Available for technical issues and platform support"})]}),Object(pt.jsxs)("div",{children:[Object(pt.jsxs)("h5",{className:"d-flex align-items-center mb-3",children:[Object(pt.jsx)(ma.e,{className:"text-primary mr-3",size:20}),Object(pt.jsx)("span",{children:"support@brkluxe.com"})]}),Object(pt.jsx)(Ct.a,{variant:"primary",href:"mailto:support@brkluxe.com",className:"w-100",children:"Email Support"})]})]})})})]}),Object(pt.jsx)(yt.a,{children:Object(pt.jsx)(gt.a,{lg:8,className:"mx-auto",children:Object(pt.jsx)(Ot.a,{className:"border-0 shadow-sm",children:Object(pt.jsx)(Ot.a.Body,{className:"p-4",children:Object(pt.jsxs)("div",{className:"d-flex align-items-center",children:[Object(pt.jsx)("div",{className:"icon-wrapper bg-primary-light mr-4",children:Object(pt.jsx)(ma.d,{className:"text-primary",size:24})}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h3",{className:"mb-2",children:"Operating Hours"}),Object(pt.jsxs)("p",{className:"mb-1",children:[Object(pt.jsx)("strong",{children:"Monday - Friday:"})," 8:00 AM - 8:00 PM"]}),Object(pt.jsxs)("p",{className:"mb-1",children:[Object(pt.jsx)("strong",{children:"Saturday:"})," 9:00 AM - 6:00 PM"]}),Object(pt.jsxs)("p",{className:"mb-0",children:[Object(pt.jsx)("strong",{children:"Sunday:"})," 10:00 AM - 4:00 PM"]})]})]})})})})})]})};a(109);var Ca=function(){return Object(pt.jsxs)(Et.a,{className:"about-page py-5",children:[Object(pt.jsx)(yt.a,{className:"mb-5",children:Object(pt.jsxs)(gt.a,{lg:8,className:"mx-auto text-center",children:[Object(pt.jsx)("h1",{className:"display-4 mb-4",children:"About BRK_LUXE"}),Object(pt.jsx)("p",{className:"lead text-muted",children:"Redefining your shopping experience with quality and convenience"})]})}),Object(pt.jsxs)(yt.a,{className:"mb-5 align-items-center",children:[Object(pt.jsx)(gt.a,{lg:6,className:"mb-4 mb-lg-0",children:Object(pt.jsx)("div",{className:"about-image rounded-lg overflow-hidden shadow",children:Object(pt.jsx)("img",{src:Yt,alt:"BRK_LUXE Team",className:"img-fluid"})})}),Object(pt.jsxs)(gt.a,{lg:6,children:[Object(pt.jsx)("h2",{className:"mb-4",children:"Our Story"}),Object(pt.jsx)("p",{className:"mb-4",children:"Founded in 2023, BRK_LUXE Free Market began with a simple mission: to make shopping easy, convenient, and enjoyable for everyone in Tanzania. We believe in offering top-quality items at fair prices, with a focus on customer satisfaction and excellent service."}),Object(pt.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(pt.jsx)(ma.h,{className:"text-primary mr-3",size:24}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h5",{className:"mb-0",children:"Wide Selection"}),Object(pt.jsx)("p",{className:"text-muted mb-0",children:"Thousands of quality products"})]})]}),Object(pt.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(pt.jsx)(ma.i,{className:"text-primary mr-3",size:24}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h5",{className:"mb-0",children:"Customer First"}),Object(pt.jsx)("p",{className:"text-muted mb-0",children:"Your satisfaction is our priority"})]})]}),Object(pt.jsxs)("div",{className:"d-flex align-items-center",children:[Object(pt.jsx)(ma.f,{className:"text-primary mr-3",size:24}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h5",{className:"mb-0",children:"24/7 Support"}),Object(pt.jsx)("p",{className:"text-muted mb-0",children:"We're always here to help"})]})]})]})]}),Object(pt.jsx)(yt.a,{className:"mb-5",children:Object(pt.jsx)(gt.a,{className:"text-center",children:Object(pt.jsx)(Ot.a,{className:"border-0 shadow-sm py-4",children:Object(pt.jsxs)(Ot.a.Body,{children:[Object(pt.jsx)("h3",{className:"mb-4",children:"Meet The Founders"}),Object(pt.jsxs)(yt.a,{className:"justify-content-center",children:[Object(pt.jsx)(gt.a,{md:4,className:"mb-4",children:Object(pt.jsxs)("div",{className:"team-member",children:[Object(pt.jsx)("div",{className:"team-img mb-3 rounded-circle overflow-hidden",children:Object(pt.jsx)("img",{src:"https://via.placeholder.com/150",alt:"Founder",className:"img-fluid"})}),Object(pt.jsx)("h5",{children:"[Your Name]"}),Object(pt.jsx)("p",{className:"text-muted",children:"Co-Founder & [Your Profession]"})]})}),Object(pt.jsx)(gt.a,{md:4,className:"mb-4",children:Object(pt.jsxs)("div",{className:"team-member",children:[Object(pt.jsx)("div",{className:"team-img mb-3 rounded-circle overflow-hidden",children:Object(pt.jsx)("img",{src:"https://via.placeholder.com/150",alt:"Co-Founder",className:"img-fluid"})}),Object(pt.jsx)("h5",{children:"[Co-Founder Name]"}),Object(pt.jsx)("p",{className:"text-muted",children:"Co-Founder & [Profession]"})]})})]})]})})})}),Object(pt.jsx)(yt.a,{children:Object(pt.jsx)(gt.a,{className:"text-center",children:Object(pt.jsxs)("div",{className:"social-links",children:[Object(pt.jsx)("h4",{className:"mb-4",children:"Connect With Us"}),Object(pt.jsxs)("a",{href:"https://instagram.com/brk_luxe_free_market",className:"btn btn-outline-primary mx-2",children:[Object(pt.jsx)("i",{className:"fab fa-instagram"})," @brk_luxe_free_market"]})]})})})]})};var Ea=function(){const[e,t]=Object(s.useState)({name:"",region:"",district:"",ward:"",street:"",product_details:""}),a=Object(n.b)(),c=Object(it.k)(),r=Object(it.l)(),d=Object(n.c)((e=>e.orderRequest)),{loading:l,error:i,success:o}=d,{userInfo:j}=Object(n.c)((e=>e.userLogin||{})),b=a=>{t({...e,[a.target.id]:a.target.value})};return Object(s.useEffect)((()=>{if(r.search){const e=new URLSearchParams(r.search).get("product");e&&t((t=>({...t,product_details:`Order for product ID: ${e}`})))}}),[r]),Object(s.useEffect)((()=>{if(j){if(o){const e=setTimeout((()=>{a({type:at}),c.push("/")}),2e3);return()=>clearTimeout(e)}}else c.push("/login?redirect=/order-now"+r.search)}),[a,c,j,o,r.search]),Object(pt.jsx)(Et.a,{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(gt.a,{xs:12,md:8,lg:6,children:[Object(pt.jsx)("h2",{className:"my-4 text-center",children:"Place Your Order"}),o&&Object(pt.jsx)(ht.a,{variant:"success",className:"text-center",children:"Order submitted successfully! Redirecting..."}),i&&Object(pt.jsx)(ht.a,{variant:"danger",children:i}),Object(pt.jsxs)(Rt.a,{onSubmit:t=>{var s;(t.preventDefault(),j)?a((s={...e,user:j.id},async(e,t)=>{try{e({type:Ze});const{userLogin:{userInfo:a}}=t();if(!a||!a.token)throw new Error("Authentication required");const c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},r={...s,ordered_at:(new Date).toISOString(),status:"pending"},{data:n}=await jt.a.post("https://fullstack-ecommerce-app-backend-x04s.onrender.com/api/orders/request/",r,c);return e({type:et,payload:n}),n}catch(i){var a,c,r,n;const s=(null===(a=i.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.detail)||(null===(r=i.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||i.message||"Failed to create order";throw e({type:tt,payload:s}),i}})):c.push("/login?redirect=/order-now"+r.search)},children:[["name","region","district","ward","street"].map((t=>Object(pt.jsxs)(Rt.a.Group,{controlId:t,children:[Object(pt.jsx)(Rt.a.Label,{children:t.charAt(0).toUpperCase()+t.slice(1).replace("_"," ")}),Object(pt.jsx)(Rt.a.Control,{type:"text",value:e[t],onChange:b,required:!0,placeholder:`Enter your ${t.replace("_"," ")}`})]},t))),Object(pt.jsxs)(Rt.a.Group,{controlId:"product_details",children:[Object(pt.jsx)(Rt.a.Label,{children:"Product Details"}),Object(pt.jsx)(Rt.a.Control,{as:"textarea",rows:3,value:e.product_details,onChange:b,required:!0,placeholder:"Describe what you want to order"})]}),Object(pt.jsx)("div",{className:"text-center mt-4",children:Object(pt.jsx)(Ct.a,{variant:"primary",type:"submit",disabled:l,size:"lg",children:l?Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)(mt.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"mr-2"}),"Processing..."]}):"Submit Order"})})]})]})})})};var Na=()=>Object(pt.jsx)("div",{children:Object(pt.jsxs)(lt.BrowserRouter,{children:[Object(pt.jsx)(Wt,{}),Object(pt.jsx)(Oa,{}),Object(pt.jsx)("div",{className:"container mt-4",children:Object(pt.jsxs)(it.g,{children:[Object(pt.jsx)(it.d,{path:"/",component:ft,exact:!0}),Object(pt.jsx)(it.d,{path:"/new-product/",component:ua,exact:!0}),Object(pt.jsx)(it.d,{path:"/product/:id/",component:Nt,exact:!0}),Object(pt.jsx)(it.d,{path:"/product-update/:id/",component:ha,exact:!0}),Object(pt.jsx)(it.d,{path:"/product/:id/checkout/",component:zt,exact:!0}),Object(pt.jsx)(it.d,{path:"/payment-status",component:Kt,exact:!0}),Object(pt.jsx)(it.d,{path:"/login",component:Jt,exact:!0}),Object(pt.jsx)(it.d,{path:"/register",component:Zt,exact:!0}),Object(pt.jsx)(it.d,{path:"/account",component:aa,exact:!0}),Object(pt.jsx)(it.d,{path:"/account/update/",component:sa,exact:!0}),Object(pt.jsx)(it.d,{path:"/account/delete/",component:ca,exact:!0}),Object(pt.jsx)(it.d,{path:"/stripe-card-details",component:ta,exact:!0}),Object(pt.jsx)(it.d,{path:"/stripe-card-update",component:ea,exact:!0}),Object(pt.jsx)(it.d,{path:"/all-addresses/",component:da,exact:!0}),Object(pt.jsx)(it.d,{path:"/all-addresses/:id/",component:la,exact:!0}),Object(pt.jsx)(it.d,{path:"/all-orders/",component:ba,exact:!0}),Object(pt.jsx)(it.d,{path:"/advertise",component:ya,exact:!0}),Object(pt.jsx)(it.d,{path:"/ad-submission",component:ga,exact:!0}),Object(pt.jsx)(it.d,{path:"/ad-approval",component:Sa,exact:!0}),Object(pt.jsx)(it.d,{path:"/help",component:va,exact:!0}),Object(pt.jsx)(it.d,{path:"/about",component:Ca,exact:!0}),Object(pt.jsx)(it.d,{path:"/order-now",component:Ea,exact:!0}),Object(pt.jsx)(it.d,{path:"",component:pa,exact:!0})]})})]})});a(110);r.a.render(Object(pt.jsx)(n.a,{store:dt,children:Object(pt.jsx)(Na,{})}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.29b4b24e.chunk.js.map