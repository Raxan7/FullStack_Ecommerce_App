(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{105:function(e,t,s){},109:function(e,t,s){},110:function(e,t,s){},111:function(e,t,s){},112:function(e,t,s){},113:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(22),r=s.n(c),n=s(4),l=s(40),d=s(73),i=s(74);const o="PRODUCTS_LIST_REQUEST",j="PRODUCTS_LIST_SUCCESS",b="PRODUCTS_LIST_FAIL",u="PRODUCT_DETAILS_REQUEST",h="PRODUCT_DETAILS_SUCCESS",p="PRODUCT_DETAILS_FAIL",x="CREATE_PRODUCT_REQUEST",m="CREATE_PRODUCT_SUCCESS",O="CREATE_PRODUCT_FAIL",g="CREATE_PRODUCT_RESET",y="UPDATE_PRODUCT_REQUEST",v="UPDATE_PRODUCT_SUCCESS",f="UPDATE_PRODUCT_FAIL",S="UPDATE_PRODUCT_RESET",C="DELETE_PRODUCT_REQUEST",E="DELETE_PRODUCT_SUCCESS",N="DELETE_PRODUCT_FAIL",_="DELETE_PRODUCT_RESET",R="CHECK_TOKEN_VALID_REQUEST",A="CHECK_TOKEN_VALID_SUCCESS",w="CHECK_TOKEN_VALID_FAIL",L="CHECK_TOKEN_VALID_RESET",k="CARD_CREATE_REQUEST",I="CARD_CREATE_SUCCESS",D="CARD_CREATE_FAIL",T="CARD_CREATE_RESET",U="CHARGE_CARD_REQUEST",P="CHARGE_CARD_SUCCESS",$="CHARGE_CARD_FAIL",G="CHARGE_CARD_RESET",F="SAVED_CARDS_LIST_REQUEST",z="SAVED_CARDS_LIST_SUCCESS",B="SAVED_CARDS_LIST_FAIL",V="DELETE_SAVED_CARD_REQUEST",q="DELETE_SAVED_CARD_SUCCESS",H="DELETE_SAVED_CARD_FAIL",M="UPDATE_STRIPE_CARD_REQUEST",Q="UPDATE_STRIPE_CARD_SUCCESS",X="UPDATE_STRIPE_CARD_FAIL",W="UPDATE_STRIPE_CARD_RESET",Y="USER_LOGIN_REQUEST",K="USER_LOGIN_SUCCESS",J="USER_LOGIN_FAIL",Z="USER_LOGOUT",ee="USER_REGISTER_REQUEST",te="USER_REGISTER_SUCCESS",se="USER_REGISTER_FAIL",ae="USER_DETAILS_REQUEST",ce="USER_DETAILS_SUCCESS",re="USER_DETAILS_FAIL",ne="UPDATE_USER_DETAILS_REQUEST",le="UPDATE_USER_DETAILS_SUCCESS",de="UPDATE_USER_DETAILS_FAIL",ie="UPDATE_USER_DETAILS_RESET",oe="DELETE_USER_ACCOUNT_REQUEST",je="DELETE_USER_ACCOUNT_SUCCESS",be="DELETE_USER_ACCOUNT_FAIL",ue="DELETE_USER_ACCOUNT_RESET",he="GET_USER_ALL_ADDRESSES_REQUEST",pe="GET_USER_ALL_ADDRESSES_SUCCESS",xe="GET_USER_ALL_ADDRESSES_FAIL",me="GET_SINGLE_ADDRESS_REQUEST",Oe="GET_SINGLE_ADDRESS_SUCCESS",ge="GET_SINGLE_ADDRESS_FAIL",ye="GET_SINGLE_ADDRESS_RESET",ve="CREATE_USER_ADDRESS_REQUEST",fe="CREATE_USER_ADDRESS_SUCCESS",Se="CREATE_USER_ADDRESS_FAIL",Ce="CREATE_USER_ADDRESS_RESET",Ee="UPDATE_USER_ADDRESS_REQUEST",Ne="UPDATE_USER_ADDRESS_SUCCESS",_e="UPDATE_USER_ADDRESS_FAIL",Re="UPDATE_USER_ADDRESS_RESET",Ae="DELETE_USER_ADDRESS_REQUEST",we="DELETE_USER_ADDRESS_SUCCESS",Le="DELETE_USER_ADDRESS_FAIL",ke="DELETE_USER_ADDRESS_RESET",Ie="GET_ALL_ORDERS_REQUEST",De="GET_ALL_ORDERS_SUCCESS",Te="GET_ALL_ORDERS_FAIL",Ue="CHANGE_DELIVERY_STATUS_REQUEST",Pe="CHANGE_DELIVERY_STATUS_SUCCESS",$e="CHANGE_DELIVERY_STATUS_FAIL",Ge="CHANGE_DELIVERY_STATUS_RESET",Fe="AD_SUBMISSION_REQUEST",ze="AD_SUBMISSION_SUCCESS",Be="AD_SUBMISSION_FAIL",Ve="AD_SUBMISSION_RESET",qe="AD_APPROVAL_REQUEST",He="AD_APPROVAL_SUCCESS",Me="AD_APPROVAL_FAIL",Qe="PENDING_ADS_REQUEST",Xe="PENDING_ADS_SUCCESS",We="PENDING_ADS_FAIL",Ye="ACTIVE_ADS_REQUEST",Ke="ACTIVE_ADS_SUCCESS",Je="ACTIVE_ADS_FAIL",Ze="ORDER_REQUEST_REQUEST",et="ORDER_REQUEST_SUCCESS",tt="ORDER_REQUEST_FAIL",st="ORDER_REQUEST_RESET",at={loading:!1,error:null,success:!1,order:null,lastSubmitted:null};var ct=Object(l.combineReducers)({productsListReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return{...e,loading:!0,products:[],error:""};case j:return{...e,loading:!1,products:t.payload,error:""};case b:return{...e,loading:!1,error:t.payload};default:return e}},productDetailsReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{...e,loading:!0,product:{},error:""};case h:return{...e,loading:!1,product:t.payload,error:""};case p:return{...e,loading:!1,error:t.payload};default:return e}},createProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{...e,loading:!0,product:{},success:!1,error:""};case m:return{...e,loading:!1,success:!0,product:t.payload,error:""};case O:return{...e,loading:!1,success:!1,product:{},error:t.payload};case g:return{...e,loading:!1,success:!1,product:{},error:""};default:return e}},updateProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{...e,loading:!0,product:{},success:!1,error:""};case v:return{...e,loading:!1,success:!0,product:t.payload,error:""};case f:return{...e,loading:!1,success:!1,product:{},error:t.payload};case S:return{...e,loading:!1,success:!1,product:{},error:""};default:return e}},deleteProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{...e,loading:!0,success:!1,error:""};case E:return{...e,loading:!1,success:!0,error:""};case N:return{...e,loading:!1,success:!1,error:t.payload};case _:return{...e,loading:!1,success:!1,error:""};default:return e}},createCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{...e,loading:!0,cardData:{},success:!1,error:""};case I:return{...e,loading:!1,success:!0,cardData:t.payload,error:""};case D:return{...e,loading:!1,cardData:{},success:!1,error:t.payload};case T:return{...e,loading:!1,success:!1,cardData:{},error:""};default:return e}},chargeCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{...e,loading:!0,success:!1,error:""};case P:return{...e,loading:!1,success:!0,error:""};case $:return{...e,loading:!1,success:!1,error:t.payload};case G:return{...e,loading:!1,success:!1,error:""};default:return e}},savedCardsListReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stripeCards:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{...e,loading:!0,success:!1,error:""};case z:return{...e,loading:!1,success:!0,stripeCards:t.payload,error:""};case B:return{...e,loading:!1,success:!1,error:t.payload};default:return e}},updateStripeCardtReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{loading:!0,success:!1,stripeCard:{},error:""};case Q:return{loading:!1,success:!0,stripeCard:t.payload,error:""};case X:return{loading:!1,success:!1,stripeCard:{},error:t.payload};case W:return{loading:!1,success:!1,stripeCard:{},error:""};default:return e}},deleteSavedCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return{...e,loading:!0,error:""};case q:return{...e,loading:!1,success:!0,data:t.payload,error:""};case H:return{...e,loading:!1,error:t.payload};default:return e}},userLoginReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{...e,loading:!0};case K:return{...e,loading:!1,userInfo:t.payload};case J:return{loading:!1,error:t.payload};case Z:return{};default:return e}},userRegisterReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{...e,loading:!0};case te:return{...e,loading:!1,userInfo:t.payload};case se:return{loading:!1,error:t.payload};case Z:return{};default:return e}},getSingleAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{...e,loading:!0,address:{},success:!1,error:""};case Oe:return{...e,loading:!1,address:t.payload,success:!0,error:""};case ge:return{...e,loading:!1,address:{},success:!1,error:t.payload};case ye:return{...e,loading:!1,address:{},success:!1,error:""};default:return e}},getAllAddressesOfUserReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{...e,loading:!0,addresses:[],success:!1,error:""};case pe:return{...e,loading:!1,addresses:t.payload,success:!0,error:""};case xe:return{...e,loading:!1,addresses:[],success:!1,error:t.payload};default:return e}},createUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{...e,loading:!0,address:{},success:!1,error:""};case fe:return{...e,loading:!1,address:t.payload,success:!0,error:""};case Se:return{...e,loading:!1,success:!1,address:{},error:t.payload};case Ce:return{...e,loading:!1,success:!1,address:{},error:""};default:return e}},updateUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{...e,loading:!0,success:!1,error:""};case Ne:return{...e,loading:!1,success:!0,error:""};case _e:return{...e,loading:!1,success:!1,error:t.payload};case Re:return{...e,loading:!1,success:!1,error:""};default:return e}},deleteUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return{...e,loading:!0,success:!1,error:""};case we:return{...e,loading:!1,success:!0,error:""};case Le:return{...e,loading:!1,success:!1,error:t.payload};case ke:return{...e,loading:!1,success:!1,error:""};default:return e}},getAllOrdersReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{...e,loading:!0,orders:[],error:""};case De:return{...e,loading:!1,orders:t.payload,error:""};case Te:return{...e,loading:!1,orders:[],error:t.payload};default:return e}},changeDeliveryStatusReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{...e,loading:!0,success:!1,error:""};case Pe:return{...e,loading:!1,success:!0,error:""};case $e:return{...e,loading:!1,success:!1,error:t.payload};case Ge:return{...e,loading:!1,success:!1,error:""};default:return e}},checkTokenValidationReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{...e,loading:!0,valid:!1,error:""};case A:return{...e,loading:!1,valid:!0,error:""};case w:return{...e,loading:!1,valid:!1,error:t.payload};case L:return{...e,loading:!1,valid:!1,error:""};default:return e}},userDetailsReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{...e,loading:!0,user:{},error:""};case ce:return{...e,loading:!1,user:t.payload,error:""};case re:return{...e,loading:!1,user:{},error:t.payload};default:return e}},userDetailsUpdateReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{...e,loading:!0,user:{},success:!1,error:""};case le:return{...e,loading:!1,success:!0,user:t.payload,error:""};case de:return{...e,loading:!1,success:!1,user:{},error:t.payload};case ie:return{...e,loading:!1,success:!1,user:{},error:""};default:return e}},deleteUserAccountReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{...e,loading:!0,success:!1,error:""};case je:return{...e,loading:!1,success:!0,error:""};case be:return{...e,loading:!1,success:!1,error:t.payload};case ue:return{...e,loading:!1,success:!1,error:""};default:return e}},adSubmission:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:null,success:!1,ad:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{...e,loading:!0,error:null,success:!1};case ze:return{...e,loading:!1,success:!0,error:null,ad:t.payload};case Be:return{...e,loading:!1,success:!1,error:t.payload};case Ve:return{loading:!1,error:null,success:!1,ad:null};default:return e}},adApproval:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{loading:!0};case He:return{loading:!1,success:!0};case Me:return{loading:!1,error:t.payload};default:return e}},activeAds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activeAds:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return{loading:!0,activeAds:[]};case Ke:return{loading:!1,activeAds:t.payload};case Je:return{loading:!1,error:t.payload};default:return e}},pendingAds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pendingAds:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return{loading:!0,pendingAds:[]};case Xe:return{loading:!1,pendingAds:t.payload};case We:return{loading:!1,error:t.payload};default:return e}},orderRequest:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return{...e,loading:!0,error:null,success:!1};case et:return{...e,loading:!1,success:!0,order:t.payload,lastSubmitted:(new Date).toISOString(),error:null};case tt:return{...e,loading:!1,error:t.payload,success:!1};case st:return at;default:return e}}});const rt=[i.a],nt={userLoginReducer:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},adSubmission:{loading:!1,error:null,success:!1,ad:null}};var lt=Object(l.createStore)(ct,nt,Object(d.composeWithDevTools)(Object(l.applyMiddleware)(...rt))),dt=s(8),it=s(14),ot=s(10),jt=s.n(ot);const bt="https://api.luxefreemarket.com",ut=e=>async t=>{try{t({type:u});const{data:s}=await jt.a.get(`${bt}/api/product/${e}/`);t({type:h,payload:s})}catch(s){t({type:p,payload:s.message})}};var ht=s(116),pt=s(0);var xt=function(e){let{variant:t,children:s}=e;return Object(pt.jsx)(ht.a,{variant:t,children:s})},mt=s(118),Ot=s(75),gt=s(117),yt=s(119),vt=s(76),ft=s(129);var St=function(e){let{product:t}=e;const s=t.image.startsWith("http")?t.image:`https://api.luxefreemarket.com${t.image}`;return Object(pt.jsx)("div",{children:Object(pt.jsx)(ft.a,{className:"mb-4 rounded",children:Object(pt.jsxs)(ft.a.Body,{children:[Object(pt.jsx)(dt.Link,{to:`/product/${t.id}`,style:{color:"black"},children:Object(pt.jsx)(ft.a.Img,{variant:"top",src:s,style:{width:"100%",height:"auto",aspectRatio:"1 / 1",objectFit:"cover",borderRadius:"10px"},onError:e=>{e.target.onerror=null,e.target.src=""}})}),Object(pt.jsx)(dt.Link,{to:`/product/${t.id}`,style:{color:"black"},children:Object(pt.jsx)(ft.a.Title,{as:"div",style:{fontSize:"clamp(0.9rem, 2.5vw, 1.2rem)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Object(pt.jsx)("strong",{children:t.name})})}),Object(pt.jsxs)(ft.a.Text,{as:"h3",style:{fontSize:"clamp(1rem, 3vw, 1.5rem)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["Tsh ",t.price]})]})})})},Ct=s(13);var Et=function(){const e=Object(it.l)(),[t,s]=Object(a.useState)(e.pathname),c=e=>{s(e)};return Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)("div",{style:{height:"4rem"}})," ",Object(pt.jsxs)("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"#fff",borderTop:"1px solid #ddd",display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0.5rem 0",zIndex:1e3,height:"4rem"},children:[Object(pt.jsx)("div",{className:"text-center",children:Object(pt.jsxs)(dt.Link,{to:"/",onClick:()=>c("/"),style:{color:"/"===t?"blue":"black",textDecoration:"none"},children:[Object(pt.jsx)(Ct.k,{size:24}),Object(pt.jsx)("p",{style:{fontSize:"0.75rem",margin:0},children:"Home"})]})}),Object(pt.jsx)("div",{className:"text-center",children:Object(pt.jsxs)(dt.Link,{to:"/search",onClick:()=>c("/search"),style:{color:"/search"===t?"blue":"black",textDecoration:"none"},children:[Object(pt.jsx)(Ct.m,{size:24}),Object(pt.jsx)("p",{style:{fontSize:"0.75rem",margin:0},children:"Search"})]})}),Object(pt.jsx)("div",{className:"text-center",children:Object(pt.jsxs)(dt.Link,{to:"/",onClick:()=>c("/explore"),style:{color:"/explore"===t?"blue":"black",textDecoration:"none"},children:[Object(pt.jsx)(Ct.h,{size:24}),Object(pt.jsx)("p",{style:{fontSize:"0.75rem",margin:0},children:"Explore"})]})}),Object(pt.jsx)("div",{className:"text-center",children:Object(pt.jsxs)(dt.Link,{to:"/advertise",onClick:()=>c("/advertise"),style:{color:"/advertise"===t?"blue":"black",textDecoration:"none"},children:[Object(pt.jsx)(Ct.c,{size:24}),Object(pt.jsx)("p",{style:{fontSize:"0.75rem",margin:0},children:"Advertise"})]})}),Object(pt.jsx)("div",{className:"text-center",children:Object(pt.jsxs)(dt.Link,{to:"/account",onClick:()=>c("/account"),style:{color:"/account"===t?"blue":"black",textDecoration:"none"},children:[Object(pt.jsx)(Ct.p,{size:24}),Object(pt.jsx)("p",{style:{fontSize:"0.75rem",margin:0},children:"Profile"})]})})]})]})},Nt=s(127);var _t=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(!0),[r,n]=Object(a.useState)(null),[l,d]=Object(a.useState)(0),[i,o]=Object(a.useState)({}),[j,b]=Object(a.useState)({}),[u,h]=Object(a.useState)({}),p=Object(a.useRef)(null),x=Object(a.useRef)([]);Object(a.useEffect)((()=>{(async()=>{try{const{data:e}=await jt.a.get("https://api.luxefreemarket.com/ads/active/");t(e);const s={},a={},r={};e.forEach(((e,t)=>{"video"===e.ad_type&&(s[t]=!0,a[t]=!1,r[t]=!0)})),o(s),b(a),h(r),c(!1)}catch(e){n(e.message),c(!1)}})()}),[]);Object(a.useEffect)((()=>{e.length>0&&(x.current=x.current.slice(0,e.length),e.forEach(((t,s)=>{if("video"===t.ad_type&&x.current[s]){const a=x.current[s];a.onended=()=>(t=>{t<e.length-1&&p.current.next()})(s),a.onplay=()=>(e=>{b((t=>({...t,[e]:!1})))})(s),a.onpause=e=>((e,t)=>{0===t.target.currentTime&&b((t=>({...t,[e]:!0})))})(s,e),a.oncanplay=()=>{o((e=>({...e,[s]:!1})))},a.onerror=()=>{console.error(`Failed to load video at index ${s}: ${t.ad_file_url}`),o((e=>({...e,[s]:!1})))};const c=a.play();void 0!==c&&c.catch((()=>{b((e=>({...e,[s]:!0}))),o((e=>({...e,[s]:!1})))}))}})),m(0))}),[e]);const m=e=>{x.current.forEach(((t,s)=>{if(t){var a;const c=null===(a=u[s])||void 0===a||a;if(s===e){t.muted=c;const e=t.play();void 0!==e&&e.catch((()=>{b((e=>({...e,[s]:!0})))}))}else t.pause(),t.muted=!0}}))};return s?Object(pt.jsx)("div",{className:"text-center py-4",children:Object(pt.jsx)(gt.a,{animation:"border"})}):r?Object(pt.jsxs)("div",{className:"text-center py-4 text-danger",children:["Error loading ads: ",r]}):0===e.length?null:Object(pt.jsx)(Nt.a,{ref:p,activeIndex:l,onSelect:e=>{d(e),m(e)},indicators:!1,controls:e.length>1,interval:1e4,className:"mb-4",style:{width:"100%",height:"auto",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:e.map(((e,t)=>{var s;return Object(pt.jsx)(Nt.a.Item,{children:Object(pt.jsx)(ft.a,{style:{position:"relative",border:"none",borderRadius:"10px",overflow:"hidden",display:"inline-block",width:"100%"},children:Object(pt.jsxs)(ft.a.Body,{className:"p-0",children:["image"===e.ad_type?Object(pt.jsx)("img",{src:`https://api.luxefreemarket.com${e.ad_file_url}`,alt:e.ad_title,className:"img-fluid",style:{width:"100%",height:"auto",maxHeight:"50vh",objectFit:"contain",display:"block"}}):Object(pt.jsxs)("div",{style:{position:"relative"},children:[Object(pt.jsx)("video",{ref:e=>x.current[t]=e,src:`https://api.luxefreemarket.com${e.ad_file_url}`,playsInline:!0,preload:"auto",className:"img-fluid",style:{width:"100%",height:"auto",maxHeight:"50vh",objectFit:"contain",display:"block"},onClick:()=>(e=>{const t=x.current[e];t&&(t.muted=!1,t.play(),h((t=>({...t,[e]:!1}))))})(t),muted:null===(s=u[t])||void 0===s||s}),Object(pt.jsx)(Ot.a,{variant:"light",size:"sm",style:{position:"absolute",top:10,right:10,zIndex:10,opacity:.9},onClick:()=>(e=>{const t=x.current[e];if(t){const s=!u[e];t.muted=s,h((t=>({...t,[e]:s})))}})(t),children:u[t]?"Unmute":"Mute"})]}),Object(pt.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.5rem",textAlign:"center",boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.3)",zIndex:2,cursor:"pointer"},onClick:()=>window.open(`https://wa.me/${e.phone_number}?text=I%20saw%20an%20ad%20on%20Luxe%20Free%20Market%20system%20and%20I%20am%20interested%20in%20your%20product%20(${e.ad_title})`,"_blank"),children:[Object(pt.jsx)("h3",{style:{fontWeight:"bold",marginBottom:"0.25rem",textShadow:"0 2px 5px rgba(0, 0, 0, 0.7)"},children:e.ad_title}),Object(pt.jsx)("p",{style:{fontSize:"1rem",textShadow:"0 2px 5px rgba(0, 0, 0, 0.7)"},children:e.ad_description})]})]})})},t)}))})};var Rt=function(){let e=Object(it.k)(),t=e.location.search?e.location.search.split("=")[1].toLowerCase():"";const s=Object(n.b)(),[c,r]=Object(a.useState)("All"),[l,d]=Object(a.useState)(["All"]);Object(a.useEffect)((()=>{(async()=>{try{const{data:e}=await jt.a.get("https://api.luxefreemarket.com/api/categories/"),t=["All",...new Set(e.map((e=>e.name)))];d(t)}catch(h){console.error("Error fetching categories:",h)}})()}),[]);const i=Object(n.c)((e=>e.productsListReducer)),{loading:u,error:h,products:p}=i;Object(a.useEffect)((()=>{(async()=>{try{await s((async e=>{try{e({type:o});const{data:t}=await jt.a.get(`${bt}/api/products/`);e({type:j,payload:t})}catch(h){e({type:b,payload:h.message})}}))}catch(h){console.error("Error fetching products:",h)}})(),s({type:g})}),[s,c]),Object(a.useEffect)((()=>{p&&p.length>0&&p.forEach((e=>{console.log(`Product Image Path: ${e.image}`)}))}),[p]);const x=p.filter((e=>{const s=e.name.toLowerCase().includes(t),a="All"===c||e.category_name===c;return s&&a}));return Object(pt.jsxs)("div",{children:[Object(pt.jsx)(_t,{}),Object(pt.jsx)("div",{className:"mb-4 text-center",children:Object(pt.jsx)("div",{style:{overflowX:"auto",whiteSpace:"nowrap"},children:Object(pt.jsx)(mt.a,{className:"flex-nowrap",children:l.map((e=>Object(pt.jsx)(Ot.a,{variant:c===e?"primary":"outline-primary",onClick:()=>r(e),className:"mx-1 mb-2 rounded-pill",style:{backgroundColor:c===e?"black":"transparent",color:c===e?"white":"black",borderColor:"black"},children:e},e)))})})}),h&&Object(pt.jsx)(xt,{variant:"danger",children:h}),u?Object(pt.jsxs)("div",{className:"text-center py-5",children:[Object(pt.jsx)(gt.a,{animation:"border"}),Object(pt.jsx)("p",{className:"mt-2",children:"Loading products..."})]}):Object(pt.jsx)(yt.a,{children:x.length>0?x.map((e=>Object(pt.jsx)(vt.a,{xs:6,sm:6,md:4,lg:3,xl:3,children:Object(pt.jsx)("div",{className:"product-card mx-2",children:Object(pt.jsx)(St,{product:{...e,price:Math.floor(e.price).toLocaleString()}})})},e.id))):!u&&Object(pt.jsx)(xt,{variant:"info",children:"Nothing to show"})}),Object(pt.jsx)(Et,{})]})},At=s(125),wt=s(120),Lt=s(126);s(105);var kt=function(e){var t,s,c,r;let{history:l,match:d}=e;const[i,o]=Object(a.useState)(!1),[j,b]=Object(a.useState)(1),[u,h]=Object(a.useState)(0),[p,x]=Object(a.useState)(!0),m=Object(n.b)(),O=Object(a.useRef)(null),y=Object(n.c)((e=>e.productDetailsReducer)),{loading:v,error:f,product:R}=y,A=Object(n.c)((e=>e.userLoginReducer)),{userInfo:w}=A,L=Object(n.c)((e=>e.deleteProductReducer)),{success:k}=L,I=(null===R||void 0===R?void 0:R.image)?[R.image,...(null===(t=R.images)||void 0===t?void 0:t.map((e=>e.image)))||[]]:(null===(s=R.images)||void 0===s?void 0:s.map((e=>e.image)))||[];Object(a.useEffect)((()=>{if(!p||I.length<=1)return;const e=setInterval((()=>{h((e=>(e+1)%I.length))}),3e3);return()=>clearInterval(e)}),[p,I.length]),Object(a.useEffect)((()=>{if(O.current){var e;const t=(null===(e=O.current.children[0])||void 0===e?void 0:e.offsetWidth)||0;O.current.scrollTo({left:u*t,behavior:"smooth"})}}),[u]),Object(a.useEffect)((()=>{m(ut(d.params.id)),m({type:S}),m({type:g}),m({type:T})}),[m,d]);const D=()=>o(!1);return k&&(alert("Product successfully deleted."),l.push("/"),m({type:_})),Object(pt.jsxs)("div",{children:[Object(pt.jsxs)(At.a,{show:i,onHide:D,children:[Object(pt.jsx)(At.a.Header,{closeButton:!0,children:Object(pt.jsxs)(At.a.Title,{children:[Object(pt.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(pt.jsxs)(At.a.Body,{children:["Are you sure you want to delete this product ",Object(pt.jsxs)("em",{children:['"',null===R||void 0===R?void 0:R.name,'"']}),"?"]}),Object(pt.jsxs)(At.a.Footer,{children:[Object(pt.jsx)(Ot.a,{variant:"danger",onClick:()=>{var e;m((e=d.params.id,async(t,s)=>{try{t({type:C});const{userLoginReducer:a}=s(),{userInfo:c}=a;if(!c)throw new Error("Please login to delete a product");const r={headers:{Authorization:`Bearer ${c.token||c.access}`},withCredentials:!0};await jt.a.delete(`${bt}/api/product-delete/${e}/`,r),t({type:E})}catch(f){var a;t({type:N,payload:(null===(a=f.response)||void 0===a?void 0:a.data)||{detail:f.message}})}})),D()},children:"Confirm Delete"}),Object(pt.jsx)(Ot.a,{variant:"primary",onClick:D,children:"Cancel"})]})]}),v&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Product Details"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),f?Object(pt.jsx)(xt,{variant:"danger",children:f}):Object(pt.jsx)("div",{children:Object(pt.jsx)(wt.a,{children:Object(pt.jsxs)(yt.a,{children:[Object(pt.jsxs)(vt.a,{md:6,children:[Object(pt.jsxs)("div",{className:"image-carousel-container",children:[Object(pt.jsx)("div",{className:"image-carousel",ref:O,onMouseEnter:()=>x(!1),onMouseLeave:()=>x(!0),children:I.map(((e,t)=>{return Object(pt.jsx)("div",{className:"carousel-image "+(t===u?"active":""),children:Object(pt.jsx)("img",{src:(s=e,s?s.startsWith("http")?s:`https://api.luxefreemarket.com${s}`:""),alt:`${null===R||void 0===R?void 0:R.name} ${t+1}`,onError:e=>{e.target.onerror=null,e.target.src=""}})},t);var s}))}),I.length>1&&Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)("button",{className:"carousel-button prev",onClick:()=>{h((e=>(e-1+I.length)%I.length)),x(!1)},children:Object(pt.jsx)(Ct.e,{})}),Object(pt.jsx)("button",{className:"carousel-button next",onClick:()=>{h((e=>(e+1)%I.length)),x(!1)},children:Object(pt.jsx)(Ct.f,{})})]}),I.length>1&&Object(pt.jsx)("div",{className:"carousel-indicators",children:I.map(((e,t)=>Object(pt.jsx)("button",{className:"indicator "+(t===u?"active":""),onClick:()=>(e=>{h(e),x(!1)})(t)},t)))})]}),w&&w.admin&&Object(pt.jsxs)("span",{style:{display:"flex",marginTop:"15px"},children:[Object(pt.jsx)(Ot.a,{className:"btn btn-danger btn-sm button-focus-css",style:{width:"100%"},onClick:()=>o(!0),children:"Delete Product"}),Object(pt.jsx)(Ot.a,{className:"ml-2 btn btn-primary btn-sm button-focus-css",onClick:()=>l.push(`/product-update/${null===R||void 0===R?void 0:R.id}/`),style:{width:"100%"},children:"Edit Product"})]})]}),Object(pt.jsxs)(vt.a,{sm:!0,children:[Object(pt.jsx)("b",{children:null===R||void 0===R?void 0:R.name}),Object(pt.jsx)("span",{className:"badge badge-secondary ml-2",children:null===R||void 0===R?void 0:R.category_name}),Object(pt.jsx)("hr",{}),Object(pt.jsx)("span",{className:"justify-description-css",children:Object(pt.jsx)("p",{children:null===R||void 0===R?void 0:R.description})}),Object(pt.jsxs)("span",{style:{display:"flex",justifyContent:"center",border:"1px solid",borderColor:"#C6ACE7",padding:"2px"},children:["Price:",Object(pt.jsxs)("span",{className:"text-success ml-2",children:["Tsh ",Math.floor((null===R||void 0===R?void 0:R.price)||0).toLocaleString()]})]})]}),Object(pt.jsxs)(vt.a,{sm:!0,children:[Object(pt.jsx)("b",{children:"Buy"}),Object(pt.jsx)("hr",{}),(null===R||void 0===R?void 0:R.stock)?Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"quantity",children:[Object(pt.jsx)(Lt.a.Label,{children:"Quantity"}),Object(pt.jsx)(Lt.a.Control,{as:"select",value:j,onChange:e=>b(e.target.value),children:[...Array(10).keys()].map((e=>Object(pt.jsx)("option",{value:e+1,children:e+1},e+1)))})]}),Object(pt.jsx)(dt.Link,{to:`/order-now?product=${null===R||void 0===R?void 0:R.id}&qty=${j}&name=${encodeURIComponent(null===R||void 0===R?void 0:R.name)}&price=${null===R||void 0===R?void 0:R.price}&supplier=${encodeURIComponent((null===R||void 0===R||null===(c=R.supplier_info)||void 0===c?void 0:c.name)||"")}&whatsapp=${encodeURIComponent((null===R||void 0===R||null===(r=R.supplier_info)||void 0===r?void 0:r.whatsapp_link)||"")}`,className:"btn btn-success btn-block",children:"Order Now"})]}):Object(pt.jsx)(xt,{variant:"danger",children:"Out Of Stock!"})]})]})})}),Object(pt.jsx)(Et,{})]})},It=s(121);const Dt=e=>async(t,s)=>{try{t({type:k});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`,"Card-Number":e.cardNumber}},{data:r}=await jt.a.post("/payments/create-card/",{email:e.email,number:e.cardNumber,exp_month:e.expMonth,exp_year:e.expYear,cvc:e.cvc,save_card:e.saveCard},c);t({type:I,payload:r})}catch(a){t({type:D,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}},Tt=()=>async(e,t)=>{try{e({type:F});const{userLoginReducer:{userInfo:s}}=t(),a={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:c}=await jt.a.get("/account/stripe-cards/",a);e({type:z,payload:c})}catch(s){e({type:B,payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}};var Ut=function(e){let{userId:t,deleteCardNumber:s,runCardDeleteHandler:a,toggleRunCardDeleteHandler:c}=e;const r=Object(n.b)(),l=e=>{var t;r((t=e,async(e,s)=>{try{e({type:V});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.post("/payments/delete-card/",{card_number:t},c);e({type:q,payload:r})}catch(a){e({type:H,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}})),c()};return Object(pt.jsx)("div",{children:Object(pt.jsx)("div",{children:Object(pt.jsxs)(At.a,{show:a,onHide:c,children:[Object(pt.jsx)(At.a.Header,{closeButton:!0,children:Object(pt.jsxs)(At.a.Title,{children:[Object(pt.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(pt.jsxs)(At.a.Body,{children:[Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Warning!"})," ","deleting your card will delete your stripe account and all its data."]}),'Are you sure you want to delete the card "',s,'"?']}),Object(pt.jsxs)(At.a.Footer,{children:[Object(pt.jsx)(Ot.a,{variant:"danger",onClick:()=>l(s),children:"Confirm Delete"}),Object(pt.jsx)(Ot.a,{variant:"primary",onClick:c,children:"Cancel"})]})]})})})};let Pt=(new Date).getFullYear();var $t=e=>{let{stripeCards:t,addressSelected:s}=e,c=Object(it.k)();const r=Object(n.b)(),[l]=Object(a.useState)(0),[d,i]=Object(a.useState)(!1),[o,j]=Object(a.useState)(!1),[b,u]=Object(a.useState)(!1),[h,p]=Object(a.useState)(0),[x,m]=Object(a.useState)(!1),[O]=Object(a.useState)(""),[g,y]=Object(a.useState)(""),[v,f]=Object(a.useState)(""),[S,C]=Object(a.useState)(""),[E,N]=Object(a.useState)(""),[_,R]=Object(a.useState)(""),[A,w]=Object(a.useState)(!1),L=Object(n.c)((e=>e.userLoginReducer)),{userInfo:k}=L,I=Object(n.c)((e=>e.deleteSavedCardReducer)),{loading:D,success:T,error:U}=I;Object(a.useEffect)((()=>{k||c.push("/login")}),[c,k,T]);const P=e=>{if(b&&e.id===h)return Object(pt.jsxs)("div",{children:[Object(pt.jsx)("button",{onClick:()=>u(!1),className:"btn btn-outline-danger btn-sm button-focus-css",style:{float:"right",position:"relative",top:"-40px"},children:"close"}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Exp Month:"})," ",e.exp_month]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Exp Year:"})," ",e.exp_year]})]})};return T&&(alert("Card successfully deleted."),window.location.reload()),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("div",{children:Object(pt.jsx)(pt.Fragment,{children:Object(pt.jsx)(Ut,{userId:l,deleteCardNumber:O,runCardDeleteHandler:d,toggleRunCardDeleteHandler:()=>{i(!d)}})})}),D&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Deleting card"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),U&&Object(pt.jsx)(xt,{variant:"danger",children:U}),Object(pt.jsxs)("div",{className:"card px-4 py-4",children:[Object(pt.jsx)("button",{className:x?"btn btn-sm btn-danger mb-3 button-focus-css":"btn btn-sm btn-primary mb-3 button-focus-css",onClick:()=>m(!x),children:x?"close":"Enter stripe card"}),x?Object(pt.jsxs)(Lt.a,{onSubmit:e=>{if(e.preventDefault(),s){const e={email:""===g?k.email:g,cardNumber:v,expMonth:S?Number(S):"",expYear:E?Number(E):"",cvc:_?Number(_):"",saveCard:A};r(Dt(e))}else alert("Please select or add your Address to continue")},children:[o?Object(pt.jsxs)(Lt.a.Group,{children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Card Holder Email Address"})}),Object(pt.jsx)(Lt.a.Control,{autoFocus:!0,type:"email",pattern:".+@gmail\\.com",value:g,onChange:e=>y(e.target.value),placeholder:"Email address linked with the Card"})]}):Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Default Customer Email: "}),k.email]}),Object(pt.jsx)("p",{children:Object(pt.jsx)(dt.Link,{to:"#",onClick:()=>{j(!o),y("")},children:o?"Use Your default Email":"Use a different Card"})}),Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Card Number"})}),Object(pt.jsx)(Lt.a.Control,{type:"text",pattern:"[0-9]+",value:v,onChange:e=>f(e.target.value),placeholder:"Enter Your Card Number",maxLength:"16",required:!0})]}),Object(pt.jsxs)(yt.a,{children:[Object(pt.jsx)(vt.a,{children:Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Exp Month"})}),Object(pt.jsxs)("select",{className:"form-control",defaultValue:S,onChange:e=>C(e.target.value),required:!0,children:[Object(pt.jsx)("option",{children:"-- --"}),Array.from({length:12},((e,t)=>Object(pt.jsx)("option",{children:t+1},t)))]})]})}),Object(pt.jsx)(vt.a,{children:Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Exp Year"})}),Object(pt.jsxs)("select",{className:"form-control",defaultValue:E,onChange:e=>N(e.target.value),required:!0,children:[Object(pt.jsx)("option",{children:"-- --"}),Array.from({length:21},((e,t)=>Object(pt.jsx)("option",{children:Pt+t},t)))]})]})}),Object(pt.jsx)(vt.a,{children:Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"CVC Number"})}),Object(pt.jsx)(Lt.a.Control,{type:"numbers",onChange:e=>R(e.target.value),placeholder:"123",maxLength:"3",pattern:"[0-9]+",required:!0})]})})]}),Object(pt.jsx)(Lt.a.Text,{className:"text-muted pb-2",children:Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("input",{hidden:o,type:"checkbox",className:"mt-1",value:!o&&A,onChange:()=>w(!A)}),Object(pt.jsx)("span",{hidden:o,className:"ml-1",children:"Save my card for future payments"})]})}),Object(pt.jsx)(Ot.a,{className:"btn-sm button-focus-css",variant:"primary",type:"submit",children:"Submit"})]}):""]}),Object(pt.jsxs)("div",{className:"my-4 card px-4 py-4",children:[Object(pt.jsx)("h5",{children:"Saved card"}),t.length>0?t.map((e=>Object(pt.jsxs)("div",{children:[Object(pt.jsxs)(ft.a,{style:{border:"1px solid",borderColor:"#C6ACE7"},className:"p-2",children:[Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Card Number:"})," XXXX XXXX XXXX ",e.card_number.slice(12,18)]}),Object(pt.jsxs)("div",{children:[P(e),Object(pt.jsx)("button",{onClick:()=>{u(!0),p(e.id)},className:"btn btn-sm btn-outline-primary button-focus-css",children:"Show Card Details"}),Object(pt.jsx)("button",{onClick:()=>(e=>{if(s){const t={email:e.email,cardNumber:e.card_number,expMonth:Number(e.exp_month),expYear:Number(e.exp_year),cvc:Number(e.cvc),saveCard:!1};r(Dt(t))}else alert("Please select or add your Address to continue")})(e),className:"ml-2 btn btn-sm btn-outline-primary button-focus-css",children:"Pay with this Card"})]})]}),Object(pt.jsx)("span",{onClick:()=>c.push("/stripe-card-details/"),children:Object(pt.jsx)("i",{title:"edit card",className:"fas fa-edit fa-lg edit-button-css mr-2"})})]},e.id))):"No saved card."]})]})};const Gt="https://api.luxefreemarket.com",Ft=()=>e=>{localStorage.removeItem("userInfo"),e({type:Z}),e({type:T})},zt=()=>async(e,t)=>{try{e({type:R});const{userLoginReducer:{userInfo:s}}=t(),a={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:c}=await jt.a.get(`${Gt}/payments/check-token/`,a);e({type:A,payload:c})}catch(s){e({type:w,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}},Bt=e=>async(t,s)=>{try{t({type:ae});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.get(`${Gt}/account/user/${e}`,c);t({type:ce,payload:r})}catch(a){t({type:re,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}},Vt=()=>async(e,t)=>{try{e({type:he});const{userLoginReducer:{userInfo:s}}=t(),a={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:c}=await jt.a.get(`${Gt}/account/all-address-details/`,a);e({type:pe,payload:c})}catch(s){e({type:xe,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}},qt=e=>async(t,s)=>{try{t({type:me});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.get(`${Gt}/account/address-details/${e}/`,c);t({type:Oe,payload:r})}catch(a){t({type:ge,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}},Ht=()=>async(e,t)=>{try{e({type:Ie});const{userLoginReducer:{userInfo:s}}=t(),a={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:c}=await jt.a.get(`${Gt}/account/all-orders-list/`,a);e({type:De,payload:c})}catch(s){e({type:Te,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}};var Mt=e=>{let{product:t,match:s,selectedAddressId:c,addressSelected:r}=e,l=Object(it.k)();const d=Object(n.b)(),i=Object(n.c)((e=>e.createCardReducer)),{cardData:o}=i,j=Object(n.c)((e=>e.chargeCardReducer)),{success:b,error:u,loading:h}=j,p=Object(n.c)((e=>e.getSingleAddressReducer)),{address:x}=p;Object(a.useEffect)((()=>{d(qt(c))}),[d,s,c]);return b&&(l.push({pathname:"/payment-status/",state:{detail:t}}),window.location.reload()),Object(pt.jsxs)("div",{children:[u?Object(pt.jsx)(xt,{variant:"danger",children:u}):"",Object(pt.jsx)("span",{className:"text-info",children:Object(pt.jsx)("h5",{children:"Confirm payment"})}),Object(pt.jsxs)("div",{className:"mb-2",children:["Using Card: XXXX XXXX XXXX ",o.card_data.last4]}),Object(pt.jsx)(Lt.a,{onSubmit:e=>{e.preventDefault();const s=`${x.house_no}, near ${x.landmark}, ${x.city}, \n        ${x.state}, ${x.pin_code}`,a={email:o.email,source:o.id,amount:t.price,name:x.name,card_number:o.card_data.last4,address:s,ordered_item:t.name,paid_status:!0,total_price:t.price,is_delivered:!1,delivered_at:"Not Delivered"};d((e=>async(t,s)=>{try{t({type:U});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.post("/payments/charge-customer/",e,c);t({type:P,payload:r})}catch(a){t({type:$,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}})(a))},children:h?Object(pt.jsxs)(Ot.a,{variant:"primary",disabled:!0,style:{width:"100%"},children:[Object(pt.jsx)(gt.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," ","Processing Payment..."]}):Object(pt.jsxs)(Ot.a,{variant:"primary",type:"submit",style:{width:"100%"},children:["Pay \u20b9",t.price]})}),Object(pt.jsx)(ft.a,{className:"p-2 mt-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:x?Object(pt.jsxs)("div",{children:[Object(pt.jsx)("span",{className:"text-info",children:Object(pt.jsx)("b",{children:Object(pt.jsx)("em",{children:"Will be delievered at this address"})})}),Object(pt.jsx)("p",{}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Name: "}),x?x.name:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Phone Number: "}),x?x.phone_number:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"House Number: "}),x?x.house_no:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Landmark: "}),x?x.landmark:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"City: "}),x?x.city:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"State: "}),x?x.state:""]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("b",{children:"Pin Code/Zip Code: "}),x?x.pin_code:""]})]}):""}),Object(pt.jsx)(dt.Link,{to:"#",onClick:()=>window.location.reload(),children:"Select a different card to pay"})]})};var Qt=function(e){let{handleAddressId:t}=e,s=Object(it.k)();const c=Object(n.b)(),r=Object(n.c)((e=>e.userLoginReducer)),{userInfo:l}=r,d=Object(n.c)((e=>e.getAllAddressesOfUserReducer)),{addresses:i}=d;return Object(a.useEffect)((()=>{l?c(Vt()):s.push("/login")}),[c,s,l]),Object(pt.jsx)("div",{children:i?i.map(((e,s)=>Object(pt.jsx)("div",{children:Object(pt.jsxs)(ft.a,{className:"p-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:[Object(pt.jsx)("input",{type:"radio",name:"addressId",value:0,onClick:()=>{return s=e.id,void t(s);var s}}),Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Name: "}),e.name]}),Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Address: "}),e.house_no,", ",e.landmark,", ",e.city,",",e.state,", ",e.pin_code]})]},e.id)},s))):"empty"})};var Xt=e=>{let{match:t}=e,s=Object(it.k)();const c=Object(n.b)(),[r,l]=Object(a.useState)(!1),[d,i]=Object(a.useState)(0),o=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:j}=o,b=Object(n.c)((e=>e.productDetailsReducer)),{loading:u,error:h,product:p}=b,x=Object(n.c)((e=>e.createCardReducer)),{error:m,success:O,loading:g}=x,y=Object(n.c)((e=>e.userLoginReducer)),{userInfo:v}=y,f=Object(n.c)((e=>e.savedCardsListReducer)),{stripeCards:S}=f;return Object(a.useEffect)((()=>{v?(c(zt()),c(ut(t.params.id)),c(Tt()),c({type:G})):s.push("/login")}),[c,t,s,O,v]),v&&"Request failed with status code 401"===j&&(alert("Session expired, please login again."),c(Ft()),s.push("/login"),window.location.reload()),Object(pt.jsxs)("div",{children:[m?Object(pt.jsx)(xt,{variant:"danger",children:m}):"",u&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Checkout Info"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),!u&&g?Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Checking your card"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}):"",h?Object(pt.jsx)(xt,{variant:"danger",children:h}):Object(pt.jsx)(wt.a,{children:Object(pt.jsxs)(yt.a,{children:[Object(pt.jsxs)(vt.a,{xs:6,children:[Object(pt.jsx)("h3",{children:"Checkout Summary"}),Object(pt.jsx)(ft.a,{className:"mb-4",children:Object(pt.jsx)(ft.a.Body,{children:Object(pt.jsx)(wt.a,{children:Object(pt.jsxs)(yt.a,{children:[Object(pt.jsx)(vt.a,{children:Object(pt.jsx)(It.a,{src:p.image,alt:"image",height:"180"})}),Object(pt.jsxs)(vt.a,{children:[Object(pt.jsx)("h5",{className:"card-title text-capitalize",children:p.name}),Object(pt.jsxs)("span",{className:"card-text text-success",children:["\u20b9 ",p.price]})]})]})})})}),Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h3",{children:"Billing Address"}),Object(pt.jsx)(dt.Link,{className:"ml-2 mt-2",to:"/all-addresses/",children:"Edit/Add Address"})]}),Object(pt.jsx)(Qt,{handleAddressId:e=>{e&&l(!0),i(e)}})]}),Object(pt.jsxs)(vt.a,{xs:6,children:[Object(pt.jsx)("h3",{children:"Payments Section"}),O?Object(pt.jsx)(Mt,{selectedAddressId:d,addressSelected:r,product:p}):Object(pt.jsx)($t,{addressSelected:r,stripeCards:S})]})]})}),Object(pt.jsx)(Et,{})]})},Wt=s(128),Yt=s(130),Kt=s(124),Jt=s(28),Zt=s.p+"static/media/logo.b76b78ec.jpeg";var es=function(){let e=Object(it.k)();const t=Object(n.b)(),s=Object(n.c)((e=>e.userLoginReducer)),{userInfo:a}=s,c=Object(it.l)(),r="/login"===c.pathname||"/register"===c.pathname;return Object(pt.jsxs)(pt.Fragment,{children:[!a&&!r&&Object(pt.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:1050},children:[Object(pt.jsx)("h2",{children:"You must log in to use the system"}),Object(pt.jsx)(Jt.LinkContainer,{to:"/login",children:Object(pt.jsx)("button",{style:{marginTop:"20px",padding:"10px 20px",fontSize:"16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Go to Login"})})]}),Object(pt.jsx)("header",{children:Object(pt.jsx)(Wt.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(pt.jsxs)(wt.a,{children:[Object(pt.jsx)(Jt.LinkContainer,{to:"/",children:Object(pt.jsx)(Wt.a.Brand,{children:Object(pt.jsx)("img",{src:Zt,alt:"Logo",style:{width:"40px",height:"40px",marginRight:"10px"}})})}),Object(pt.jsx)(Wt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(pt.jsxs)(Wt.a.Collapse,{id:"basic-navbar-nav",children:[Object(pt.jsxs)(Yt.a,{className:"mr-auto",children:[Object(pt.jsx)(Jt.LinkContainer,{to:"/help",children:Object(pt.jsx)(Yt.a.Link,{children:"Help"})}),Object(pt.jsx)(Jt.LinkContainer,{to:"/about",children:Object(pt.jsx)(Yt.a.Link,{children:"About Us"})}),a&&a.admin?Object(pt.jsx)(Jt.LinkContainer,{to:"/new-product/",children:Object(pt.jsx)(Yt.a.Link,{children:"Add Product"})}):""]}),a?Object(pt.jsx)("div",{children:Object(pt.jsxs)(Kt.a,{className:"navbar-nav text-capitalize",title:a.username,id:"username",children:[Object(pt.jsx)(Jt.LinkContainer,{to:"/account",children:Object(pt.jsx)(Kt.a.Item,{children:"Account Settings"})}),Object(pt.jsx)(Jt.LinkContainer,{to:"/all-addresses/",children:Object(pt.jsx)(Kt.a.Item,{children:"Address Settings"})}),Object(pt.jsx)(Jt.LinkContainer,{to:"/stripe-card-details/",children:Object(pt.jsx)(Kt.a.Item,{children:"Card Settings"})}),Object(pt.jsx)(Jt.LinkContainer,{to:"/all-orders/",children:Object(pt.jsx)(Kt.a.Item,{children:"All Orders"})}),Object(pt.jsx)(Kt.a.Item,{onClick:()=>{t(Ft()),e.push("/login"),window.location.reload()},children:"Logout"})]})}):Object(pt.jsx)(Jt.LinkContainer,{to:"/login",children:Object(pt.jsxs)(Yt.a.Link,{children:[Object(pt.jsx)("i",{className:"fas fa-user"})," Login"]})})]})]})})})]})};var ts=()=>{const e=Object(it.l)();return(()=>{try{const t=e.state.detail;return Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h3",{className:"text-success",children:"Payment was Successfull"}),Object(pt.jsxs)(ft.a,{className:"p-3",children:["Successfully bought",Object(pt.jsx)("br",{}),Object(pt.jsxs)("span",{className:"mb-2",style:{display:"flex"},children:[t.name,", \u20b9",t.price," ",Object(pt.jsx)("i",{className:"text-primary ml-1 mt-1 fas fa-check-circle"})]}),Object(pt.jsx)(dt.Link,{to:"/all-orders/",children:"Go to orders page"})]})]})}catch(t){return Object(pt.jsx)(xt,{variant:"info",children:"Payment status not available."})}})()};var ss=function(e){let{history:t}=e;const[s,c]=Object(a.useState)(""),[r,l]=Object(a.useState)(""),d=Object(n.b)(),i=Object(n.c)((e=>e.userLoginReducer)),{error:o,userInfo:j}=i;return Object(a.useEffect)((()=>{j&&t.push("/")}),[t,j]),Object(pt.jsx)("div",{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(vt.a,{xs:12,md:6,children:[Object(pt.jsx)("div",{className:"text-center",children:Object(pt.jsx)("img",{src:Zt,alt:"Logo",style:{width:"150px",marginBottom:"20px"}})}),Object(pt.jsx)("h1",{children:"Sign In"}),o&&Object(pt.jsx)(xt,{variant:"danger",children:o}),Object(pt.jsxs)(Lt.a,{onSubmit:e=>{e.preventDefault(),d(((e,t)=>async s=>{try{s({type:Y});const a={headers:{"Content-type":"application/json"}},{data:c}=await jt.a.post(`${Gt}/account/login/`,{username:e,password:t},a);s({type:K,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c))}catch(o){s({type:J,payload:o.response&&o.response.data.detail?o.response.data.detail:o.message})}})(s,r))},children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"username",children:[Object(pt.jsx)(Lt.a.Label,{children:"Username"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"enter username",value:s,onChange:e=>c(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"password",children:[Object(pt.jsx)(Lt.a.Label,{children:"Password"}),Object(pt.jsx)(Lt.a.Control,{type:"password",placeholder:"enter your password",value:r,onChange:e=>l(e.target.value)})]}),Object(pt.jsx)(Ot.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(pt.jsx)(yt.a,{className:"py-3",children:Object(pt.jsxs)(vt.a,{children:["Do not have an account?",Object(pt.jsx)(dt.Link,{to:"/register",children:" Register"})]})})]})})})};var as=function(e){let{history:t,variant:s}=e;const[c,r]=Object(a.useState)(""),[l,d]=Object(a.useState)(""),[i,o]=Object(a.useState)(""),[j,b]=Object(a.useState)(""),[u,h]=Object(a.useState)(""),p=Object(n.b)(),x=Object(n.c)((e=>e.userRegisterReducer)),{error:m,userInfo:O}=x;return Object(a.useEffect)((()=>{O&&t.push("/")}),[t,O]),Object(pt.jsx)("div",{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(vt.a,{xs:12,md:6,children:[Object(pt.jsx)("div",{className:"text-center",children:Object(pt.jsx)("img",{src:Zt,alt:"Logo",style:{width:"150px",marginBottom:"20px"}})}),Object(pt.jsx)("h1",{children:"Sign Up"}),u&&Object(pt.jsx)(xt,{variant:"danger",children:u}),m&&Object(pt.jsx)(xt,{variant:"danger",children:m}),Object(pt.jsxs)(Lt.a,{onSubmit:e=>{e.preventDefault(),i!==j?h("Passwords do not match!"):p(((e,t,s)=>async a=>{try{a({type:ee});const c={headers:{"Content-type":"application/json"}},{data:r}=await jt.a.post(`${Gt}/account/register/`,{username:e,email:t,password:s},c);a({type:te,payload:r}),a({type:K,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(m){a({type:se,payload:m.response&&m.response.data.detail?m.response.data.detail:m.message})}})(c,l,i))},children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Lt.a.Label,{children:"Username"}),Object(pt.jsx)(Lt.a.Control,{required:!0,type:"text",placeholder:"enter your username",value:c,onChange:e=>r(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"email",children:[Object(pt.jsx)(Lt.a.Label,{children:"Email Address"}),Object(pt.jsx)(Lt.a.Control,{required:!0,type:"email",placeholder:"enter your email",value:l,onChange:e=>d(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"password",children:[Object(pt.jsx)(Lt.a.Label,{children:"Password"}),Object(pt.jsx)(Lt.a.Control,{required:!0,type:"password",placeholder:"enter your password",value:i,onChange:e=>o(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"passwordConfirm",children:[Object(pt.jsx)(Lt.a.Label,{children:"Confirm Password"}),Object(pt.jsx)(Lt.a.Control,{required:!0,type:"password",placeholder:"confirm your password",value:j,onChange:e=>b(e.target.value)})]}),Object(pt.jsx)(Ot.a,{type:"submit",variant:"primary",children:"Sign Up"})]}),Object(pt.jsx)(yt.a,{className:"py-3",children:Object(pt.jsxs)(vt.a,{children:["Already have an account?",Object(pt.jsx)(dt.Link,{to:"/login",children:" Login"})]})})]})})})};var cs=()=>{let e=Object(it.k)();const t=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:s}=t,c=Object(n.b)(),[r,l]=Object(a.useState)(""),[d,i]=Object(a.useState)(""),[o,j]=Object(a.useState)(""),[b,u]=Object(a.useState)(""),[h,p]=Object(a.useState)(""),[x,m]=Object(a.useState)(""),[O,g]=Object(a.useState)(""),[y,v]=Object(a.useState)(""),[f,S]=Object(a.useState)(""),[C,E]=Object(a.useState)(""),N=Object(n.c)((e=>e.userLoginReducer)),{userInfo:_}=N,R=Object(n.c)((e=>e.savedCardsListReducer)),{stripeCards:A,loading:w}=R,L=Object(n.c)((e=>e.updateStripeCardtReducer)),{success:k}=L;Object(a.useEffect)((()=>{_?(c(zt()),c(Tt())):e.push("/login")}),[c,e,_,k]),_&&"Request failed with status code 401"===s&&(alert("Session expired, please login again."),c(Ft()),e.push("/login"),window.location.reload());const I=e=>{if(e.preventDefault(),f&&C){c((t={card_number:r,customer_id:f,card_id:C,exp_month:o,exp_year:b,name_on_card:d,address_city:h,address_country:x,address_state:O,address_zip:y},async(e,s)=>{try{e({type:M});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.post("/payments/update-card/",t,c);e({type:Q,payload:r})}catch(a){e({type:X,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}}))}var t};return k&&(alert("Card Successfully Updated"),e.push("/stripe-card-details"),c({type:W})),Object(pt.jsxs)("div",{children:[Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(vt.a,{xs:12,md:6,children:[Object(pt.jsx)("span",{className:"d-flex justify-content-center",style:{display:"flex",marginBottom:"15px",color:"#008080"},children:Object(pt.jsx)("em",{children:"Update Card Details"})}),w&&Object(pt.jsx)(gt.a,{animation:"border"}),A.map(((t,s)=>Object(pt.jsx)("div",{children:Object(pt.jsx)(ft.a,{className:"p-4 mb-4",style:{border:"1px solid",borderColor:"#C6ACE7"},children:Object(pt.jsxs)(Lt.a,{onSubmit:I,children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Lt.a.Label,{children:"Name on Card"}),Object(pt.jsx)(Lt.a.Control,{autoFocus:!0,type:"text",defaultValue:t.name_on_card,placeholder:"full name",onChange:e=>i(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"month",children:[Object(pt.jsx)(Lt.a.Label,{children:"Exp Month"}),Object(pt.jsx)(Lt.a.Control,{type:"text",pattern:"[0-9]+",maxLength:"2",defaultValue:t.exp_month,placeholder:"exp month",onChange:e=>j(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"year",children:[Object(pt.jsx)(Lt.a.Label,{children:"Exp Year"}),Object(pt.jsx)(Lt.a.Control,{type:"text",pattern:"[0-9]+",defaultValue:t.exp_year,placeholder:"exp year",maxLength:"4",onChange:e=>u(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"city",children:[Object(pt.jsx)(Lt.a.Label,{children:"Address City"}),Object(pt.jsx)(Lt.a.Control,{type:"text",defaultValue:t.address_city,placeholder:"address city",onChange:e=>p(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"country",children:[Object(pt.jsx)(Lt.a.Label,{children:"Address Country"}),Object(pt.jsx)(Lt.a.Control,{type:"text",defaultValue:t.address_country,placeholder:"address country",onChange:e=>m(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"state",children:[Object(pt.jsx)(Lt.a.Label,{children:"Address State"}),Object(pt.jsx)(Lt.a.Control,{type:"text",defaultValue:t.address_state,placeholder:"address state",onChange:e=>g(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"zip",children:[Object(pt.jsx)(Lt.a.Label,{children:"Address Zip"}),Object(pt.jsx)(Lt.a.Control,{type:"text",defaultValue:t.address_zip,placeholder:"address zip",pattern:"[0-9]+",maxLength:"6",onChange:e=>v(e.target.value)})]}),Object(pt.jsx)(Ot.a,{type:"submit",variant:"success",onClick:()=>{return e=t.customer_id,s=t.card_id,a=t.card_number,S(e),E(s),void l(a);var e,s,a},style:{width:"100%"},className:"btn-sm button-focus-css",children:"Save Changes"}),Object(pt.jsx)(Ot.a,{type:"submit",variant:"primary",onClick:()=>e.push("/stripe-card-details/"),style:{width:"100%"},className:"btn-sm mt-2 button-focus-css",children:"Cancel"})]})})},s)))]})}),Object(pt.jsx)(Et,{})," "]})};var rs=()=>{let e=Object(it.k)();const t=Object(n.b)(),[s,c]=Object(a.useState)(0),[r,l]=Object(a.useState)(!1),[d,i]=Object(a.useState)(""),o=Object(n.c)((e=>e.userLoginReducer)),{userInfo:j}=o,b=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:u}=b,h=Object(n.c)((e=>e.savedCardsListReducer)),{stripeCards:p,loading:x}=h,m=Object(n.c)((e=>e.deleteSavedCardReducer)),{success:O}=m;return Object(a.useEffect)((()=>{j?(t(zt()),t(Tt())):e.push("/login")}),[t,e,j]),j&&"Request failed with status code 401"===u&&(alert("Session expired, please login again."),t(Ft()),e.push("/login"),window.location.reload()),O&&(alert("Card successfully deleted."),window.location.reload()),Object(pt.jsxs)("div",{children:[x&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Card Information"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),Object(pt.jsx)("div",{children:Object(pt.jsx)(pt.Fragment,{children:Object(pt.jsx)(Ut,{userId:s,deleteCardNumber:d,runCardDeleteHandler:r,toggleRunCardDeleteHandler:()=>{l(!r)}})})}),p.length>0?p.map(((e,t)=>Object(pt.jsxs)("div",{children:[Object(pt.jsxs)(wt.a,{children:[Object(pt.jsxs)(yt.a,{className:"mr-6 mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Name on Card:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:e.name_on_card?Object(pt.jsx)("span",{children:e.name_on_card}):"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Exp Month:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:e.exp_month?e.exp_month:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Exp Year:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:e.exp_year?e.exp_year:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mr-6 mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Address City:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:e.address_city?e.address_city:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Address Country:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:e.address_country?e.address_country:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Address State:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:e.address_state?e.address_state:"Not Set"})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Address Zip:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:e.address_zip?e.address_zip:"Not Set"})]})]}),Object(pt.jsxs)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(pt.jsx)(dt.Link,{to:"/stripe-card-update/",children:"Update Card details"}),Object(pt.jsx)("span",{className:"ml-1 text-primary",children:"| "}),Object(pt.jsx)("span",{className:"ml-1"}),Object(pt.jsx)(dt.Link,{to:"#",onClick:()=>{i(e.card_number),c(e.user),l(!r)},children:"Delete Card"})]})]},t))):Object(pt.jsx)("div",{children:Object(pt.jsx)(xt,{variant:"info",children:"Card details not available."})}),Object(pt.jsx)(Et,{})]})};var ns=function(){let e=Object(it.k)();const t=Object(n.b)(),s=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:c}=s,r=Object(n.c)((e=>e.userLoginReducer)),{userInfo:l}=r,d=Object(n.c)((e=>e.userDetailsReducer)),{user:i,loading:o}=d;Object(a.useEffect)((()=>{if(l)try{t(zt()),t(Bt(l.id))}catch(s){e.push("/")}else e.push("/login")}),[e,l,t]);const j=()=>{t(Ft())};return l&&"Request failed with status code 401"===c&&(alert("Session expired, please login again."),t(Ft()),e.push("/login"),window.location.reload()),Object(pt.jsxs)(pt.Fragment,{children:[(()=>{try{return Object(pt.jsxs)("div",{children:[o&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting User Information"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),Object(pt.jsxs)(wt.a,{children:[Object(pt.jsxs)(yt.a,{className:"mr-6 mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Name:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:i.username})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Email:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:i.email})]}),Object(pt.jsxs)(yt.a,{className:"mb-2 border border-dark",children:[Object(pt.jsx)(vt.a,{xs:2,className:"p-3 bg-info text-white",children:"Admin Privileges:"}),Object(pt.jsx)(vt.a,{className:"p-3",children:i.admin?"Yes":"No"})]})]}),Object(pt.jsxs)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(pt.jsx)(dt.Link,{to:"/account/update",children:"Update Account details"}),Object(pt.jsx)("span",{className:"ml-1 text-primary",children:"| "}),Object(pt.jsx)("span",{className:"ml-1"}),Object(pt.jsx)(dt.Link,{to:"/account/delete/",children:"Delete Account"})]})]})}catch(e){return Object(pt.jsxs)(xt,{variant:"danger",children:["Something went wrong, go back to ",Object(pt.jsx)(dt.Link,{onClick:j,to:"/login",children:" Login"})," page."]})}})(),Object(pt.jsx)(Et,{})," "]})};var ls=function(){let e=Object(it.k)();const t=Object(n.b)(),s=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:c}=s,[r,l]=Object(a.useState)(""),[d,i]=Object(a.useState)(""),[o,j]=Object(a.useState)(""),[b,u]=Object(a.useState)(""),h=Object(n.c)((e=>e.userLoginReducer)),{userInfo:p}=h,x=Object(n.c)((e=>e.userDetailsReducer)),{user:m,loading:O}=x,g=Object(n.c)((e=>e.userDetailsUpdateReducer)),{success:y}=g;Object(a.useEffect)((()=>{p||e.push("/login"),t(zt()),t(Bt(p.id))}),[t,e,p]),p&&"Request failed with status code 401"===c&&(alert("Session expired, please login again."),t(Ft()),e.push("/login"),window.location.reload());const v=e=>{e.preventDefault();const s=""===r?m.username:r,a=""===d?m.email:d;if(o!==b)alert("Passwords do not match");else{t((e=>async(t,s)=>{try{t({type:ne});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.put(`${Gt}/account/user_update/${a.id}/`,{username:e.username,email:e.email,password:e.password},c);t({type:le,payload:r})}catch(a){t({type:de,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}})({username:s,email:a,password:o}))}},f=()=>{e.push("/login"),t(Ft())};return y&&(alert("Account successfully updated."),t({type:ie}),e.push("/account/"),t(Bt(p.id))),(()=>{try{return Object(pt.jsxs)("div",{children:[Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(vt.a,{xs:12,md:6,children:[Object(pt.jsx)("span",{className:"d-flex justify-content-center",style:{display:"flex",marginBottom:"15px",color:"#008080"},children:Object(pt.jsx)("em",{children:"Update User Details"})}),O&&Object(pt.jsx)(gt.a,{animation:"border"}),Object(pt.jsxs)(Lt.a,{onSubmit:v,children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"username",children:[Object(pt.jsx)(Lt.a.Label,{children:"Username"}),Object(pt.jsx)(Lt.a.Control,{autoFocus:!0,type:"text",defaultValue:m.username,placeholder:"username",onChange:e=>l(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"email",children:[Object(pt.jsx)(Lt.a.Label,{children:"Email Address"}),Object(pt.jsx)(Lt.a.Control,{type:"email",placeholder:"enter email",defaultValue:m.email,onChange:e=>i(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"password",children:[Object(pt.jsx)(Lt.a.Label,{children:"Reset-Password"}),Object(pt.jsx)(Lt.a.Control,{type:"password",placeholder:"enter new password",onChange:e=>j(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"confirmPassword",children:[Object(pt.jsx)(Lt.a.Label,{children:"Confirm Password"}),Object(pt.jsx)(Lt.a.Control,{type:"password",placeholder:"confirm new password",onChange:e=>u(e.target.value)})]}),Object(pt.jsx)(Ot.a,{type:"submit",variant:"success",className:"btn-sm",children:"Save Changes"}),Object(pt.jsx)(dt.Link,{to:"/account",children:Object(pt.jsx)("button",{className:"btn btn-primary btn-sm ml-2",type:"button",children:"Cancel"})})]})]})}),Object(pt.jsx)(Et,{})]})}catch(e){return Object(pt.jsxs)(xt,{variant:"danger",children:["An error occurred. Please ",Object(pt.jsx)(dt.Link,{onClick:f,to:"/login",children:"Login"})," again."]})}})()};var ds=function(){let e=Object(it.k)();const t=Object(n.b)(),[s,c]=Object(a.useState)(""),r=Object(n.c)((e=>e.userLoginReducer)),{userInfo:l}=r,d=Object(n.c)((e=>e.deleteUserAccountReducer)),{success:i,loading:o,error:j}=d;return i&&(alert("Account successfully deleted."),t({type:ue}),t(Ft()),e.push("/login"),window.location.reload()),Object(pt.jsxs)("div",{children:[Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(vt.a,{xs:12,md:6,children:[Object(pt.jsx)("h3",{children:"Confirm your password to delete your account."}),o&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Please wait"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),j&&Object(pt.jsx)(xt,{variant:"danger",children:"Incorrect Password!"}),Object(pt.jsx)("div",{className:"mt-4",children:Object(pt.jsxs)(Lt.a,{onSubmit:e=>{e.preventDefault();const a={id:l.id,password:s};t(zt()),t((e=>async(t,s)=>{try{t({type:oe});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.post(`${Gt}/account/user_delete/${e.id}/`,{password:e.password},c);t({type:je,payload:r})}catch(j){t({type:be,payload:j.response&&j.response.data.details?j.response.data.details:j.message})}})(a))},children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"password",children:[Object(pt.jsx)(Lt.a.Label,{children:"Password"}),Object(pt.jsx)(Lt.a.Control,{required:!0,type:"password",placeholder:"enter your password",value:s,onChange:e=>c(e.target.value)})]}),Object(pt.jsx)(Ot.a,{type:"submit",variant:"danger",children:"Confirm Delete"})]})})]})}),Object(pt.jsx)(Et,{})," "]})},is=s(122);var os=e=>{let{toggleCreateAddress:t}=e;const s=Object(n.b)(),[c,r]=Object(a.useState)(""),[l,d]=Object(a.useState)(""),[i,o]=Object(a.useState)(""),[j,b]=Object(a.useState)(""),[u,h]=Object(a.useState)(""),[p,x]=Object(a.useState)(""),[m,O]=Object(a.useState)(""),g=Object(n.c)((e=>e.createUserAddressReducer)),{success:y,error:v}=g;return y&&(alert("Address successfully created."),t(),s({type:Ce}),s(Vt())),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("p",{className:"text-center text-info",children:Object(pt.jsx)("em",{children:"New Address"})}),v?Object(pt.jsx)(xt,{variant:"danger",children:v}):"",Object(pt.jsx)(ft.a,{className:"mx-auto mb-4",style:{width:"50%",border:"1px solid",borderColor:"#C6ACE7"},children:Object(pt.jsx)(ft.a.Body,{children:Object(pt.jsxs)(Lt.a,{onSubmit:e=>{e.preventDefault();s((e=>async(t,s)=>{try{t({type:ve});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.post(`${Gt}/account/create-address/`,e,c);t({type:fe,payload:r})}catch(a){t({type:Se,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}})({name:c,phone_number:l,pin_code:i,house_no:j,landmark:u,city:p,state:m}))},children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Lt.a.Label,{children:"Name"}),Object(pt.jsx)(Lt.a.Control,{autoFocus:!0,type:"text",placeholder:"enter your name",value:c,onChange:e=>r(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"phoneNumber",children:[Object(pt.jsx)(Lt.a.Label,{children:"Phone Number"}),Object(pt.jsxs)(is.a,{children:[Object(pt.jsx)(is.a.Text,{children:"+91"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"phone number",pattern:"[0-9]+",maxLength:"10",value:l,onChange:e=>d(e.target.value)})]})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"pinCode",children:[Object(pt.jsx)(Lt.a.Label,{children:"Pin Code"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"pin code",value:i,pattern:"[0-9]+",maxLength:"6",onChange:e=>o(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"houseNumber",children:[Object(pt.jsx)(Lt.a.Label,{children:"House No./Address"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"house number",value:j,onChange:e=>b(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"landmark",children:[Object(pt.jsx)(Lt.a.Label,{children:"Landmark"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"landmark",value:u,onChange:e=>h(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"city",children:[Object(pt.jsx)(Lt.a.Label,{children:"City"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"city",value:p,onChange:e=>x(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"state",children:[Object(pt.jsx)(Lt.a.Label,{children:"State"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"state",value:m,onChange:e=>O(e.target.value)})]}),Object(pt.jsx)(Ot.a,{style:{width:"100%"},className:"btn-sm",type:"submit",variant:"success",children:"Save Address"}),Object(pt.jsx)(Ot.a,{style:{width:"100%"},className:"btn-sm mt-2",variant:"primary",onClick:()=>t(),children:"Cancel"})]})})})]})};var js=function(){let e=Object(it.k)();const t=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:s}=t,c=Object(n.b)(),[r,l]=Object(a.useState)(""),[d,i]=Object(a.useState)(!1),[o,j]=Object(a.useState)(!1),b=()=>j(!1),u=Object(n.c)((e=>e.userLoginReducer)),{userInfo:h}=u,p=Object(n.c)((e=>e.getAllAddressesOfUserReducer)),{addresses:x,loading:m}=p,O=Object(n.c)((e=>e.deleteUserAddressReducer)),{success:g}=O;Object(a.useEffect)((()=>{h?(c(zt()),c(Vt()),c({type:ye})):e.push("/login")}),[c,e,h,g]),h&&"Request failed with status code 401"===s&&(alert("Session expired, please login again."),c(Ft()),e.push("/login"),window.location.reload()),g&&(alert("Address successfully deleted."),c({type:ke}),c(Vt()));const y=e=>{l(e),j(!0)},v=e=>{c((e=>async(t,s)=>{try{t({type:Ae});const{userLoginReducer:{userInfo:a}}=s(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.token}`}},{data:r}=await jt.a.delete(`${Gt}/account/delete-address/${e}/`,c);t({type:we,payload:r})}catch(a){t({type:Le,payload:a.response&&a.response.data.details?a.response.data.details:a.message})}})(e)),b()},f=()=>{i(!d)};return Object(pt.jsxs)("div",{children:[Object(pt.jsx)("div",{children:Object(pt.jsx)(pt.Fragment,{children:Object(pt.jsxs)(At.a,{show:o,onHide:b,children:[Object(pt.jsx)(At.a.Header,{closeButton:!0,children:Object(pt.jsxs)(At.a.Title,{children:[Object(pt.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(pt.jsxs)(At.a.Body,{children:["Are you sure you want to delete this address"," ",Object(pt.jsxs)("em",{children:['"',r.house_no,", ",r.city,", ",r.state,'"']}),"?"]}),Object(pt.jsxs)(At.a.Footer,{children:[Object(pt.jsx)(Ot.a,{variant:"danger",onClick:()=>v(r.id),children:"Confirm Delete"}),Object(pt.jsx)(Ot.a,{variant:"primary",onClick:b,children:"Cancel"})]})]})})}),m&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting addresses"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),d?Object(pt.jsx)("div",{children:Object(pt.jsx)(os,{toggleCreateAddress:f})}):Object(pt.jsx)("button",{className:"btn btn-sm btn-primary mb-2 button-focus-css",onClick:()=>f(),children:"Add new address +"}),x&&!d?x.map(((t,s)=>Object(pt.jsx)("div",{children:Object(pt.jsxs)(ft.a,{className:"p-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:[Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Name: "}),t.name]}),Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Phone No: "}),"+91 ",t.phone_number]}),Object(pt.jsxs)("span",{children:[Object(pt.jsx)("b",{children:"Address: "}),t.house_no,", near ",t.landmark,", ",t.city,", ",t.state,",",t.pin_code,Object(pt.jsx)("span",{onClick:()=>y(t),children:Object(pt.jsx)("i",{title:"delete address",className:"mt-2 fas fa-trash-alt fa-lg delete-button-css"})}),Object(pt.jsx)("span",{onClick:()=>e.push(`/all-addresses/${t.id}/`),children:Object(pt.jsx)("i",{title:"edit address",className:"mt-2 mr-2 fas fa-edit fa-lg edit-button-css"})})]})]},t.id)},s))):"",Object(pt.jsx)(Et,{})]})};var bs=e=>{let{match:t}=e,s=Object(it.k)();const c=Object(n.b)(),[r,l]=Object(a.useState)(""),[d,i]=Object(a.useState)(""),[o,j]=Object(a.useState)(""),[b,u]=Object(a.useState)(""),[h,p]=Object(a.useState)(""),[x,m]=Object(a.useState)(""),[O,g]=Object(a.useState)(""),y=Object(n.c)((e=>e.userLoginReducer)),{userInfo:v}=y,f=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:S}=f,C=Object(n.c)((e=>e.getSingleAddressReducer)),{address:E,error:N}=C,_=Object(n.c)((e=>e.updateUserAddressReducer)),{success:R}=_;Object(a.useEffect)((()=>{v?(c(zt()),c(qt(t.params.id))):s.push("/login")}),[c,s,v,t]),v&&"Request failed with status code 401"===S&&(alert("Session expired, please login again."),c(Ft()),s.push("/login"),window.location.reload());return R&&(alert("Address updated successfully."),c({type:Re}),s.push("/all-addresses/"),c(Vt())),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("p",{className:"text-center text-info",children:Object(pt.jsx)("em",{children:"Update Address"})}),N&&Object(pt.jsx)("h3",{children:"Invalid Address Request"}),Object(pt.jsx)(ft.a,{className:"mx-auto mb-4",style:{width:"50%",border:"1px solid",borderColor:"#C6ACE7"},children:Object(pt.jsx)(ft.a.Body,{children:Object(pt.jsxs)(Lt.a,{onSubmit:e=>{e.preventDefault();const s={name:r,phone_number:d,pin_code:o,house_no:b,landmark:h,city:x,state:O};var a,n;c((a=t.params.id,n=s,async(e,t)=>{try{e({type:Ee});const{userLoginReducer:{userInfo:s}}=t(),c={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{data:r}=await jt.a.put(`${Gt}/account/update-address/${a}/`,n,c);e({type:Ne,payload:r})}catch(s){e({type:_e,payload:s.response&&s.response.data.details?s.response.data.details:s.message})}}))},children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Lt.a.Label,{children:"Name"}),Object(pt.jsx)(Lt.a.Control,{autoFocus:!0,type:"text",placeholder:"enter your name",defaultValue:E?E.name:"",onChange:e=>l(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"phoneNumber",children:[Object(pt.jsx)(Lt.a.Label,{children:"Phone Number"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"phone number",pattern:"[0-9]+",maxLength:"10",defaultValue:E?E.phone_number:"",onChange:e=>i(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"pinCode",children:[Object(pt.jsx)(Lt.a.Label,{children:"Pin Code"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"pin code",defaultValue:E?E.pin_code:"",pattern:"[0-9]+",maxLength:"6",onChange:e=>j(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"houseNumber",children:[Object(pt.jsx)(Lt.a.Label,{children:"House No./Address"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"house number",defaultValue:E?E.house_no:"",onChange:e=>u(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"landmark",children:[Object(pt.jsx)(Lt.a.Label,{children:"Landmark"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"landmark",defaultValue:E?E.landmark:"",onChange:e=>p(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"city",children:[Object(pt.jsx)(Lt.a.Label,{children:"City"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"city",defaultValue:E?E.city:"",onChange:e=>m(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"state",children:[Object(pt.jsx)(Lt.a.Label,{children:"State"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"state",defaultValue:E?E.state:"",onChange:e=>g(e.target.value)})]}),Object(pt.jsx)(Ot.a,{style:{width:"100%"},className:"btn-sm",type:"submit",variant:"success",children:"Save Changes"}),Object(pt.jsx)(Ot.a,{style:{width:"100%"},className:"btn-sm mt-2",variant:"primary",onClick:()=>s.push("/all-addresses/"),children:"Cancel"})]})})})]})},us=s(123);const hs=e=>{const t=e.slice(8,10),s=e.slice(5,7),a=e.slice(0,4);switch(s){case"01":return`${t} January ${a}`;case"02":return`${t} Feburary ${a}`;case"03":return`${t} March ${a}`;case"04":return`${t} April ${a}`;case"05":return`${t} May ${a}`;case"06":return`${t} June ${a}`;case"07":return`${t} July ${a}`;case"08":return`${t} August ${a}`;case"09":return`${t} September ${a}`;case"10":return`${t} October ${a}`;case"11":return`${t} November ${a}`;case"12":return`${t} December ${a}`;default:return null}};var ps=e=>{let{handleSearchTerm:t,placeholderValue:s}=e;const[c,r]=Object(a.useState)("");return Object(pt.jsx)("div",{children:Object(pt.jsx)("form",{onSubmit:e=>{e.preventDefault(),t(c)},children:Object(pt.jsxs)("span",{style:{display:"flex"},className:"",children:[Object(pt.jsx)("input",{type:"text",value:c,placeholder:s,className:"form-control",onChange:e=>r(e.target.value)}),Object(pt.jsx)("button",{type:"submit",className:"btn btn-primary ml-2 button-focus-css",children:Object(pt.jsx)("i",{className:"fas fa-search"})})]})})})};var xs=function(){let e=Object(it.k)();const t=Object(n.b)(),s=hs((new Date).toISOString().slice(0,10)),[c]=Object(a.useState)(s),[r,l]=Object(a.useState)(0),[d,i]=Object(a.useState)(""),o=Object(n.c)((e=>e.userLoginReducer)),{userInfo:j}=o,b=Object(n.c)((e=>e.getAllOrdersReducer)),{orders:u,loading:h}=b,p=Object(n.c)((e=>e.changeDeliveryStatusReducer)),{success:x,loading:m}=p,O=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:g}=O;Object(a.useEffect)((()=>{j?(t(zt()),t(Ht())):e.push("/login")}),[j,t,e]),j&&"Request failed with status code 401"===g&&(alert("Session expired, please login again."),t(Ft()),e.push("/login"),window.location.reload());const y=(e,s)=>{l(e);t(((e,t)=>async(s,a)=>{try{s({type:Ue});const{userLoginReducer:{userInfo:c}}=a(),r={headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.token}`}},{data:n}=await jt.a.put(`${bt}/account/change-order-status/${e}/`,t,r);s({type:Pe,payload:n})}catch(c){s({type:$e,payload:c.response&&c.response.data.detail?c.response.data.detail:c.message})}})(e,{is_delivered:s,delivered_at:s?c:"Not Delivered"}))};return x&&(alert("Delivery status changed successfully"),t({type:Ge}),t(Ht())),Object(pt.jsxs)("div",{children:[h&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Orders"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),j.admin&&Object(pt.jsx)(ps,{handleSearchTerm:e=>{i(e)},placeholderValue:"Search orders by Customer Name, Address or by Ordered Item"}),u.length>0?Object(pt.jsxs)(us.a,{className:"mt-2",striped:!0,bordered:!0,children:[Object(pt.jsx)("thead",{children:Object(pt.jsxs)("tr",{className:"p-3 bg-info text-white text-center",children:[Object(pt.jsx)("th",{children:"Order Id"}),Object(pt.jsx)("th",{children:"Customer Name"}),Object(pt.jsx)("th",{children:"Card Used"}),Object(pt.jsx)("th",{children:"Delivery Address"}),Object(pt.jsx)("th",{children:"Ordered Item"}),Object(pt.jsx)("th",{children:"Paid Status"}),Object(pt.jsx)("th",{children:"Paid On"}),Object(pt.jsx)("th",{children:"Total Amount"}),Object(pt.jsx)("th",{children:"Delivered Status"}),Object(pt.jsx)("th",{children:"Delivered On"}),j.admin&&Object(pt.jsx)("th",{children:"Delivery Status"})]})}),u.filter((e=>e.name.toLowerCase().includes(d)||e.ordered_item.toLowerCase().includes(d)||e.address.toLowerCase().includes(d))).map(((e,t)=>Object(pt.jsx)("tbody",{children:Object(pt.jsxs)("tr",{className:"text-center",children:[Object(pt.jsx)("td",{children:e.id}),Object(pt.jsx)("td",{children:e.name}),Object(pt.jsx)("td",{children:e.card_number}),Object(pt.jsx)("td",{children:e.address}),Object(pt.jsx)("td",{children:e.ordered_item}),Object(pt.jsx)("td",{children:e.paid_status?Object(pt.jsx)("i",{className:"fas fa-check-circle text-success"}):Object(pt.jsx)("i",{className:"fas fa-times-circle text-danger"})}),Object(pt.jsx)("td",{children:hs(e.paid_at)}),Object(pt.jsxs)("td",{children:[e.total_price," INR"]}),Object(pt.jsx)("td",{children:e.is_delivered?Object(pt.jsx)("i",{className:"fas fa-check-circle text-success"}):Object(pt.jsx)("i",{className:"fas fa-times-circle text-danger"})}),Object(pt.jsx)("td",{children:e.delivered_at}),j.admin&&Object(pt.jsx)("td",{children:e.is_delivered?Object(pt.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>y(e.id,!1),children:m&&r===e.id?Object(pt.jsx)(gt.a,{animation:"border"}):"Mark as Undelivered"}):Object(pt.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>y(e.id,!0),children:m&&r===e.id?Object(pt.jsx)(gt.a,{animation:"border"}):"Mark as delivered"})})]})},t)))]}):Object(pt.jsx)(xt,{variant:"info",children:"No orders yet."}),Object(pt.jsx)(Et,{})]})};var ms=()=>Object(pt.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:Object(pt.jsx)(gt.a,{animation:"border",role:"status",children:Object(pt.jsx)("span",{className:"sr-only",children:"Loading..."})})});var Os=()=>{let e=Object(it.k)();const t=Object(n.b)(),[s,c]=Object(a.useState)(""),[r,l]=Object(a.useState)(""),[d,i]=Object(a.useState)(""),[o,j]=Object(a.useState)(!1),[b,u]=Object(a.useState)(null),[h,p]=Object(a.useState)(""),[y,v]=Object(a.useState)([]),[f,S]=Object(a.useState)(!1),[C,E]=Object(a.useState)([]),N=Object(n.c)((e=>e.userLoginReducer)),{userInfo:_}=N,R=Object(n.c)((e=>e.createProductReducer)),{product:A,success:w,error:L}=R,k=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:I}=k;Object(a.useEffect)((()=>{_||e.push("/login"),t(zt());(async()=>{try{const e=await fetch("https://api.luxefreemarket.com/api/categories/"),t=await e.json();v(t)}catch(e){console.error("Failed to fetch categories:",e)}})()}),[t,_,e]);return w&&(alert("Product successfully created."),e.push(`/product/${A.id}/`),t({type:g})),_&&"Request failed with status code 401"===I&&(alert("Session expired, please login again."),t(Ft()),e.push("/login"),window.location.reload()),Object(pt.jsxs)("div",{children:[f&&Object(pt.jsx)(ms,{})," ",L&&Object(pt.jsx)(xt,{variant:"danger",children:"string"===typeof L?L:L.image?L.image[0]:"An error occurred"}),Object(pt.jsx)("span",{className:"d-flex justify-content-center text-info",children:Object(pt.jsx)("em",{children:"New Product"})}),Object(pt.jsxs)(Lt.a,{onSubmit:e=>{e.preventDefault(),S(!0);let a=new FormData;a.append("name",s),a.append("description",r),a.append("price",d),a.append("stock",o),a.append("image",b),a.append("category",h),b&&a.append("image",b),C.forEach((e=>{a.append("images",e)})),console.log("Submitting form data:",Object.fromEntries(a.entries())),t((e=>async(t,s)=>{try{t({type:x});const{userLoginReducer:a}=s(),{userInfo:c}=a;if(!c)throw new Error("Please login to create a product");const r={headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${c.token||c.access}`},withCredentials:!0},{data:n}=await jt.a.post(`${bt}/api/product-create/`,e,r);t({type:m,payload:n})}catch(a){console.error("Error creating product:",a.response?a.response.data:a.message),t({type:O,payload:a.response&&a.response.data?a.response.data:{detail:a.message}})}})(a)).finally((()=>S(!1)))},children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Name"})}),Object(pt.jsx)(Lt.a.Control,{required:!0,autoFocus:!0,type:"text",value:s,placeholder:"product name",onChange:e=>c(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"description",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Description"})}),Object(pt.jsx)(Lt.a.Control,{required:!0,type:"text",value:r,placeholder:"product description",onChange:e=>l(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"price",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Price"})}),Object(pt.jsx)(Lt.a.Control,{required:!0,type:"text",pattern:"[0-9]+(\\.[0-9]{1,2})?%?",value:d,placeholder:"199.99",step:"0.01",maxLength:"8",onChange:e=>i(e.target.value)})]}),Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("label",{children:"In Stock"}),Object(pt.jsx)("input",{type:"checkbox",value:o,className:"ml-2 mt-2",onChange:()=>j(!o)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"image",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Image"})}),Object(pt.jsx)(Lt.a.Control,{required:!0,type:"file",onChange:e=>u(e.target.files[0])})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"images",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Additional Images"})}),Object(pt.jsx)(Lt.a.Control,{type:"file",multiple:!0,onChange:e=>E([...e.target.files])}),Object(pt.jsx)(Lt.a.Text,{className:"text-muted",children:"Select multiple images (optional)"})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"category",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Category"})}),Object(pt.jsxs)(Lt.a.Control,{as:"select",required:!0,value:h,onChange:e=>p(e.target.value),children:[Object(pt.jsx)("option",{value:"",children:"Select Category"}),y.map((e=>Object(pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),Object(pt.jsxs)(Ot.a,{type:"submit",variant:"success",className:"btn-sm button-focus-css",children:[f?Object(pt.jsx)(ms,{}):"Save Product"," "]}),Object(pt.jsx)(Ot.a,{type:"button",variant:"primary",className:"btn-sm ml-2 button-focus-css",onClick:()=>e.push("/"),children:"Cancel"})]}),Object(pt.jsx)(Et,{})," "]})};var gs=e=>{let{match:t}=e;const s=Object(n.c)((e=>e.productDetailsReducer)),{loading:c,product:r}=s,[l,d]=Object(a.useState)(""),[i,o]=Object(a.useState)(""),[j,b]=Object(a.useState)(""),[u,h]=Object(a.useState)(r.stock),[p,x]=Object(a.useState)(""),[m,O]=Object(a.useState)([]);let g=Object(it.k)();const C=Object(n.b)(),[E,N]=Object(a.useState)(!1),_=Object(n.c)((e=>e.userLoginReducer)),{userInfo:R}=_,A=Object(n.c)((e=>e.updateProductReducer)),{success:w,loading:L,error:k}=A,I=Object(n.c)((e=>e.checkTokenValidationReducer)),{error:D}=I;Object(a.useEffect)((()=>{R&&R.admin||g.push("/login"),C(zt()),C(ut(t.params.id))}),[C,R,g,t]);return w&&(alert("Product successfully updated."),C({type:S}),g.push(`/product/${r.id}`)),R&&"Request failed with status code 401"===D&&(alert("Session expired, please login again."),C(Ft()),g.push("/login"),window.location.reload()),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("span",{className:"d-flex justify-content-center text-info",children:Object(pt.jsx)("em",{children:"Edit Product"})}),k?Object(pt.jsxs)("div",{children:[void window.scrollTo({top:0,behavior:"smooth"}),Object(pt.jsx)(xt,{variant:"danger",children:k.image[0]})]}):"",c&&Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Getting Product Details"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}),L?Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("h5",{children:"Updating Product"}),Object(pt.jsx)("span",{className:"ml-2",children:Object(pt.jsx)(gt.a,{animation:"border"})})]}):"",Object(pt.jsxs)(Lt.a,{onSubmit:e=>{e.preventDefault();r.id;let t=new FormData;t.append("name",l||r.name),t.append("description",i||r.description),t.append("price",j||r.price),t.append("stock",u),p&&t.append("image",p),m.forEach((e=>{t.append("images",e)})),C(((e,t)=>async(s,a)=>{try{s({type:y});const{userLoginReducer:c}=a(),{userInfo:r}=c;if(!r)throw new Error("Please login to update a product");const n={headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r.token||r.access}`},withCredentials:!0},{data:l}=await jt.a.put(`${bt}/api/product-update/${e}/`,t,n);s({type:v,payload:l})}catch(r){var c;s({type:f,payload:(null===(c=r.response)||void 0===c?void 0:c.data)||{detail:r.message}})}})(r.id,t))},children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"image",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Image"})}),Object(pt.jsx)("p",{children:Object(pt.jsx)("img",{src:r.image,alt:r.name,height:"200"})}),E?Object(pt.jsxs)("div",{children:[Object(pt.jsx)(Lt.a.Control,{type:"file",onChange:e=>x(e.target.files[0])}),Object(pt.jsx)("span",{onClick:()=>{N(!E),x(""),C({type:S})},className:"btn btn-primary btn-sm mt-2",children:"Cancel"})]}):Object(pt.jsx)("p",{children:Object(pt.jsx)("span",{onClick:()=>N(!E),className:"btn btn-success btn-sm",children:"choose different image"})})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"newImages",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Additional Images"})}),Object(pt.jsx)(Lt.a.Control,{type:"file",multiple:!0,onChange:e=>O([...e.target.files])}),Object(pt.jsx)(Lt.a.Text,{className:"text-muted",children:"Add more images (optional)"})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Name"})}),Object(pt.jsx)(Lt.a.Control,{autoFocus:!0,type:"text",defaultValue:r.name,placeholder:"product name",onChange:e=>d(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"description",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Product Description"})}),Object(pt.jsx)(Lt.a.Control,{type:"text",defaultValue:r.description,placeholder:"product description",onChange:e=>o(e.target.value)})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"price",children:[Object(pt.jsx)(Lt.a.Label,{children:Object(pt.jsx)("b",{children:"Price"})}),Object(pt.jsx)(Lt.a.Control,{type:"text",pattern:"[0-9]+(\\.[0-9]{1,2})?%?",defaultValue:r.price,placeholder:"199.99",step:"0.01",maxLength:"8",onChange:e=>b(e.target.value)})]}),Object(pt.jsxs)("span",{style:{display:"flex"},children:[Object(pt.jsx)("label",{children:"In Stock"}),Object(pt.jsx)("input",{type:"checkbox",defaultChecked:r.stock,className:"ml-2 mt-2",onChange:()=>h(!u)})]}),Object(pt.jsx)(Ot.a,{type:"submit",variant:"success",className:"btn-sm button-focus-css mb-4",children:"Save Changes"}),Object(pt.jsx)(Ot.a,{onClick:()=>g.push(`/product/${r.id}`),variant:"primary",className:"btn-sm ml-2 button-focus-css mb-4",children:"Cancel"})]}),Object(pt.jsx)(Et,{})]})};var ys=function(){return Object(pt.jsxs)("div",{children:[Object(pt.jsx)(xt,{variant:"danger",children:"404 Not Found"}),Object(pt.jsx)(Et,{})]})};const vs="https://api.luxefreemarket.com",fs=()=>async(e,t)=>{try{e({type:Qe});const t={headers:{}},{data:s}=await jt.a.get(`${vs}/ads/pending/`,t);e({type:Xe,payload:s})}catch(s){e({type:We,payload:s.response&&s.response.data.detail?s.response.data.detail:s.message})}};var Ss=function(){const[e,t]=Object(a.useState)(!1),[s,c]=Object(a.useState)(0),r=Object(n.b)(),l=Object(n.c)((e=>e.activeAdsList||{})),{loading:d,activeAds:i}=l,o=Object(a.useCallback)((()=>{i&&i.length>0&&c((e=>(e+1)%i.length))}),[i]);if(Object(a.useEffect)((()=>{let e=!0;e&&r((async e=>{try{e({type:Ye});const{data:t}=await jt.a.get(`${vs}/ads/active/`);e({type:Ke,payload:t})}catch(t){e({type:Je,payload:t.response&&t.response.data.detail?t.response.data.detail:t.message})}}));const s=setTimeout((()=>{i&&i.length>0&&t(!0)}),5e3),a=setInterval(o,1e4);return()=>{e=!1,clearTimeout(s),clearInterval(a)}}),[r,i,o]),d||!i||0===i.length)return null;const j=i[s];return Object(pt.jsxs)(At.a,{show:e,onHide:()=>t(!1),size:"lg",centered:!0,backdrop:"static",children:[Object(pt.jsx)(At.a.Header,{closeButton:!0,children:Object(pt.jsx)(At.a.Title,{children:j.ad_title})}),Object(pt.jsxs)(At.a.Body,{children:["image"===j.ad_type?Object(pt.jsx)("img",{src:j.ad_file_url,alt:j.ad_title,style:{width:"100%",maxHeight:"60vh",objectFit:"contain"}}):Object(pt.jsx)("video",{controls:!0,style:{width:"100%",maxHeight:"60vh"},autoPlay:!0,children:Object(pt.jsx)("source",{src:j.ad_file_url,type:"video/mp4"})}),Object(pt.jsx)("p",{className:"mt-3",children:j.ad_description})]}),Object(pt.jsxs)(At.a.Footer,{children:[Object(pt.jsx)(Ot.a,{as:dt.Link,to:`/order-now?ad=${j.id}`,variant:"primary",children:"Order Now"}),Object(pt.jsx)(Ot.a,{variant:"secondary",onClick:()=>t(!1),children:"Close"})]})]})};s(109);var Cs=function(){return Object(pt.jsxs)(wt.a,{className:"advertise-page py-5",children:[Object(pt.jsx)(yt.a,{className:"justify-content-center mb-5",children:Object(pt.jsxs)(vt.a,{lg:8,className:"text-center",children:[Object(pt.jsxs)("h1",{className:"display-4 mb-4",children:[Object(pt.jsx)(Ct.a,{className:"text-primary mr-2"}),"Advertise With Us"]}),Object(pt.jsx)("p",{className:"lead text-muted",children:"Reach thousands of potential customers and grow your business"})]})}),Object(pt.jsxs)(yt.a,{className:"justify-content-center",children:[Object(pt.jsx)(vt.a,{md:6,lg:5,className:"mb-4",children:Object(pt.jsx)(ft.a,{className:"pricing-card h-100 shadow-sm border-0",children:Object(pt.jsxs)(ft.a.Body,{className:"text-center p-4",children:[Object(pt.jsx)("div",{className:"pricing-badge bg-light text-primary mb-3",children:"POPULAR"}),Object(pt.jsx)("h3",{className:"mb-3",children:"Daily Promotion"}),Object(pt.jsxs)("h2",{className:"display-4 mb-3",children:[Object(pt.jsx)("span",{className:"text-primary",children:"Tsh 500"}),"/day"]}),Object(pt.jsxs)("ul",{className:"list-unstyled mb-4",children:[Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(Ct.d,{className:"text-success mr-2"}),"24-hour visibility"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(Ct.d,{className:"text-success mr-2"}),"Featured placement"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(Ct.d,{className:"text-success mr-2"}),"Detailed analytics"]})]}),Object(pt.jsxs)(Ot.a,{as:dt.Link,to:"/ad-submission",variant:"primary",size:"lg",className:"w-100 py-3",children:["Get Started ",Object(pt.jsx)(Ct.b,{className:"ml-2"})]})]})})}),Object(pt.jsx)(vt.a,{md:6,lg:5,className:"mb-4",children:Object(pt.jsx)(ft.a,{className:"pricing-card h-100 shadow-sm border-0",children:Object(pt.jsxs)(ft.a.Body,{className:"text-center p-4",children:[Object(pt.jsx)("h3",{className:"mb-3",children:"Monthly Package"}),Object(pt.jsxs)("h2",{className:"display-4 mb-3",children:[Object(pt.jsx)("span",{className:"text-primary",children:"Tsh 5000"}),"/month"]}),Object(pt.jsxs)("ul",{className:"list-unstyled mb-4",children:[Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(Ct.d,{className:"text-success mr-2"}),"30-day visibility"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(Ct.d,{className:"text-success mr-2"}),"Premium placement"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(Ct.d,{className:"text-success mr-2"}),"Detailed analytics"]}),Object(pt.jsxs)("li",{className:"mb-2",children:[Object(pt.jsx)(Ct.d,{className:"text-success mr-2"}),"24/7 support"]})]}),Object(pt.jsxs)(Ot.a,{as:dt.Link,to:"/ad-submission",variant:"outline-primary",size:"lg",className:"w-100 py-3",children:["Get Started ",Object(pt.jsx)(Ct.b,{className:"ml-2"})]})]})})})]}),Object(pt.jsx)(yt.a,{className:"justify-content-center mt-5",children:Object(pt.jsx)(vt.a,{lg:8,className:"text-center",children:Object(pt.jsxs)("div",{className:"bg-light p-4 rounded",children:[Object(pt.jsx)("h4",{className:"mb-3",children:"Have questions?"}),Object(pt.jsxs)("p",{className:"mb-0",children:["Contact our advertising team at ",Object(pt.jsx)("a",{href:"mailto:ads@brkluxe.com",children:"ads@brkluxe.com"}),"or call ",Object(pt.jsx)("a",{href:"tel:+255613509299",children:"+255 613 509 299"})]})]})})}),Object(pt.jsx)(Et,{})," "]})},Es=s.p+"static/media/lipa_namba.878e5a37.jpeg";var Ns=function(){const[e,t]=Object(a.useState)(""),[s,c]=Object(a.useState)(""),[r,l]=Object(a.useState)(""),[d,i]=Object(a.useState)("+255"),[o,j]=Object(a.useState)(""),[b,u]=Object(a.useState)(""),[h,p]=Object(a.useState)("image"),[x,m]=Object(a.useState)(null),[O,g]=Object(a.useState)(null),[y,v]=Object(a.useState)(!1),[f,S]=Object(a.useState)("lipa_namba"),[C,E]=Object(a.useState)(!1),[N,_]=Object(a.useState)(""),[R,A]=Object(a.useState)("success"),w=Object(n.b)(),L=Object(it.k)(),{userInfo:k}=Object(n.c)((e=>e.userLoginReducer))||{},{loading:I=!1,error:D=null,success:T=!1}=Object(n.c)((e=>e.adSubmission||{}));return Object(a.useEffect)((()=>{console.log("Redux State:",{adLoading:I,adError:D,adSuccess:T})}),[I,D,T]),Object(a.useEffect)((()=>{k||L.push("/login?redirect=submit-ad")}),[k,L]),Object(a.useEffect)((()=>{if(T){_("Your ad has been successfully submitted! Redirecting to home page..."),A("success"),E(!0);const e=setTimeout((()=>{w({type:Ve}),L.push("/")}),3e3);return()=>clearTimeout(e)}}),[T,L,w]),Object(a.useEffect)((()=>{D&&(_(D),A("danger"),E(!0))}),[D]),Object(a.useEffect)((()=>()=>{w({type:Ve})}),[w]),k?Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)(wt.a,{children:Object(pt.jsx)(yt.a,{className:"justify-content-md-center",children:Object(pt.jsxs)(vt.a,{xs:12,md:8,children:[Object(pt.jsx)("h2",{className:"my-4",children:"Submit Your Ad"}),T&&Object(pt.jsx)(ht.a,{variant:"success",children:"Your ad has been successfully submitted! Redirecting to home page..."}),D&&Object(pt.jsx)(ht.a,{variant:"danger",children:D}),Object(pt.jsxs)(Lt.a,{onSubmit:async t=>{if(t.preventDefault(),!k)return _("Please login to submit an ad"),A("danger"),void E(!0);let a=r;if(a.startsWith("0")&&(a=a.slice(1)),9!==a.length||!/^\d+$/.test(a))return _("Phone number must have exactly 9 digits (excluding the country code)."),A("danger"),void E(!0);const c=`${d}${a}`,n=new FormData;n.append("name",e),n.append("email",s),n.append("phone_number",c),n.append("ad_title",o),n.append("ad_description",b),n.append("ad_type",h),n.append("payment_method",f),n.append("duration_days",30),n.append("ad_file",x),n.append("payment_proof",O);try{await w((e=>async(t,s)=>{try{t({type:Fe}),console.log("Submitting ad to the server...");const{userLoginReducer:a}=s(),{userInfo:c}=a;if(!c)throw new Error("Please login to submit an ad");const r={headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${c.token||c.access}`},withCredentials:!0},{data:n}=await jt.a.post(`${vs}/ads/submit/`,e,r);console.log("Ad submission successful:",n),t({type:ze,payload:n})}catch(a){console.error("Ad submission failed:",a.response||a.message),t({type:Be,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}})(n))}catch(l){console.error("Submission error:",l)}},children:[Object(pt.jsxs)(Lt.a.Group,{controlId:"name",children:[Object(pt.jsx)(Lt.a.Label,{children:"Name"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"Enter your name",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"email",children:[Object(pt.jsx)(Lt.a.Label,{children:"Email Address"}),Object(pt.jsx)(Lt.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:e=>c(e.target.value),required:!0})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"phone",children:[Object(pt.jsx)(Lt.a.Label,{children:"Phone Number"}),Object(pt.jsxs)(yt.a,{children:[Object(pt.jsx)(vt.a,{xs:4,children:Object(pt.jsxs)(Lt.a.Control,{as:"select",value:d,onChange:e=>i(e.target.value),children:[Object(pt.jsx)("option",{value:"+255",children:"+255 (Tanzania)"}),Object(pt.jsx)("option",{value:"+254",children:"+254 (Kenya)"}),Object(pt.jsx)("option",{value:"+256",children:"+256 (Uganda)"})]})}),Object(pt.jsx)(vt.a,{xs:8,children:Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"Enter phone number",value:r,onChange:e=>l(e.target.value),required:!0})})]})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"adTitle",children:[Object(pt.jsx)(Lt.a.Label,{children:"Ad Title"}),Object(pt.jsx)(Lt.a.Control,{type:"text",placeholder:"Enter ad title",value:o,onChange:e=>j(e.target.value),required:!0})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"adDescription",children:[Object(pt.jsx)(Lt.a.Label,{children:"Ad Description"}),Object(pt.jsx)(Lt.a.Control,{as:"textarea",rows:3,placeholder:"Enter ad description",value:b,onChange:e=>u(e.target.value),required:!0})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"adType",children:[Object(pt.jsx)(Lt.a.Label,{children:"Ad Type"}),Object(pt.jsxs)(Lt.a.Control,{as:"select",value:h,onChange:e=>p(e.target.value),children:[Object(pt.jsx)("option",{value:"image",children:"Image"}),Object(pt.jsx)("option",{value:"video",children:"Video"})]})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"adFile",children:[Object(pt.jsx)(Lt.a.Label,{children:"Upload Ad File"}),Object(pt.jsx)("small",{className:"text-muted",children:"Advertisement should not Exceed More than 10 seconds and 15 MB"}),Object(pt.jsx)(Lt.a.File,{onChange:e=>m(e.target.files[0]),accept:"image"===h?"image/*":"video/*",required:!0})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"paymentInstructions",children:[Object(pt.jsx)(Lt.a.Label,{children:"Payment Instructions"}),Object(pt.jsx)("div",{className:"text-center",children:Object(pt.jsx)("img",{src:Es,alt:"Payment Instructions",className:"img-fluid"})})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"paymentMethod",children:[Object(pt.jsx)(Lt.a.Label,{children:"Payment Method"}),Object(pt.jsxs)(Lt.a.Control,{as:"select",value:f,onChange:e=>S(e.target.value),children:[Object(pt.jsx)("option",{value:"lipa_namba",children:"Lipa Namba"}),Object(pt.jsx)("option",{value:"other",children:"Other"})]}),"lipa_namba"===f&&Object(pt.jsx)("small",{className:"text-muted",children:"Please send payment to: 0712345678 (Example number)"})]}),Object(pt.jsxs)(Lt.a.Group,{controlId:"paymentProof",children:[Object(pt.jsx)(Lt.a.Label,{children:"Payment Proof (Screenshot)"}),Object(pt.jsx)(Lt.a.File,{onChange:e=>g(e.target.files[0]),accept:"image/*",required:!0})]}),Object(pt.jsx)(Lt.a.Group,{controlId:"agreement",children:Object(pt.jsx)(Lt.a.Check,{type:"checkbox",label:"I confirm that I have made the payment and the details above are correct.",checked:y,onChange:e=>v(e.target.checked),required:!0})}),Object(pt.jsx)(Ot.a,{variant:"primary",type:"submit",disabled:I||!y,className:"mb-5",children:I?Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)(gt.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Submitting..."]}):"Submit Ad"})]})]})})}),Object(pt.jsxs)(At.a,{show:C,onHide:()=>E(!1),centered:!0,children:[Object(pt.jsx)(At.a.Header,{closeButton:"success"!==R,children:Object(pt.jsx)(At.a.Title,{children:"success"===R?"Success":"Error"})}),Object(pt.jsxs)(At.a.Body,{children:[Object(pt.jsx)(ht.a,{variant:R,children:N}),"success"===R&&Object(pt.jsxs)("div",{className:"text-center mt-2",children:[Object(pt.jsx)(gt.a,{animation:"border",size:"sm"}),Object(pt.jsx)("p",{children:"Redirecting to home page..."})]})]}),"success"!==R&&Object(pt.jsx)(At.a.Footer,{children:Object(pt.jsx)(Ot.a,{variant:"secondary",onClick:()=>E(!1),children:"Close"})})]}),Object(pt.jsx)(Et,{})]}):Object(pt.jsx)(wt.a,{className:"text-center my-5",children:Object(pt.jsx)(gt.a,{animation:"border",role:"status",children:Object(pt.jsx)("span",{className:"sr-only",children:"Redirecting to login..."})})})};var _s=function(e){let{history:t}=e;const s=Object(n.b)(),c=Object(n.c)((e=>e.userLogin)),{userInfo:r}=c,l=Object(n.c)((e=>e.pendingAdsList)),{loading:d,error:i,pendingAds:o}=l,j=Object(n.c)((e=>e.adApproval)),{success:b}=j;Object(a.useEffect)((()=>{let e=!0;return e&&(r&&r.isAdmin||t.push("/login"),s(fs()),b&&(s({type:"AD_APPROVAL_RESET"}),s(fs()))),()=>{e=!1}}),[s,t,r,b]);const u=e=>{window.confirm("Are you sure you want to approve this ad?")&&s((e=>async(t,s)=>{try{t({type:qe});const s={headers:{"Content-Type":"application/json"}},{data:a}=await jt.a.put(`${vs}/ads/approve/${e}/`,{},s);t({type:He,payload:a})}catch(i){t({type:Me,payload:i.response&&i.response.data.detail?i.response.data.detail:i.message})}})(e))};return Object(pt.jsxs)(wt.a,{children:[Object(pt.jsx)(yt.a,{className:"align-items-center",children:Object(pt.jsx)(vt.a,{children:Object(pt.jsx)("h2",{className:"my-4",children:"Pending Ads for Approval"})})}),d?Object(pt.jsx)(gt.a,{animation:"border",role:"status",children:Object(pt.jsx)("span",{className:"sr-only",children:"Loading..."})}):i?Object(pt.jsx)(ht.a,{variant:"danger",children:i}):Object(pt.jsxs)(us.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(pt.jsx)("thead",{children:Object(pt.jsxs)("tr",{children:[Object(pt.jsx)("th",{children:"ID"}),Object(pt.jsx)("th",{children:"AD TITLE"}),Object(pt.jsx)("th",{children:"ADVERTISER"}),Object(pt.jsx)("th",{children:"EMAIL"}),Object(pt.jsx)("th",{children:"PHONE"}),Object(pt.jsx)("th",{children:"SUBMITTED"}),Object(pt.jsx)("th",{})]})}),Object(pt.jsx)("tbody",{children:o.map((e=>Object(pt.jsxs)("tr",{children:[Object(pt.jsx)("td",{children:e.id}),Object(pt.jsx)("td",{children:e.ad_title}),Object(pt.jsx)("td",{children:e.name}),Object(pt.jsx)("td",{children:Object(pt.jsx)("a",{href:`mailto:${e.email}`,children:e.email})}),Object(pt.jsx)("td",{children:Object(pt.jsx)("a",{href:`tel:${e.phone_number}`,children:e.phone_number})}),Object(pt.jsx)("td",{children:new Date(e.created_at).toLocaleDateString()}),Object(pt.jsx)("td",{children:Object(pt.jsx)(Ot.a,{variant:"success",className:"btn-sm",onClick:()=>u(e.id),children:"Approve"})})]},e.id)))})]}),Object(pt.jsx)(Et,{})]})},Rs=s(131);s(110);var As=function(){return Object(pt.jsxs)(wt.a,{className:"help-page py-5",children:[Object(pt.jsx)(yt.a,{className:"mb-5",children:Object(pt.jsxs)(vt.a,{lg:8,className:"mx-auto text-center",children:[Object(pt.jsx)("h1",{className:"display-4 mb-3",children:"Help Center"}),Object(pt.jsx)("p",{className:"lead text-muted",children:"We're here to help you with any questions or issues"})]})}),Object(pt.jsxs)(yt.a,{className:"mb-5",children:[Object(pt.jsx)(vt.a,{lg:6,className:"mb-4",children:Object(pt.jsx)(ft.a,{className:"h-100 shadow-sm border-0",children:Object(pt.jsxs)(ft.a.Body,{className:"p-4",children:[Object(pt.jsx)("div",{className:"icon-wrapper bg-primary-light mb-4",children:Object(pt.jsx)(Ct.l,{className:"text-primary",size:24})}),Object(pt.jsx)("h3",{className:"mb-4",children:"Contact Support"}),Object(pt.jsx)(Rs.a,{variant:"flush",children:[{number:"+255613509299",type:"phone"},{number:"+255699183448",type:"whatsapp"},{number:"+255767007987",type:"phone"}].map(((e,t)=>Object(pt.jsx)(Rs.a.Item,{className:"border-0 px-0",children:Object(pt.jsxs)("div",{className:"d-flex align-items-center",children:["whatsapp"===e.type?Object(pt.jsx)(Ct.q,{className:"text-success mr-3",size:20}):Object(pt.jsx)(Ct.l,{className:"text-primary mr-3",size:20}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h5",{className:"mb-0",children:e.number}),Object(pt.jsx)("small",{className:"text-muted",children:"whatsapp"===e.type?"WhatsApp Available":"Call Us"})]}),Object(pt.jsx)(Ot.a,{variant:"link",href:`tel:${e.number}`,className:"ml-auto",children:"Call Now"})]})},t)))})]})})}),Object(pt.jsx)(vt.a,{lg:6,className:"mb-4",children:Object(pt.jsx)(ft.a,{className:"h-100 shadow-sm border-0",children:Object(pt.jsxs)(ft.a.Body,{className:"p-4",children:[Object(pt.jsx)("div",{className:"icon-wrapper bg-primary-light mb-4",children:Object(pt.jsx)(Ct.i,{className:"text-primary",size:24})}),Object(pt.jsx)("h3",{className:"mb-4",children:"Technical Support"}),Object(pt.jsxs)("div",{className:"mb-4",children:[Object(pt.jsxs)("h5",{className:"d-flex align-items-center",children:[Object(pt.jsx)(Ct.l,{className:"text-primary mr-3",size:20}),Object(pt.jsx)("span",{children:"+255620148031"})]}),Object(pt.jsx)("p",{className:"text-muted",children:"Available for technical issues and platform support"})]}),Object(pt.jsxs)("div",{children:[Object(pt.jsxs)("h5",{className:"d-flex align-items-center mb-3",children:[Object(pt.jsx)(Ct.i,{className:"text-primary mr-3",size:20}),Object(pt.jsx)("span",{children:"support@brkluxe.com"})]}),Object(pt.jsx)(Ot.a,{variant:"primary",href:"mailto:support@brkluxe.com",className:"w-100",children:"Email Support"})]})]})})})]}),Object(pt.jsx)(yt.a,{children:Object(pt.jsx)(vt.a,{lg:8,className:"mx-auto",children:Object(pt.jsx)(ft.a,{className:"border-0 shadow-sm",children:Object(pt.jsx)(ft.a.Body,{className:"p-4",children:Object(pt.jsxs)("div",{className:"d-flex align-items-center",children:[Object(pt.jsx)("div",{className:"icon-wrapper bg-primary-light mr-4",children:Object(pt.jsx)(Ct.g,{className:"text-primary",size:24})}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h3",{className:"mb-2",children:"Operating Hours"}),Object(pt.jsxs)("p",{className:"mb-1",children:[Object(pt.jsx)("strong",{children:"Monday - Friday:"})," 8:00 AM - 8:00 PM"]}),Object(pt.jsxs)("p",{className:"mb-1",children:[Object(pt.jsx)("strong",{children:"Saturday:"})," 9:00 AM - 6:00 PM"]}),Object(pt.jsxs)("p",{className:"mb-0",children:[Object(pt.jsx)("strong",{children:"Sunday:"})," 10:00 AM - 4:00 PM"]})]})]})})})})}),Object(pt.jsx)(Et,{})," "]})};s(111);var ws=function(){return Object(pt.jsxs)(wt.a,{className:"about-page py-5",children:[Object(pt.jsx)(yt.a,{className:"mb-5",children:Object(pt.jsxs)(vt.a,{lg:8,className:"mx-auto text-center",children:[Object(pt.jsx)("h1",{className:"display-4 mb-4",children:"About BRK_LUXE"}),Object(pt.jsx)("p",{className:"lead text-muted",children:"Redefining your shopping experience with quality and convenience"})]})}),Object(pt.jsxs)(yt.a,{className:"mb-5 align-items-center",children:[Object(pt.jsx)(vt.a,{lg:6,className:"mb-4 mb-lg-0",children:Object(pt.jsx)("div",{className:"about-image rounded-lg overflow-hidden shadow",children:Object(pt.jsx)("img",{src:Zt,alt:"BRK_LUXE Team",className:"img-fluid"})})}),Object(pt.jsxs)(vt.a,{lg:6,children:[Object(pt.jsx)("h2",{className:"mb-4",children:"Our Story"}),Object(pt.jsx)("p",{className:"mb-4",children:"Founded in 2025, BRK_LUXE Free Market began with a simple mission: to make shopping easy, convenient, and enjoyable for everyone in Tanzania. We believe in offering top-quality items at fair prices, with a focus on customer satisfaction and excellent service."}),Object(pt.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(pt.jsx)(Ct.n,{className:"text-primary mr-3",size:24}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h5",{className:"mb-0",children:"Wide Selection"}),Object(pt.jsx)("p",{className:"text-muted mb-0",children:"Thousands of quality products"})]})]}),Object(pt.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(pt.jsx)(Ct.o,{className:"text-primary mr-3",size:24}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h5",{className:"mb-0",children:"Customer First"}),Object(pt.jsx)("p",{className:"text-muted mb-0",children:"Your satisfaction is our priority"})]})]}),Object(pt.jsxs)("div",{className:"d-flex align-items-center",children:[Object(pt.jsx)(Ct.j,{className:"text-primary mr-3",size:24}),Object(pt.jsxs)("div",{children:[Object(pt.jsx)("h5",{className:"mb-0",children:"24/7 Support"}),Object(pt.jsx)("p",{className:"text-muted mb-0",children:"We're always here to help"})]})]})]})]}),Object(pt.jsx)(yt.a,{className:"mb-5",children:Object(pt.jsx)(vt.a,{className:"text-center",children:Object(pt.jsx)(ft.a,{className:"border-0 shadow-sm py-4",children:Object(pt.jsxs)(ft.a.Body,{children:[Object(pt.jsx)("h3",{className:"mb-4",children:"Meet The Founder"}),Object(pt.jsx)(yt.a,{className:"justify-content-center",children:Object(pt.jsx)(vt.a,{md:6,className:"mb-4",children:Object(pt.jsxs)("div",{className:"team-member",children:[Object(pt.jsx)("h5",{children:"Boniventure Richard Kisse"}),Object(pt.jsx)("p",{className:"text-muted",children:"Founder"})]})})})]})})})}),Object(pt.jsx)(yt.a,{children:Object(pt.jsx)(vt.a,{className:"text-center",children:Object(pt.jsxs)("div",{className:"social-links",children:[Object(pt.jsx)("h4",{className:"mb-4",children:"Connect With Us"}),Object(pt.jsxs)("a",{href:"https://instagram.com/brk_luxe_free_market",className:"btn btn-outline-primary mx-2",children:[Object(pt.jsx)("i",{className:"fab fa-instagram"})," @brk_luxe_free_market"]})]})})}),Object(pt.jsx)(Et,{})," "]})};var Ls=function(){console.log("Rendering OrderNowPage...");const[e,t]=Object(a.useState)({name:"",region:"",district:"",ward:"",street:""}),[s,c]=Object(a.useState)(!1);console.log("Initial formData:",e);const r=Object(it.l)(),l=Object(it.k)(),d=Object(n.b)(),{userInfo:i,loading:o}=Object(n.c)((e=>e.userLoginReducer||{}));console.log("User info:",i);const j=new URLSearchParams(r.search),b=j.get("name")||"Product",u=j.get("price")||"0",h=j.get("supplier")||"Unknown Supplier",p=j.get("whatsapp")||"No Number";console.log("Product details from URL:",{productName:b,productPrice:u,supplierName:h,whatsappLink:p});const x=e=>{const{id:s,value:a}=e.target;console.log(`Field changed: ${s}, Value: ${a}`),t((e=>({...e,[s]:a})))};return Object(pt.jsxs)(wt.a,{className:"py-4",children:[Object(pt.jsxs)("div",{className:"mx-auto",style:{maxWidth:"600px"},children:[Object(pt.jsx)("h2",{className:"text-center mb-4",children:"Complete Your Order"}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("strong",{children:"Product:"})," ",b]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("strong",{children:"Price:"})," Tsh ",u]}),Object(pt.jsxs)("p",{children:[Object(pt.jsx)("strong",{children:"Supplier:"})," ",h]}),s&&Object(pt.jsx)(ht.a,{variant:"success",className:"text-center",children:"Redirecting to WhatsApp..."}),Object(pt.jsxs)(Lt.a,{onSubmit:t=>{if(t.preventDefault(),console.log("Form submitted with formData:",e),!o&&(!i||!i.id))return console.log("User not authenticated. Redirecting to login..."),void l.push(`/login?redirect=/order-now${r.search}`);const s=j.get("qty")||1,a=j.get("product");console.log("Order details:",{quantity:s,productId:a});const n=`\ud83d\udce6 *NEW ORDER REQUEST* \ud83d\udce6\n\n            \ud83d\udecd\ufe0f *Product Details*\n            \u25ab\ufe0f *Product:* ${b}\n            \u25ab\ufe0f *Price:* Tsh ${Number(u).toLocaleString()}\n            \u25ab\ufe0f *Quantity:* ${s}\n\n            \ud83d\udc64 *Customer Information*\n            \u25ab\ufe0f *Name:* ${e.name}\n\n            \ud83d\udccd *Delivery Location*\n            \ud83c\udfd9\ufe0f *Region:* ${e.region}\n            \ud83c\udfd8\ufe0f *District:* ${e.district}\n            \ud83c\udfe1 *Ward:* ${e.ward}\n            \ud83d\udcee *Street:* ${e.street}\n\n            \ud83d\udcdd *Additional Notes*\n            Please confirm this order at your earliest convenience.\n            Thank you! \ud83d\ude4f\n            \n            Powered by brk_luxe free market`,h=encodeURIComponent(n);console.log("Formatted Order Message:",n),console.log("Encoded WhatsApp Message:",h);const x=p?`${p}?text=${h}`:`https://wa.me/255123456789?text=${h}`;console.log("WhatsApp URL:",x);try{window.open(x,"_blank"),console.log("WhatsApp opened successfully.")}catch(O){console.error("Failed to open WhatsApp:",O)}try{d((m={...e,user:i.id,product:a,quantity:s,whatsapp_message:h},async(e,t)=>{try{e({type:Ze});const{userLoginReducer:{userInfo:s}}=t();if(!s||!s.token)throw new Error("Authentication required");const a={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}},{user:c,...r}=m,n={...r,ordered_at:(new Date).toISOString(),status:"pending"};console.log("Final order data:",n);const{data:l}=await jt.a.post("https://api.luxefreemarket.com/api/orders/request/",n,a);return e({type:et,payload:l}),l}catch(O){var s,a,c,r,n;console.error("Order creation failed:",{message:O.message,response:null===(s=O.response)||void 0===s?void 0:s.data});const l=(null===(a=O.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.error)||(null===(r=O.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||O.message||"Failed to create order";throw e({type:tt,payload:l}),O}})),console.log("Order request dispatched successfully.")}catch(O){console.error("Failed to dispatch order request:",O)}var m;c(!0),console.log("Show success alert set to true.")},className:"border p-4 rounded-3 shadow-sm bg-white",children:[Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:"Full Name"}),Object(pt.jsx)(Lt.a.Control,{id:"name",type:"text",value:e.name,onChange:x,required:!0,placeholder:"John Doe"})]}),Object(pt.jsx)("h5",{className:"mt-4 mb-3",children:"Delivery Details"}),Object(pt.jsxs)("div",{className:"row g-3",children:[Object(pt.jsx)("div",{className:"col-md-6",children:Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:"Region"}),Object(pt.jsx)(Lt.a.Control,{id:"region",type:"text",value:e.region,onChange:x,required:!0,placeholder:"Dar es Salaam"})]})}),Object(pt.jsx)("div",{className:"col-md-6",children:Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:"District"}),Object(pt.jsx)(Lt.a.Control,{id:"district",type:"text",value:e.district,onChange:x,required:!0,placeholder:"Ilala"})]})}),Object(pt.jsx)("div",{className:"col-md-6",children:Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:"Ward"}),Object(pt.jsx)(Lt.a.Control,{id:"ward",type:"text",value:e.ward,onChange:x,required:!0,placeholder:"Kariakoo"})]})}),Object(pt.jsx)("div",{className:"col-md-6",children:Object(pt.jsxs)(Lt.a.Group,{className:"mb-3",children:[Object(pt.jsx)(Lt.a.Label,{children:"Street/House"}),Object(pt.jsx)(Lt.a.Control,{id:"street",type:"text",value:e.street,onChange:x,required:!0,placeholder:"Maktaba St, House No."})]})})]}),Object(pt.jsxs)(Ot.a,{variant:"success",type:"submit",size:"lg",className:"w-100 mt-3 py-2",children:[Object(pt.jsx)("i",{className:"fab fa-whatsapp me-2"}),"Send Order via WhatsApp"]})]})]}),Object(pt.jsx)(Et,{})," "]})};var ks=function(){let e=Object(it.k)();const[t,s]=Object(a.useState)("");return Object(pt.jsx)("div",{children:Object(pt.jsx)("form",{onSubmit:s=>{s.preventDefault(),t&&e.push(`/?searchTerm=${t}`)},children:Object(pt.jsxs)("span",{style:{display:"flex"},className:"",children:[Object(pt.jsx)("input",{type:"text",value:t,placeholder:"search products",className:"form-control",onChange:e=>s(e.target.value)}),Object(pt.jsx)("button",{type:"submit",className:"btn btn-primary ml-2 button-focus-css",children:Object(pt.jsx)("i",{className:"fas fa-search"})})]})})})};var Is=function(){return Object(pt.jsx)("div",{className:"container mt-4",children:Object(pt.jsx)("div",{className:"row justify-content-center",children:Object(pt.jsxs)("div",{className:"col-md-8",children:[Object(pt.jsx)("h2",{className:"mb-4",children:"Search Products"}),Object(pt.jsx)(ks,{})]})})})};var Ds=()=>Object(pt.jsx)("div",{children:Object(pt.jsxs)(dt.BrowserRouter,{children:[Object(pt.jsx)(es,{}),Object(pt.jsx)(Ss,{}),Object(pt.jsx)("div",{className:"container mt-4",children:Object(pt.jsxs)(it.g,{children:[Object(pt.jsx)(it.d,{path:"/",component:Rt,exact:!0}),Object(pt.jsx)(it.d,{path:"/new-product/",component:Os,exact:!0}),Object(pt.jsx)(it.d,{path:"/product/:id/",component:kt,exact:!0}),Object(pt.jsx)(it.d,{path:"/product-update/:id/",component:gs,exact:!0}),Object(pt.jsx)(it.d,{path:"/product/:id/checkout/",component:Xt,exact:!0}),Object(pt.jsx)(it.d,{path:"/payment-status",component:ts,exact:!0}),Object(pt.jsx)(it.d,{path:"/login",component:ss,exact:!0}),Object(pt.jsx)(it.d,{path:"/register",component:as,exact:!0}),Object(pt.jsx)(it.d,{path:"/account",component:ns,exact:!0}),Object(pt.jsx)(it.d,{path:"/account/update/",component:ls,exact:!0}),Object(pt.jsx)(it.d,{path:"/account/delete/",component:ds,exact:!0}),Object(pt.jsx)(it.d,{path:"/stripe-card-details",component:rs,exact:!0}),Object(pt.jsx)(it.d,{path:"/stripe-card-update",component:cs,exact:!0}),Object(pt.jsx)(it.d,{path:"/all-addresses/",component:js,exact:!0}),Object(pt.jsx)(it.d,{path:"/all-addresses/:id/",component:bs,exact:!0}),Object(pt.jsx)(it.d,{path:"/all-orders/",component:xs,exact:!0}),Object(pt.jsx)(it.d,{path:"/advertise",component:Cs,exact:!0}),Object(pt.jsx)(it.d,{path:"/ad-submission",component:Ns,exact:!0}),Object(pt.jsx)(it.d,{path:"/ad-approval",component:_s,exact:!0}),Object(pt.jsx)(it.d,{path:"/help",component:As,exact:!0}),Object(pt.jsx)(it.d,{path:"/about",component:ws,exact:!0}),Object(pt.jsx)(it.d,{path:"/order-now",component:Ls,exact:!0}),Object(pt.jsx)(it.d,{path:"/search",component:Is,exact:!0}),Object(pt.jsx)(it.d,{path:"",component:ys,exact:!0})]})})]})});s(112);r.a.render(Object(pt.jsx)(n.a,{store:lt,children:Object(pt.jsx)(Ds,{})}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.bb8161c0.chunk.js.map